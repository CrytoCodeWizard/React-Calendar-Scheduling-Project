const t="config.plugin.ItemTypes",i="config.templates.chart-timeline-items-row-item",e={task({className:t,labelClassName:i,detach:e,actions:s,styleMap:a,slots:n,cutterLeft:l,cutterRight:o,getContent:h,vido:p,props:c}){const{itemData:r,item:$}=c,g=r.position.left!==r.position.actualLeft,d=r.position.right!==r.position.actualRight,u=r.actualWidth,m=r.actualHeight,L=Math.min(8,m/2);let f=[`M ${L} ${m}`,`Q 0 ${m} 0 ${m-L}`,"L 0 "+L,`Q 0 0 ${L} 0`,`L ${u-L} 0`,`Q ${u} 0 ${u} ${L}`,`L ${u} ${m-L}`,`Q ${u} ${m} ${u-L} ${m}`,`L ${L} ${m}`].join(" ");g&&!d?f=["M 0 0",`L ${u-L} 0`,`Q ${u} 0 ${u} ${L}`,`L ${u} ${m-L}`,`Q ${u} ${m} ${u-L} ${m}`,"L 0 "+m].join(" "):g&&d?f=["M 0 0",`L ${u} 0`,`L ${u} ${m}`,"L 0 "+m].join(" "):!g&&d&&(f=[`M ${L} ${m}`,`Q 0 ${m} 0 ${m-L}`,"L 0 "+L,`Q 0 0 ${L} 0`,`L ${u} 0`,`L ${u} ${m}`,`L ${L} ${m}`].join(" "));const y="gstc__clip-path-"+$.id,w="gstc__pattern-"+$.id,_=void 0===$.progress?100:$.progress,v=r.width-r.width/100*_;let b=r.width-v;g&&(b+=r.position.left),b<0&&(b=0);const j=[`M ${b} 0`,`L ${u} 0`,`L ${u} ${m}`,`L ${b} ${m}`].join(" "),H=$.fill?$.fill:"#e74c3c",M=`gstc__item-type gstc__item-type--${$.type} `,x=u>=0?p.svg`<svg width=${u} height=${r.actualHeight} xmlns="http://www.w3.org/2000/svg">
          <defs>
            <clipPath id=${y}>
              <path d=${f}></path>
            </clipPath>
            <pattern
              id=${w}
              width="20"
              height="20"
              patternTransform="rotate(45 0 0)"
              patternUnits="userSpaceOnUse"
            >
              <line
                class="gstc__item-type-progress-line"
                x1="0"
                y1="0"
                x2="0"
                y2="20"
              />
            </pattern>
          </defs>
          <path d=${f} fill=${H} />
          <path
            class="gstc__item-type-progress"
            clip-path="url(#${y})"
            d=${j}
            style="fill: url('#${w}');" />
          <foreignObject x="0" y="0" width="100%" height="100%">
            <div class="gstc__item-type-content">
              <div class=${M+i} xmlns="http://www.w3.org/1999/xhtml">${h()}</div>
            </div>
          </foreignObject>
        </svg>`:null;return a.style.background="transparent",a.style["border-radius"]="0",n.html("outer",p.html`
        <div detach=${e} class=${M+t} data-actions=${s} style=${a}>
          ${n.html("inner",x)}
        </div>
      `)},milestone({className:t,labelClassName:i,detach:e,actions:s,styleMap:a,slots:n,cutterLeft:l,cutterRight:o,getContent:h,vido:p,props:c}){const{itemData:r,item:$}=c,g=16,d=r.actualWidth,u=r.actualHeight,m=r.position.left!==r.position.actualLeft,L=r.position.right!==r.position.actualRight;let f=["M 0 "+r.actualHeight/2,`L ${d>=32?g:d/2} 0`,`L ${d>=32?d-g:d/2} 0`,`L ${d} ${r.actualHeight/2}`,`L ${d>=32?d-g:d/2} ${r.actualHeight}`,`L ${d>=32?g:d/2} ${r.actualHeight}`,"L 0 "+r.actualHeight/2].join(" ");m&&!L?f=["M 0 0",`L ${d>=32?d-g:d/2} 0`,`L ${d} ${r.actualHeight/2}`,`L ${d>=32?d-g:d/2} ${r.actualHeight}`,"L 0 "+u].join(" "):m&&L?f=["M 0 0",`L ${d} 0`,`L ${d} ${u}`,"L 0 "+u].join(" "):!m&&L&&(f=["M 0 "+r.actualHeight/2,`L ${d>=32?g:d/2} 0`,`L ${d} 0`,`L ${d} ${u}`,`L ${d>=32?g:d/2} ${r.actualHeight}`,"L 0 "+r.actualHeight/2].join(" "));const y="gstc__clip-path-"+$.id,w="gstc__pattern-"+$.id,_=void 0===$.progress?100:$.progress,v=r.width-r.width/100*_;let b=r.width-v;m&&(b+=r.position.left),b<0&&(b=0);const j=[`M ${d} 0`,`L ${d} ${u}`,`L ${b} ${u}`,`L ${b} 0`].join(" "),H=$.fill?$.fill:"#e74c3c",M=`gstc__item-type gstc__item-type--${$.type} `,x=d>=0?p.svg`<svg width=${d} height=${r.actualHeight} xmlns="http://www.w3.org/2000/svg">
          <defs>
            <clipPath id=${y}>
              <path d=${f}></path>
            </clipPath>
            <pattern
              id=${w}
              width="20"
              height="20"
              patternTransform="rotate(45 0 0)"
              patternUnits="userSpaceOnUse"
            >
              <line
                class="gstc__item-type-progress-line"
                x1="0"
                y1="0"
                x2="0"
                y2="20"
              />
            </pattern>
          </defs>
          <path d=${f} stroke="none" fill=${H} />
          <path
            class="gstc__item-type-progress"
            clip-path="url(#${y})"
            d=${j}
            style="fill: url('#${w}');" />
          <foreignObject x="0" y="0" width="100%" height="100%">
            <div class="gstc__item-type-content">
              <div class=${M+i} xmlns="http://www.w3.org/1999/xhtml">${h()}</div>
            </div>
          </foreignObject>
        </svg>`:null;return a.style.background="transparent",a.style["border-radius"]="0",n.html("outer",p.html`
        <div detach=${e} class=${M+t} data-actions=${s} style=${a}>
          ${n.html("inner",x)}
        </div>
      `)},project({className:t,labelClassName:i,detach:e,actions:s,styleMap:a,slots:n,cutterLeft:l,cutterRight:o,getContent:h,vido:p,props:c}){const{itemData:r,item:$}=c,g=r.actualWidth,d=r.actualHeight,u=r.position.left!==r.position.actualLeft,m=["M 0 0",`L ${g} 0`,`L ${g} ${d}`,"L 0 "+d].join(" "),L="gstc__clip-path-"+$.id,f="gstc__pattern-"+$.id,y=void 0===$.progress?100:$.progress,w=r.width-r.width/100*y;let _=r.width-w;u&&(_+=r.position.left),_<0&&(_=0);const v=[`M ${g} 0`,`L ${g} ${d}`,`L ${_} ${d}`,`L ${_} 0`].join(" "),b=$.fill?$.fill:"#e74c3c",j=`gstc__item-type gstc__item-type--${$.type} `,H=g>=0?p.svg`<svg width=${g} height=${r.actualHeight} xmlns="http://www.w3.org/2000/svg">
          <defs>
            <clipPath id=${L}>
              <path d=${m}></path>
            </clipPath>
            <pattern
              id=${f}
              width="20"
              height="20"
              patternTransform="rotate(45 0 0)"
              patternUnits="userSpaceOnUse"
            >
              <line
                class="gstc__item-type-progress-line"
                x1="0"
                y1="0"
                x2="0"
                y2="20"
              />
            </pattern>
          </defs>
          <path d=${m} fill=${b} />
          <path
            class="gstc__item-type-progress"
            clip-path="url(#${L})"
            d=${v}
            style="fill: url('#${f}');" />
          <foreignObject x="0" y="0" width="100%" height="100%">
            <div class=${j+i} xmlns="http://www.w3.org/1999/xhtml">${h()}</div>
          </foreignObject>
        </svg>`:null;return a.style.background="transparent",a.style["border-radius"]="0",n.html("outer",p.html`
        <div detach=${e} class=${j+t} data-actions=${s} style=${a}>
          ${n.html("inner",H)}
        </div>
      `)}};class s{constructor(s,a){this.unsub=[],this.options=function(t){return Object.assign(Object.assign({},e),t)}(s),this.vido=a,this.state=a.state,this.api=a.api,this.componentTemplate=this.componentTemplate.bind(this),this.state.update(t,this.options),this.state.update(i,()=>this.componentTemplate),this.itemResizing=this.state.get("config.plugin.ItemResizing"),this.itemResizing&&(this.itemResizingOutside=this.itemResizing.handle.outside,this.outsideHorizontalMargin=this.itemResizing.handle.outsideHorizontalMargin,this.state.update("config.plugin.ItemResizing",t=>(t.handle.outside=!0,t.handle.outsideHorizontalMargin=3,t))),this.unsub.push(this.state.subscribe(t,t=>this.options=t)),this.api.pluginInitialized("ItemTypes")}destroy(){this.unsub.forEach(t=>t()),this.state.update(i,null),this.itemResizing&&this.state.update("config.plugin.ItemResizing",t=>(t.handle.outside=this.itemResizingOutside,t.handle.outsideHorizontalMargin=this.outsideHorizontalMargin,t)),this.vido.api.pluginDestroyed("ItemTypes")}componentTemplate(t){return this.options[t.props.item.type](t)}}function a(i={}){return function(e){const a=e.state.get(t);a&&(i=e.api.mergeDeep({},i,a));return new s(i,e).destroy}}export{a as Plugin,t as pluginPath,i as templatePath};
