!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).TimeBookmarks={})}(this,(function(t){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;!function(t,e){t.exports=function(){var t=1e3,e=6e4,s=36e5,i="millisecond",n="second",r="minute",o="hour",a="day",l="week",h="month",u="quarter",c="year",d="date",f="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,s){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(s)+t},g={s:m,z:function(t){var e=-t.utcOffset(),s=Math.abs(e),i=Math.floor(s/60),n=s%60;return(e<=0?"+":"-")+m(i,2,"0")+":"+m(n,2,"0")},m:function t(e,s){if(e.date()<s.date())return-t(s,e);var i=12*(s.year()-e.year())+(s.month()-e.month()),n=e.clone().add(i,h),r=s-n<0,o=e.clone().add(i+(r?-1:1),h);return+(-(i+(s-n)/(r?n-o:o-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:h,y:c,w:l,d:a,D:d,h:o,m:r,s:n,ms:i,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",A={};A[_]=v;var y=function(t){return t instanceof S},b=function(t,e,s){var i;if(!t)return _;if("string"==typeof t)A[t]&&(i=t),e&&(A[t]=e,i=t);else{var n=t.name;A[n]=t,i=n}return!s&&i&&(_=i),i||!s&&_},M=function(t,e){if(y(t))return t.clone();var s="object"==typeof e?e:{};return s.date=t,s.args=arguments,new S(s)},D=g;D.l=b,D.i=y,D.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function v(t){this.$L=b(t.locale,null,!0),this.parse(t)}var m=v.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,s=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match($);if(i){var n=i[2]-1||0,r=(i[7]||"0").substring(0,3);return s?new Date(Date.UTC(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return D},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var s=M(t);return this.startOf(e)<=s&&s<=this.endOf(e)},m.isAfter=function(t,e){return M(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<M(t)},m.$g=function(t,e,s){return D.u(t)?this[e]:this.set(s,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var s=this,i=!!D.u(e)||e,u=D.p(t),f=function(t,e){var n=D.w(s.$u?Date.UTC(s.$y,e,t):new Date(s.$y,e,t),s);return i?n:n.endOf(a)},$=function(t,e){return D.w(s.toDate()[t].apply(s.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),s)},p=this.$W,v=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(u){case c:return i?f(1,0):f(31,11);case h:return i?f(1,v):f(0,v+1);case l:var _=this.$locale().weekStart||0,A=(p<_?p+7:p)-_;return f(i?m-A:m+(6-A),v);case a:case d:return $(g+"Hours",0);case o:return $(g+"Minutes",1);case r:return $(g+"Seconds",2);case n:return $(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var s,l=D.p(t),u="set"+(this.$u?"UTC":""),f=(s={},s[a]=u+"Date",s[d]=u+"Date",s[h]=u+"Month",s[c]=u+"FullYear",s[o]=u+"Hours",s[r]=u+"Minutes",s[n]=u+"Seconds",s[i]=u+"Milliseconds",s)[l],$=l===a?this.$D+(e-this.$W):e;if(l===h||l===c){var p=this.clone().set(d,1);p.$d[f]($),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[D.p(t)]()},m.add=function(i,u){var d,f=this;i=Number(i);var $=D.p(u),p=function(t){var e=M(f);return D.w(e.date(e.date()+Math.round(t*i)),f)};if($===h)return this.set(h,this.$M+i);if($===c)return this.set(c,this.$y+i);if($===a)return p(1);if($===l)return p(7);var v=(d={},d[r]=e,d[o]=s,d[n]=t,d)[$]||1,m=this.$d.getTime()+i*v;return D.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,s=this.$locale();if(!this.isValid())return s.invalidDate||f;var i=t||"YYYY-MM-DDTHH:mm:ssZ",n=D.z(this),r=this.$H,o=this.$m,a=this.$M,l=s.weekdays,h=s.months,u=function(t,s,n,r){return t&&(t[s]||t(e,i))||n[s].substr(0,r)},c=function(t){return D.s(r%12||12,t,"0")},d=s.meridiem||function(t,e,s){var i=t<12?"AM":"PM";return s?i.toLowerCase():i},$={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:D.s(a+1,2,"0"),MMM:u(s.monthsShort,a,h,3),MMMM:u(h,a),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:u(s.weekdaysMin,this.$W,l,2),ddd:u(s.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:D.s(r,2,"0"),h:c(1),hh:c(2),a:d(r,o,!0),A:d(r,o,!1),m:String(o),mm:D.s(o,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:n};return i.replace(p,(function(t,e){return e||$[t]||n.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,d,f){var $,p=D.p(d),v=M(i),m=(v.utcOffset()-this.utcOffset())*e,g=this-v,_=D.m(this,v);return _=($={},$[c]=_/12,$[h]=_,$[u]=_/3,$[l]=(g-m)/6048e5,$[a]=(g-m)/864e5,$[o]=g/s,$[r]=g/e,$[n]=g/t,$)[p]||g,f?_:D.a(_)},m.daysInMonth=function(){return this.endOf(h).$D},m.$locale=function(){return A[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var s=this.clone(),i=b(t,e,!0);return i&&(s.$L=i),s},m.clone=function(){return D.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},v}(),x=S.prototype;return M.prototype=x,[["$ms",i],["$s",n],["$m",r],["$H",o],["$W",a],["$M",h],["$y",c],["$D",d]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,S,M),t.$i=!0),M},M.locale=b,M.isDayjs=y,M.unix=function(t){return M(1e3*t)},M.en=A[_],M.Ls=A,M.p={},M}()}({exports:{}});var e;!function(t,e){t.exports=function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,n,r){var o=n.prototype;r.utc=function(t){return new n({date:t,utc:!0,args:arguments})},o.utc=function(e){var s=r(this.toDate(),{locale:this.$L,utc:!0});return e?s.add(this.utcOffset(),t):s},o.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var a=o.parse;o.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),a.call(this,t)};var l=o.init;o.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else l.call(this)};var h=o.utcOffset;o.utcOffset=function(i,n){var r=this.$utils().u;if(r(i))return this.$u?0:r(this.$offset)?h.call(this):this.$offset;if("string"==typeof i&&null===(i=function(t){void 0===t&&(t="");var i=t.match(e);if(!i)return null;var n=(""+i[0]).match(s)||["-",0,0],r=n[0],o=60*+n[1]+ +n[2];return 0===o?0:"+"===r?o:-o}(i)))return this;var o=Math.abs(i)<=16?60*i:i,a=this;if(n)return a.$offset=o,a.$u=0===i,a;if(0!==i){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(o+l,t)).$offset=o,a.$x.$localOffset=l}else a=this.utc();return a};var u=o.format;o.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,e)},o.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var c=o.toDate;o.toDate=function(t){return"s"===t&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var d=o.diff;o.diff=function(t,e,s){if(t&&this.$u===t.$u)return d.call(this,t,e,s);var i=this.local(),n=r(t).local();return d.call(i,n,e,s)}}}()}({exports:{}});new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return`gstcid-${t}`}isGSTCID(t){return t.startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substr(7):t}};const s=globalThis.trustedTypes,i=s?s.createPolicy("lit-html",{createHTML:t=>t}):void 0,n=`lit$${(Math.random()+"").slice(9)}$`,r="?"+n,o=`<${r}>`,a=document,l=(t="")=>a.createComment(t),h=t=>null===t||"object"!=typeof t&&"function"!=typeof t,u=Array.isArray,c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,d=/-->/g,f=/>/g,$=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,p=/'/g,v=/"/g,m=/^(?:script|style|textarea)$/i,g=Symbol.for("lit-noChange"),_=Symbol.for("lit-nothing"),A=new WeakMap,y=a.createTreeWalker(a,129,null,!1);class b{constructor({strings:t,_$litType$:e},a){let h;this.parts=[];let u=0,g=0;const _=t.length-1,A=this.parts,[M,D]=((t,e)=>{const s=t.length-1,r=[];let a,l=2===e?"<svg>":"",h=c;for(let e=0;e<s;e++){const s=t[e];let i,u,g=-1,_=0;for(;_<s.length&&(h.lastIndex=_,u=h.exec(s),null!==u);)_=h.lastIndex,h===c?"!--"===u[1]?h=d:void 0!==u[1]?h=f:void 0!==u[2]?(m.test(u[2])&&(a=RegExp("</"+u[2],"g")),h=$):void 0!==u[3]&&(h=$):h===$?">"===u[0]?(h=null!=a?a:c,g=-1):void 0===u[1]?g=-2:(g=h.lastIndex-u[2].length,i=u[1],h=void 0===u[3]?$:'"'===u[3]?v:p):h===v||h===p?h=$:h===d||h===f?h=c:(h=$,a=void 0);const A=h===$&&t[e+1].startsWith("/>")?" ":"";l+=h===c?s+o:g>=0?(r.push(i),s.slice(0,g)+"$lit$"+s.slice(g)+n+A):s+n+(-2===g?(r.push(void 0),e):A)}const u=l+(t[s]||"<?>")+(2===e?"</svg>":"");return[void 0!==i?i.createHTML(u):u,r]})(t,e);if(this.el=b.createElement(M,a),y.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(h=y.nextNode())&&A.length<_;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const e of h.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(n)){const s=D[g++];if(t.push(e),void 0!==s){const t=h.getAttribute(s.toLowerCase()+"$lit$").split(n),e=/([.?@])?(.*)/.exec(s);A.push({type:1,index:u,name:e[2],strings:t,ctor:"."===e[1]?T:"?"===e[1]?w:"@"===e[1]?H:x})}else A.push({type:6,index:u})}for(const e of t)h.removeAttribute(e)}if(m.test(h.tagName)){const t=h.textContent.split(n),e=t.length-1;if(e>0){h.textContent=s?s.emptyScript:"";for(let s=0;s<e;s++)h.append(t[s],l()),y.nextNode(),A.push({type:2,index:++u});h.append(t[e],l())}}}else if(8===h.nodeType)if(h.data===r)A.push({type:2,index:u});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)A.push({type:7,index:u}),t+=n.length-1}u++}}static createElement(t,e){const s=a.createElement("template");return s.innerHTML=t,s}}function M(t,e,s=t,i){var n,r,o,a;if(e===g)return e;let l=void 0!==i?null===(n=s._$Cl)||void 0===n?void 0:n[i]:s._$Cu;const u=h(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==u&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===u?l=void 0:(l=new u(t),l._$AT(t,s,i)),void 0!==i?(null!==(o=(a=s)._$Cl)&&void 0!==o?o:a._$Cl=[])[i]=l:s._$Cu=l),void 0!==l&&(e=M(t,l._$AS(t,e.values),l,i)),e}class D{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:s},parts:i}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:a).importNode(s,!0);y.currentNode=n;let r=y.nextNode(),o=0,l=0,h=i[0];for(;void 0!==h;){if(o===h.index){let e;2===h.type?e=new S(r,r.nextSibling,this,t):1===h.type?e=new h.ctor(r,h.name,h.strings,this,t):6===h.type&&(e=new N(r,this,t)),this.v.push(e),h=i[++l]}o!==(null==h?void 0:h.index)&&(r=y.nextNode(),o++)}return n}m(t){let e=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class S{constructor(t,e,s,i){var n;this.type=2,this._$AH=_,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=i,this._$Cg=null===(n=null==i?void 0:i.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=M(this,t,e),h(t)?t===_||null==t||""===t?(this._$AH!==_&&this._$AR(),this._$AH=_):t!==this._$AH&&t!==g&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return u(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.M(t):this.$(t)}A(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.A(t))}$(t){this._$AH!==_&&h(this._$AH)?this._$AA.nextSibling.data=t:this.S(a.createTextNode(t)),this._$AH=t}T(t){var e;const{values:s,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=b.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.m(s);else{const t=new D(n,this),e=t.p(this.options);t.m(s),this.S(e),this._$AH=t}}_$AC(t){let e=A.get(t.strings);return void 0===e&&A.set(t.strings,e=new b(t)),e}M(t){u(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,i=0;for(const n of t)i===e.length?e.push(s=new S(this.A(l()),this.A(l()),this,this.options)):s=e[i],s._$AI(n),i++;i<e.length&&(this._$AR(s&&s._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class x{constructor(t,e,s,i,n){this.type=1,this._$AH=_,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=_}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,i){const n=this.strings;let r=!1;if(void 0===n)t=M(this,t,e,0),r=!h(t)||t!==this._$AH&&t!==g,r&&(this._$AH=t);else{const i=t;let o,a;for(t=n[0],o=0;o<n.length-1;o++)a=M(this,i[s+o],e,o),a===g&&(a=this._$AH[o]),r||(r=!h(a)||a!==this._$AH[o]),a===_?t=_:t!==_&&(t+=(null!=a?a:"")+n[o+1]),this._$AH[o]=a}r&&!i&&this.k(t)}k(t){t===_?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class T extends x{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===_?void 0:t}}class w extends x{constructor(){super(...arguments),this.type=4}k(t){t&&t!==_?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}class H extends x{constructor(t,e,s,i,n){super(t,e,s,i,n),this.type=5}_$AI(t,e=this){var s;if((t=null!==(s=M(this,t,e,0))&&void 0!==s?s:_)===g)return;const i=this._$AH,n=t===_&&i!==_||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==_&&(i===_||n);n&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class N{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){M(this,t)}}const C=window.litHtmlPolyfillSupport;null==C||C(b,S),(null!==(e=globalThis.litHtmlVersions)&&void 0!==e?e:globalThis.litHtmlVersions=[]).push("2.0.1");
/**
	 * @license
	 * Copyright 2017 Google LLC
	 * SPDX-License-Identifier: BSD-3-Clause
	 */
const O=2;
/**
	 * @license
	 * Copyright 2017 Google LLC
	 * SPDX-License-Identifier: BSD-3-Clause
	 */
class k extends class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){if(super(t),this.it=_,t.type!==O)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===_||null==t)return this.vt=void 0,this.it=t;if(t===g)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this.vt;this.it=t;const e=[t];return e.raw=e,this.vt={_$litType$:this.constructor.resultType,strings:e,values:[]}}}k.directiveName="unsafeHTML",k.resultType=1;document.createTextNode("");const I="gstc";const U="config.plugin.TimeBookmarks",Y="config.slots.chart-timeline-items.outer";class L{constructor(t,e){this.unsub=[],this.options=function(t){return Object.assign({enabled:!0,className:""},t)}(t),this.vido=e,this.state=e.state,this.className=function(t,e=""){let s=`gstc__${t}`;return t===I&&(s=I),e?`${s} ${s}--${e.replace(":","-")}`:s}("chart-time-bookmark")+(this.options.className?` ${this.options.className}`:""),this.slotComponent=this.slotComponent.bind(this),this.destroy=this.destroy.bind(this),this.state.update(U,this.options),this.state.update(Y,(t=>(t.includes(this.slotComponent)||t.push(this.slotComponent),t))),this.unsub.push(this.state.subscribe(U,(t=>this.options=t)))}destroy(){this.unsub.forEach((t=>t())),this.state.update(Y,(t=>t.filter((t=>t!==this.slotComponent)))),this.vido.api.pluginDestroyed("TimeBookmarks")}slotComponent(t){const{html:e,onDestroy:s,state:i,update:n,api:r,StyleMap:o}=t,a=[];s(i.subscribeAll([U,"$data.chart.time","$data.scroll.horizontal.dataIndex"],(()=>{var t;const e=i.get("$data.chart.time"),s=i.get(U);a.length=0;for(const i in s.bookmarks){const n=r.time.date(s.bookmarks[i].time);if(!r.time.isInCurrentView(n,e))continue;const l=Object.assign(Object.assign({},s.bookmarks[i]),{id:i,leftViewPx:0,absoluteLeftPx:0,visible:!1,date:null,styleMap:new o(Object.assign(null!==(t=s.bookmarks[i].style)&&void 0!==t?t:{},{left:"",height:""}))});l.styleMap.style.background=l.styleMap.style.background||l.color||"#3498DB",l.id=i,l.date=n,l.leftViewPx=r.time.getViewOffsetPxFromDates(n,!1,e),l.absoluteLeftPx=r.time.getGlobalOffsetPxFromDates(l.date),l.visible=l.absoluteLeftPx>=e.leftPx&&l.absoluteLeftPx<=e.rightPx,a.push(l)}n()}),{group:!0}));let l=0,h=0;s(i.subscribe("$data.scroll.vertical",(t=>{l=Math.round(r.getRealChartHeight()),h=Math.round(-t.preciseOffset),n()})));const u=t=>e`<div
        class="${this.className}-line ${this.className}-line--${t.id}${t.className?` ${t.className}`:""}"
        style="left:${t.leftViewPx}px;top: ${h}px;"
      >
        <div
          class="${this.className}-line-content ${this.className}-line-content--${t.id}"
          style="border-left: 1px solid ${t.styleMap.style.background};"
        ></div>
      </div>`,c=t=>e`<div
        class="${this.className}-label ${this.className}-label--${t.id}${t.className?` ${t.className}`:""}"
        style="left:${t.leftViewPx}px;top: ${h}px;"
      >
        <div
          class="${this.className}-label-content ${this.className}-label-content--${t.id}"
          style=${t.styleMap.directive()}
        >
          ${t.label}
        </div>
      </div>`;return t=>e`<div class="${this.className}s ${this.className}s--lines" style="height: ${l}px;">
          ${a.filter((t=>t.visible)).map((t=>u(t)))}
        </div>
        ${t}
        <div class="${this.className}s ${this.className}s--labels" style="height: ${l}px;">
          ${a.filter((t=>t.visible)).map((t=>c(t)))}
        </div>`}}t.Plugin=function(t={}){return function(e){const s=e.state.get(U);s&&(t=e.api.mergeDeep({},t,s));const i=new L(t,e);return e.api.pluginInitialized("TimeBookmarks"),i.destroy}},t.pluginPath=U,t.slotPath=Y,Object.defineProperty(t,"__esModule",{value:!0})}));
