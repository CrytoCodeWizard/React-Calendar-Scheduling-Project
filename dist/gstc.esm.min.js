import{d as t,u as e,a as o,S as a,A as s,h as i,l as n,v as l,D as r,_ as c,m as d,p as u,P as h,b as m,c as g,e as f,f as p,J as w,V as v}from"./vendor.esm.min.js";
/**
 * Gantt-Schedule-Timeline-Calendar Time api
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class b{constructor(a,s){this.utcMode=!1,this.unsubs=[],this.state=a,this.api=s,this.dayjs=t,this.dayjs.extend(e),this.dayjs.extend(o),this.unsubs.push(a.subscribe("config.utcMode",(t=>{this.utcMode=t}))),this.unsubs.push(a.subscribe("config.locale",(t=>{if(!t.name)throw new Error("Locale must have a name property.");this.locale=t,this.dayjs.locale(this.locale,null,!0),this.dayjs.locale(this.locale.name)}))),this.resetCurrentDate()}destroy(){for(const t of this.unsubs)t()}resetCurrentDate(){const e=t();this.currentDate={timestamp:e.valueOf(),second:e.startOf("second"),minute:e.startOf("minute"),hour:e.startOf("hour"),day:e.startOf("day"),week:e.startOf("week"),month:e.startOf("month"),year:e.startOf("year")}}date(e){return this.utcMode?t.utc(e):e?t(e):t()}recalculateFromTo(t,e=!1){const o=t.period;if((t=Object.assign({},t)).from=+t.from,t.to=+t.to,t.fromDate=this.date(t.from).startOf(o),t.from=t.fromDate.valueOf(),t.toDate=this.date(t.to).endOf(o),t.to=t.toDate.valueOf(),!t.autoExpandTimeFromItems||t.calculatedZoomMode)return t;let a=Number.MAX_SAFE_INTEGER,s=0;const i=this.state.get("config.chart.items");if(Object.keys(i).length>0&&(0===t.from||0===t.to||e)){for(const t in i){const e=i[t];e.time.start<a&&e.time.start&&(a=e.time.start),e.time.end>s&&(s=e.time.end)}a<t.from&&(t.fromDate=this.date(a).startOf(o),t.from=t.fromDate.valueOf()),s>t.to&&(t.toDate=this.date(s).endOf(o),t.to=t.toDate.valueOf())}return t}getCenter(t){return t.leftGlobal+Math.round((t.rightGlobal-t.leftGlobal)/2)}isInCurrentView(t,e=this.state.get("$data.chart.time")){const o=t.valueOf();return!(o<=e.leftGlobal||o>=e.rightGlobal)}recalculateDatesPositions(t,e=this.state.get("$data.chart.time"),o=!0,a=!1){let s=0;if(o)for(const o of t){if(o.leftGlobal>=e.leftGlobal)break;s-=o.width}for(let o of t)a&&(o=this.api.mergeDeep({},o)),o.width=(o.rightGlobal+1-o.leftGlobal)/e.timePerPixel,o.leftPx=s,o.rightPx=s+o.width,o.currentView&&(o.currentView.leftPx=o.leftPx-e.leftPx,o.currentView.rightPx=o.rightPx-e.leftPx,o.currentView.width=o.currentView.rightPx-o.currentView.leftPx),s+=o.width;return t}addMissingDates(t,e,o=this.state.get("$data.chart.time")){if(!t.length)return[];const a=t[0],s=t[t.length-1];if(!(e.valueOf()<a.leftGlobal||e.valueOf()>s.rightGlobal))return t;const i=[];for(const e of t)i.push(this.api.mergeDeep({},e));if(e.valueOf()<a.leftGlobal){const t=this.generatePeriodDates({leftDate:e.startOf(o.period),rightDate:a.leftGlobalDate.subtract(1,o.period).endOf(o.period),period:o.period,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!0,time:o});return this.recalculateDatesPositions([...t,...i],o)}if(e.valueOf()>s.rightGlobal){const t=this.generatePeriodDates({leftDate:s.rightGlobalDate.add(1,"ms"),rightDate:e.endOf(o.period),period:o.period,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!0,time:o});return this.recalculateDatesPositions([...i,...t],o)}return i}getGlobalOffsetPxFromDates(t,e=!0,o=this.state.get("$data.chart.time"),a){const s=t.valueOf();if(!o.allDates||0===o.allDates.length)return-100;if(void 0===a&&(a=o.allDates[o.level]),e&&(a=this.addMissingDates(a,t,o)),!a||0===a.length)return-1;const i=this.state.get("$data.scroll.horizontal.preciseOffset");let n;for(let t=0,e=a.length;t<e;t++){const e=a[t];if(s<=e.rightGlobal+1){n=e;break}}return n?s<n.leftGlobal?n.leftPx+i:n.rightPx-(n.rightGlobal-s)/o.timePerPixel+i:s<=o.leftGlobal?0:s>=o.rightGlobal?o.totalViewDurationPx+(s-o.rightGlobal+1)/o.timePerPixel+i:-1}getViewOffsetPxFromDates(t,e=!0,o=this.state.get("$data.chart.time"),a,s=!0){a||(a=o.allDates[o.level]),s&&(a=this.addMissingDates(a,t,o));const i=this.getDatesDiffPx(o.leftGlobalDate,t,o,!0,a);return e?this.limitOffsetPxToView(i):i}limitOffsetPxToView(t,e=this.state.get("$data.chart.time")){if(t<0)return 0;if(!e.levels.length)return e.width;const o=e.levels[e.level];if(!o.length)return e.width;const a=o[o.length-1];return t>a.currentView.rightPx?a.currentView.rightPx:t}findDateAtViewOffsetPx(t,e){return e.find((e=>e.currentView.rightPx>=t))}findDateAtTime(t,e){if(!e){const t=this.state.get("$data.chart.time");e=t.allDates[t.level]}return e.find((e=>e.rightGlobal>=t))}getMainDateFromRelativePosition(t,e){const o=t.leftPx+e,a=this.state.get("$data.chart.time"),s=a.allDates[a.level];for(const t of s)if(t.rightPx>o)return t}getTimeFromOffsetPx(t,e=!0,o=this.state.get("$data.chart.time"),a){let s=t;if(e&&(s+=o.leftPx),a||(a=o.allDates[o.level]),s<0){let t,e=o.fromDate.subtract(1,o.period),a=0;for(let i=0;i<1e3;i++){const i=this.generatePeriodDates({leftDate:e,rightDate:e.endOf(o.period),period:o.period,time:o,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!1});if(i.length&&(t=i[0],a-=t.width,a<=s))return t.leftGlobal+(s-a)*o.timePerPixel;e=e.subtract(1,o.period).startOf(o.period)}}else if(s>o.totalViewDurationPx){let t,e=o.toDate.add(1,"day").startOf(o.period),a=o.totalViewDurationPx;for(let i=0;i<1e3;i++){const i=this.generatePeriodDates({leftDate:e,rightDate:e.endOf(o.period),period:o.period,time:o,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!1});if(i.length&&(t=i[0],a+=t.width,a>s))return t.rightGlobal+1-(a-s)*o.timePerPixel;e=e.add(1,o.period).startOf(o.period)}}for(let t=0,e=a.length;t<e;t++){const e=a[t];if(e.rightPx>s){return e.rightGlobal+1-(e.rightPx-s)*o.timePerPixel}}const i=a[a.length-1];return i.rightGlobal+1-(i.rightPx-s)*o.timePerPixel}getCurrentFormatForLevel(t,e){return t.find((t=>+e.zoom<=+t.zoomTo))}alignLevelToMain(t,e,o=this.state.get("$data.chart.time")){if(t===o.level)return e;if(!this.state.get("config.chart.time.alignLevelsToMain"))return e;const a=o.allDates[o.level];if(!a||!a.length)return e;if(!e||!e.length)return e;const s=e.length;for(let t=0;t<s;t++){const o=e[t];let s,i=!1,n=0;for(const t of a){if(t.leftGlobal>=o.leftGlobal&&(i||(o.leftGlobal=t.leftGlobal,o.leftGlobalDate=this.date(o.leftGlobal)),i=!0),t.leftGlobal>o.rightGlobal)break;i&&(n+=t.width,s=t)}s&&(o.rightGlobal=s.rightGlobal,o.rightGlobalDate=this.date(o.rightGlobal),o.width=n)}return e}_generatePeriodDates(t){const e=[];t=Object.assign({},t);const{datesCount:o,rightDate:a,period:s,level:i,levelIndex:n,time:l,originalLeftDate:r,format:c}=t;let d=t.leftDate;for(let t=0;t<o;t++){let t=c.periodIncrement||1;"function"==typeof t&&(t=t({currentDates:e,date:d,leftDate:r,rightDate:a,period:s,level:i,levelIndex:n,time:l,vido:this.api.vido,api:this.api}));const o=d.add(t-1,s).endOf(s),u={id:`gstcid-${d.valueOf()}`,leftGlobal:d.valueOf(),leftGlobalDate:d,rightGlobalDate:o,rightGlobal:o.valueOf(),width:0,leftPx:0,rightPx:0,period:s,formatted:null,current:d.valueOf()===this.currentDate[s].valueOf(),previous:d.add(1,s).valueOf()===this.currentDate[s].valueOf(),next:d.subtract(1,s).valueOf()===this.currentDate[s].valueOf(),periodIncrementedBy:t},h=u.rightGlobalDate.add(1,l.period).startOf(l.period).valueOf()-u.leftGlobal;u.width=h/l.timePerPixel,e.push(u),d=d.add(t||1,s)}return e}generatePeriodDates({leftDate:t,rightDate:e,period:o,level:a,levelIndex:s,time:i,callOnDate:n,callOnLevelDates:l}){if(!i.timePerPixel)return[];const r=this.getCurrentFormatForLevel(a,i);t=t.startOf(o),e=e.endOf(o);const c=Math.ceil(e.diff(t,o,!0)),d=t.clone();let u=this._generatePeriodDates({datesCount:c,leftDate:t,rightDate:e,period:o,level:a,levelIndex:s,time:i,originalLeftDate:d,format:r});if(n){const t=[];for(let e=0;e<u.length;e++){let o=u[e];if(o){for(let t=0,e=i.onDate.length;t<e;t++)o=i.onDate[t]({date:o,format:r,time:i,level:a,levelIndex:s});o&&t.push(o)}}u=t}if(l)for(let t=0,e=i.onLevelDates.length;t<e;t++)u=i.onLevelDates[t]({dates:u,format:r,time:i,level:a,levelIndex:s});if(!u.length||u[u.length-1].rightGlobal<e.valueOf()){let u=this._generatePeriodDates({datesCount:c+100,leftDate:t,rightDate:e,period:o,level:a,levelIndex:s,time:i,originalLeftDate:d,format:r});if(n){const t=[];for(let e=0;e<u.length;e++){let o=u[e];if(o){for(let t=0,e=i.onDate.length;t<e;t++)o=i.onDate[t]({date:o,format:r,time:i,level:a,levelIndex:s});o&&t.push(o)}}u=t}if(l)for(let t=0,e=i.onLevelDates.length;t<e;t++)u=i.onLevelDates[t]({dates:u,format:r,time:i,level:a,levelIndex:s});const h=[];for(const t of u)if(h.push(t),t.rightGlobal>=e.valueOf())return h}const h=[];for(const t of u)if(h.push(t),t.rightGlobal>=e.valueOf())return h;return h}getDatesDiffPx(t,e,o,a=!0,s){if(t.valueOf()===e.valueOf())return 0;let i=0,n=!1;if(e.valueOf()<t.valueOf()){const o=t;t=e,e=o,n=!0}if(void 0===s){if(!o.allDates||!o.allDates.length||!o.allDates[o.level])return 0;s=o.allDates[o.level]}if(0===s.length)return 0;if(t.valueOf()<s[0].leftGlobal){const e=s[0].period,a=o.level,i=this.state.get(`config.chart.calendarLevels.${a}`),n=this.generatePeriodDates({leftDate:t.startOf(o.period),rightDate:s[0].leftGlobalDate.subtract(1,"millisecond").clone(),period:e,level:i,levelIndex:a,time:o,callOnDate:!0,callOnLevelDates:!0});s=[...n,...s]}const l=s[s.length-1].rightGlobalDate.clone();if(e.valueOf()>l.valueOf()){const t=s[0].period,a=o.level,i=this.state.get(`config.chart.calendarLevels.${a}`),n=this.generatePeriodDates({leftDate:l.add(1,"ms"),rightDate:e.endOf(t),period:t,level:i,levelIndex:a,time:o,callOnDate:!0,callOnLevelDates:!0});s=[...s,...n]}let r,c,d=!1,u=0;for(const o of s)if(o.rightGlobal+1>=t.valueOf()&&!d&&(d=!0,c=o),d&&(i+=o.width),o.rightGlobal+1>=e.valueOf()){r=o,u=o.width;break}if(a){let a=t.valueOf()-c.leftGlobal;t.valueOf()<c.leftGlobal&&(a=0);let s=r.rightGlobal+1-e.valueOf();r.leftGlobal>e.valueOf()&&(s=r.rightGlobal+1-r.leftGlobal);const l=(s+a)/o.timePerPixel;return n?-(i-l):i-l}return i-=u,n?-i:i}getLeftViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length)return null;const e=t.levels[t.level];return e.length?e[0]:null}getRightViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length||!t.levels[t.level])return null;const e=t.levels[t.level];return e.length?e[e.length-1]:null}getLowerPeriod(t){switch(t){case"year":return"month";case"month":return"week";case"week":return"day";case"day":return"hour";case"hour":return"minute";case"minute":return"second";case"second":return"millisecond";default:return t}}getHigherPeriod(t){switch(t){case"month":return"year";case"week":return"month";case"day":return"week";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second";default:return t}}}
/**
 * Gantt-Schedule-Timeline-Calendar IDApi
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */var y=new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return`gstcid-${t}`}isGSTCID(t){return t.startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substr(7):t}};
/**
 * Gantt-Schedule-Timeline-Calendar Slots
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class D extends a{constructor(t,e,o){super(e,o),this.subs=[],this.name=t,this.subs.push(e.state.subscribe(`config.slots.${t}`,this.setComponents,{queue:!0}))}destroy(){this.subs.forEach((t=>t())),super.destroy()}getName(){return this.name}}function W(t,e,o){return new D(t,e,o)}
/**
 * Gantt-Schedule-Timeline-Calendar helpers
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */const x="gstc";function P(t,e=""){let o=`gstc__${t}`;return t===x&&(o=x),e?`${o} ${o}--${e.replace(":","-")}`:o}function C(t,e){let o=`gstc__${t}`;return t===x&&(o=x),`${o}--${e}`}
/**
 * Api functions
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */let $=0;const I=new Map;function S(t){return I.get(t.apiId)}class M{constructor(t){this.apiId=0,this.name=x,this.debug=!1,this.plugins={},this.pluginsPositions=new Set,this.iconsCache={},this.unsubscribes=[],this.mutedMethods=new Set,this.mergeDeep=null,this.generateSlots=W,this.getClass=P,this.getId=C,this.GSTCID=y.GSTCID,this.isGSTCID=y.isGSTCID,this.sourceID=y.sourceID,this.allActions=[],this.keysToKeep=["id","parents","children","allChildren","parentId"],this.apiId=++$,I.set(this.apiId,{rowsDataWithParentsExpanded:[],rowsIdsWithParentsExpanded:[],rowsWithParentsExpanded:[],rowsWithParentsExpandedAsMap:new Map,rowsPositionsMap:{id:"",dataIndex:0,keys:[]},allRowsIds:[],allRowsAsArray:[],rowsWithParentsExpandedDataIndexMap:new Map,itemsAsArray:[],itemsDataAsArray:[]}),this.state=t,this.time=new b(this.state,this),this.unsubscribes.push(this.state.subscribe("config.debug",(t=>this.debug=t))),this.debug&&(window.state=t)}render(){return this.vido.update()}getListenerPosition(t){for(const e of this.state.getListeners().values())for(const o of e.listeners)if(o[1].fn===t)return o[0]}setVido(t){this.vido=t}setMergeDeep(t){this.mergeDeep=t}log(...t){this.debug&&console.log.call(console,...t)}pluginInitialized(t){this.pluginsPositions.add(t)}pluginDestroyed(t){this.pluginsPositions.delete(t)}clearPluginsPositions(){this.pluginsPositions.clear()}isPluginInitialized(t){return this.pluginsPositions.has(t)}getPluginPosition(t){return[...this.pluginsPositions].indexOf(t)}getPluginsPositions(){const t={};let e=0;for(const o of this.pluginsPositions)t[o]=e++;return t}isPluginInitializedBefore(t,e){return this.getPluginPosition(t)<this.getPluginPosition(e)}getActions(t){this.allActions.includes(t)||this.allActions.push(t);let e=this.state.get("config.actions."+t);return void 0===e&&(e=[]),e.slice()}isItemInViewport(t,e,o){if(!e||!o){const t=this.state.get("config.chart.time");e=t.leftGlobal,o=t.rightGlobal}return t.time.start<=o&&t.time.end>=e}getChildrenLinkedItemsIds(t,e,o=[]){const a=e[t];if(a.linkedWith&&a.linkedWith.length){o.includes(t)||o.push(t);for(const t of a.linkedWith){if(o.includes(t))continue;o.push(t);const a=e[t];a.linkedWith&&a.linkedWith.length&&this.getChildrenLinkedItemsIds(t,e,o)}}return o}collectAllLinkedItems(t,e){for(const o in t){const a=t[o];e[a.id].linkedWith=a.linkedWith||[]}const o=new Map;for(const t in e){if(o.has(t))continue;const a=this.getChildrenLinkedItemsIds(t,e);e[t].linkedWith.splice(e[t].linkedWith.length,0,...a);const s=Array.from(new Set(e[t].linkedWith));e[t].linkedWith=s.filter((e=>e!==t)),o.set(t,!0);for(const t of s)e[t].linkedWith=s.filter((e=>e!==t)),o.set(t,!0)}}getChildrenDependantItemsIds(t,e,o=[]){if(t.dependant&&t.dependant.length)for(const a of t.dependant){if(o.includes(a))continue;o.push(a);const s=e[a];if(!s)throw new Error(`Dependant item not found [id:'${a}'] found in item [id:'${t.id}']`);s.dependant&&s.dependant.length&&this.getChildrenDependantItemsIds(s,e,o)}return o}calculateItemVerticalPosition(t,e=null,o=null,a=null){if(a||(a=this.getItem(t)),e||(e=this.getItemData(t)),o||(o=this.getRowData(a.rowId)),a.gap&&e||(this.prepareItem(a),e=this.getItemData(t)),!o)return e.position;const s=o.position.top+a.gap.top,i=e.position.rowTop+a.gap.top,n=this.getRowViewTop(o.id);let l=n+e.position.actualRowTop;return n===1/0?l=1/0:-1===n&&(l=-1),e.position.top=s,e.position.actualRowTop=i,e.position.viewTop=l,e.position}calculateItemHorizontalPosition(t,e=null,o=null,a=this.state.get("$data.chart.time"),s=null){if(s||(s=this.getItem(t)),e||(e=this.getItemData(t)),o||(o=this.getRowData(s.rowId)),!o)return e.position;const i=e.time.startDate.valueOf()===s.time.start?e.time.startDate:this.time.date(s.time.start),n=e.time.endDate.valueOf()===s.time.end?e.time.endDate:this.time.date(s.time.end),l=this.time.getViewOffsetPxFromDates(i,!1,a),r=this.time.getViewOffsetPxFromDates(n,!1,a);e.position.left=l,e.position.actualLeft=this.time.limitOffsetPxToView(l,a),e.position.right=r,e.position.actualRight=this.time.limitOffsetPxToView(r,a),e.width=r-l,e.actualWidth=e.position.actualRight-e.position.actualLeft;const c=this.state.get("config.chart.item.minWidth");return"number"==typeof c&&e.actualWidth<c&&(e.actualWidth=c),e.position}calculateItemPosition(t,e=null,o=null,a=this.state.get("$data.chart.time"),s=null){return e||(e=this.state.get(`$data.chart.items.${t}`)),s||(s=this.state.get(`config.chart.items.${t}`)),o||(o=this.state.get(`$data.list.rows.${s.rowId}`)),this.calculateItemHorizontalPosition(t,e,o,a,s),this.calculateItemVerticalPosition(t,e,o,s),e.position}getItemPosition(t,e=null,o=null,a=this.state.get("$data.chart.time"),s=null){return s||(s=this.getItem(t)),e||(e=this.getItemData(t)),0===e.position.left&&0===e.position.right&&this.calculateItemPosition(t,e,o,a,s),e.position}getRow(t){return this.state.get(`config.list.rows.${t}`)}getRows(t){if(!t.length)return[];const e=this.getAllRows(),o=[];for(const a of t)e[a]&&o.push(e[a]);return o}getAllRows(){return this.state.get("config.list.rows")}getVisibleRowsId(){return this.state.get("$data.list.visibleRows")}getRowsData(){return this.state.get("$data.list.rows")}setRowsData(t){this.state.update("$data.list.rows",t)}getRowData(t){return this.state.get(`$data.list.rows.${t}`)}setRowData(t,e){this.state.update(`$data.list.rows.${t}`,e)}getItem(t){return this.state.get(`config.chart.items.${t}`)}getItems(t=[]){const e=[],o=this.getAllItems();for(const a of t)o[a]&&e.push(o[a]);return e}getAllItemsAsArray(){return S(this).itemsAsArray}getAllItemsDataAsArray(){return S(this).itemsDataAsArray}getAllItems(){return this.state.get("config.chart.items")}getItemData(t){return this.state.get(`$data.chart.items.${t}`)}getItemsData(){return this.state.get("$data.chart.items")}setItemData(t,e){this.state.update(`$data.chart.items.${t}`,(t=>{for(const o in e)t[o]=e[o];return t}))}setItemsData(t){this.state.update("$data.chart.items",t)}prepareDependantItems(t,e){return this.getChildrenDependantItemsIds(t,e).filter((e=>e!==t.id))}prepareItem(t,e=this.state.get("config.chart.item.height"),o=this.getItemsData(),a=this.getAllItems()){let s=t.id;s=String(s),t.id=s,o[t.id]||(o[t.id]={id:t.id,actualHeight:0,outerHeight:0,time:null,position:{left:0,actualLeft:0,right:0,actualRight:0,rowTop:t.rowTop||0,actualRowTop:t.actualRowTop||0,top:0,viewTop:0},width:-1,actualWidth:-1,detached:!1,linkedWith:[],dependant:this.getChildrenDependantItemsIds(t,a)}),t.time||console.error("There is something wrong with this item.",t),t.time.start=+t.time.start,t.time.end=+t.time.end,t.id=String(t.id);const i=this.state.get("config.chart.item");"number"!=typeof t.height&&(t.height=e),o[t.id].time={startDate:this.time.date(t.time.start),endDate:this.time.date(t.time.end)},o[t.id].actualHeight=t.height,void 0===t.overlap&&(t.overlap=i.overlap),"number"!=typeof t.top&&(t.top=0),t.gap||(t.gap={}),"number"!=typeof t.gap.top&&(t.gap.top=i.gap.top),"number"!=typeof t.gap.bottom&&(t.gap.bottom=i.gap.bottom),"number"!=typeof t.minWidth&&(t.minWidth=i.minWidth),o[t.id].outerHeight=o[t.id].actualHeight+t.gap.top+t.gap.bottom,o[t.id].position.actualRowTop=o[t.id].position.rowTop+t.gap.top}prepareItems(t){const e=this.state.get("config.chart.item.height"),o=this.getItemsData(),a=S(this);a.itemsAsArray.length=0,a.itemsDataAsArray.length=0;for(const s in t){const i=t[s];this.prepareItem(i,e,o,t),a.itemsAsArray.push(t[s]),a.itemsDataAsArray.push(o[s])}return this.collectAllLinkedItems(t,o),t}sortRowsByChildren(t,e={},o=this.state.get("config.list.rows"),a=this.state.get("$data.list.rows")){for(const s of t){const t=o[s],i=a[s],n=t.parentId&&e[t.parentId]||!t.parentId;!e[s]&&n&&(e[s]=t),i.children.length&&this.sortRowsByChildren(i.children,e,o,a)}return e}getSortableValue(t,e){return"string"==typeof t?e[t]:"function"==typeof t?t({row:e,vido:this.vido}):""}sortRowsByColumn(t,e=!0){const o=this.state.get("config.list.sort.compare");let a=this.getAllRows();const s=S(this);if(0===s.allRowsIds.length)return a;const i=s.allRowsAsArray;o?i.sort(o(t)):i.sort(((o,a)=>{const s=this.getSortableValue(t.sortable,o),i=this.getSortableValue(t.sortable,a);return"number"==typeof s?e?s-i:i-s:"string"==typeof s?e?s.localeCompare(i):i.localeCompare(s):void 0}));const n=i.map((t=>t.id)),l=this.getRowsData();for(const t of n){const e=l[t];e.children&&e.children.length&&e.children.sort(((t,e)=>n.indexOf(t)-n.indexOf(e)))}a=this.sortRowsByChildren(n),this.state.update("config.list.rows",a,{data:"sortRowsByColumn"});const r=this.getScrollTop();return this.setScrollTop(r.dataIndex,r.preciseOffset),a}fillEmptyRowValues(t){const e=this.state.get("config.list.row.height"),o=this.getRowsData();let a=0;for(let s in t){const i=t[s];let n=o[s];s=String(s),i.id=s,o[s]||(n={id:i.id,parentId:i.parentId,parents:[],children:[],allChildren:[],position:{top:0,bottom:0},items:[],actualHeight:0,outerHeight:0,parentsExpanded:!0,inView:!0}),"number"!=typeof i.height&&(i.height=e),n.actualHeight=i.height,"boolean"!=typeof i.expanded&&(i.expanded=!1),n.position.top=a,"object"!=typeof i.gap&&(i.gap={}),"number"!=typeof i.gap.top&&(i.gap.top=0),"number"!=typeof i.gap.bottom&&(i.gap.bottom=0),n.outerHeight=n.actualHeight+i.gap.top+i.gap.bottom,o[s]=n,a+=n.outerHeight}return t}itemsOnTheSameLevel(t,e){const o=this.getItemData(t.id),a=this.getItemData(e.id),s=o.position.rowTop+o.outerHeight,i=a.position.rowTop+a.outerHeight;return a.position.rowTop<=o.position.rowTop&&i>o.position.rowTop||(a.position.rowTop>=o.position.rowTop&&a.position.rowTop<s||a.position.rowTop>=o.position.rowTop&&i<s)}itemsOverlaps(t,e){return!!this.itemsOnTheSameLevel(t,e)&&(e.time.start>=t.time.start&&e.time.start<=t.time.end||(e.time.end>=t.time.start&&e.time.end<=t.time.end||(e.time.start>=t.time.start&&e.time.end<=t.time.end||e.time.start<=t.time.start&&e.time.end>=t.time.end)))}itemOverlapsWithOthers(t,e){for(let o=0,a=e.length;o<a;o++){const a=e[o],s=a.time.start&&t.time.start&&a.time.end&&t.time.end;if(t.id!==a.id&&this.itemsOverlaps(t,a)&&s)return a}return null}fixOverlappedItems(t){if(this.isMutedMethod("fixOverlapped"))return;if(0===t.length)return;let e=0;const o=this.getItemsData();for(const a of t){if(a.overlap)continue;const s=o[a.id];if(!s)continue;s.position.rowTop=a.top,s.position.actualRowTop=s.position.rowTop+a.gap.top;let i=this.itemOverlapsWithOthers(a,t);if(e&&i){const e=this.getItemData(i.id);for(;i=this.itemOverlapsWithOthers(a,t);)s.position.rowTop+=e.outerHeight,s.position.actualRowTop=s.position.rowTop+a.gap.top}e++}}makeChildren(t,e={parents:[]}){if("object"!=typeof t)return[];t.children||(t.children=[]),t.allChildren||(t.allChildren=[]),t.parents||(t.parents=[...e.parents]),t.parentId&&"undefined"!==t.parentId&&t.parents.push(t.parentId);for(const e in t)if("id"!==e&&"parentId"!==e&&"children"!==e&&"allChildren"!==e&&"parents"!==e){"undefined"!==e&&(t.children.push(e),t.allChildren.push(e));const o=t[e];if("object"!=typeof o)continue;const a=this.makeChildren(o,t);t.allChildren.splice(t.allChildren.length,0,...a)}return t.allChildren}clearNested(t){for(const e in t)"object"!=typeof t[e]||Array.isArray(t[e])||this.clearNested(t[e]),this.keysToKeep.includes(e)||delete t[e],"parentId"===e&&"undefined"===t[e]&&(t[e]=void 0);return t}fastTree(t,e=null){var o,a;if(!e){e={undefined:{},id:"undefined"};for(const a in t){const s=t[a];e[s.id]||(e[s.id]={parentId:null!==(o=s.parentId)&&void 0!==o?o:"undefined",id:s.id})}}for(const t in e){const o=e[t];e[null!==(a=o.parentId)&&void 0!==a?a:"undefined"][o.id]=o}this.makeChildren(e[void 0]),delete e[void 0],delete e.id,delete e.parents,delete e.children,delete e.allChildren;for(const t in e)e[t]=this.clearNested(e[t]);return e}updateItemRowMapForItem(t,e,o=this.state.get("$data.itemRowMap"),a=this.state.get("$data.list.rows")){if(!a[e])return;a[e].items||(a[e].items=[]);const s=o[t];s&&a[s]&&(a[s].items=a[s].items.filter((e=>e!==t))),o[t]=e,a[e].items.includes(t)||a[e].items.push(t)}makeTreeMap(t,e,o=!1){let a=this.state.get("$data.treeMap");if(!o||!a){a=this.fastTree(t);for(const e in t){const o=t[e],s=a[e];for(const t in s)o[t]=s[t]}}const s=this.state.get("$data.reloading")?{}:this.state.get("$data.itemRowMap");for(const t in e){const o=e[t];this.updateItemRowMapForItem(t,o.rowId,s)}return this.state.update("$data.itemRowMap",s),o||this.state.update("$data.treeMap",a),t}_updateRowsWithParentsExpandedCache(t){const e=S(this);e.rowsIdsWithParentsExpanded.length=0,e.rowsIdsWithParentsExpanded.splice(0,0,...t),e.rowsWithParentsExpanded.length=0,e.rowsDataWithParentsExpanded.length=0,e.rowsWithParentsExpandedDataIndexMap.clear();const o=this.state.get("config.list.rows"),a=this.state.get("$data.list.rows");e.rowsWithParentsExpandedAsMap.clear();let s=0;for(const t of e.rowsIdsWithParentsExpanded){const i=o[t];i&&(e.rowsWithParentsExpanded.push(i),e.rowsWithParentsExpandedAsMap.set(t,i),e.rowsDataWithParentsExpanded.push(a[t]),e.rowsWithParentsExpandedDataIndexMap.set(t,s),s++)}}generateRowsWithParentsExpanded(t){const e=[],o=this.getRowsData();t:for(const a in t){if(!o[a]||!o[a].parents)return[];for(const e of o[a].parents){const o=t[e];if(!o||!o.expanded)continue t}e.push(a)}return this._updateRowsWithParentsExpandedCache(e),e}getRowInfoFromTop(t){const e=this.state.get("config.list.rows"),o=this.state.get("$data.list.rows"),a=this.getRowPositionMapNode(t);return{dataIndex:a.dataIndex,row:e[a.id],rowData:o[a.id]}}getRowViewTop(t,e=this.state.get("$data.list.rows"),o=this.state.get("$data.scroll.vertical")){return e[t].position.top-o.absolutePosPx-o.preciseOffset}parentsExpanded(t){return S(this).rowsWithParentsExpandedAsMap.has(t)}setAllRowsIdsCache(t){const e=S(this);e.allRowsIds=t;const o=this.state.get("config.list.rows");e.allRowsAsArray.length=0;for(const a of t)e.allRowsAsArray.push(o[a])}recalculateRowHeight(t,e){if(!e||!t||!t.gap)return 0;let o=0;const a=this.getItemsData();if(!a)return 0;const s=this.getItems(e.items);this.fixOverlappedItems(s);for(const t of s){const e=a[t.id];o=Math.max(o,e.position.rowTop+e.outerHeight)}return o<t.height&&(o=t.height),e.actualHeight=o,e.outerHeight=e.actualHeight+t.gap.top+t.gap.bottom,e.outerHeight}calculateVisibleRowsHeights(){if(this.isMutedMethod("calculateVisibleRowsHeights"))return;const t=this.state.get("$data.list.visibleRows");let e=0;const o=this.getAllRows(),a=this.getRowsData();for(const s of t)e+=this.recalculateRowHeight(o[s],a[s]);this.state.update("$data.list.visibleRowsHeight",e)}getRealChartHeight(t=!0){const e=this.state.get("$data.scroll.vertical.preciseOffset")||0,o=t?this.state.get("config.innerHeight"):this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),a=this.state.get("config.additionalSpace");return o-a.top-a.bottom+-1*e}getLastRowId(t=S(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t[this.getLastRowIndex(t,e)]}getLastRowIndex(t=S(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t.length-e.lastPageCount}generateRowsPositionsMap(t,e=0,o={id:"",dataIndex:0,keys:[]}){if(0===t.length)return o;if(1===t.length)return o[t[0].position.top]={id:t[0].id,dataIndex:e,keys:[]},o.keys=[t[0].position.top],o;const a=Math.floor(t.length/2),s=e,i=e+a,n=t.slice(1,a),l=t.slice(a+1);o.keys.push(t[0].position.top),o.keys.push(t[a].position.top);const r=o[t[0].position.top]={id:t[0].id,dataIndex:s,keys:[]},c=o[t[a].position.top]={id:t[a].id,dataIndex:i,keys:[]};return this.generateRowsPositionsMap(n,s+1,r),this.generateRowsPositionsMap(l,i+1,c),o}getRowPositionMapNode(t,e=S(this).rowsPositionsMap){return t>=e.keys[1]?this.getRowPositionMapNode(t,e[e.keys[1]]):t>=e.keys[0]?this.getRowPositionMapNode(t,e[e.keys[0]]):e}measureRows(){if(this.isMutedMethod("measureRows"))return;const t=this.state.get("$data.scroll.vertical"),e=this.state.get("config.list.rows"),o=this.getRealChartHeight(),a=this.getRowsData(),s=S(this);if(void 0===t.dataIndex)return[];const i=this.state.get("$data.list.rowsIds");let n=0;if(t.data&&(n=s.rowsWithParentsExpandedDataIndexMap.get(t.data.id),-1===n)){const e=this.getLastRowId(s.rowsIdsWithParentsExpanded,t);n=s.rowsWithParentsExpandedDataIndexMap.get(e)}let l=0,r=0,c=0;for(let d=i.length;c<d;c++){const d=i[c],u=s.rowsWithParentsExpandedAsMap.has(d),h=this.getRowViewTop(d,a,t),m=c>=n&&h<=o,g=a[d];if(!g)return[];this.recalculateRowHeight(e[d],g),g.inView=m,g.parentsExpanded=u,g.position.top=l,r=l+g.outerHeight,g.position.bottom=r,u&&(l+=g.outerHeight)}return s.rowsPositionsMap=this.generateRowsPositionsMap(s.rowsDataWithParentsExpanded),this.state.update("$data.list.rows",a),this.state.update("$data.list.rowsHeight",r),this.state.update("$data.scroll.vertical.absoluteSize",r),r}getVisibleRows(){const t=this.state.get("$data.scroll.vertical"),e=S(this),o=e.rowsIdsWithParentsExpanded,a=this.getRowsData();if(!t.data)return[];const s=this.getRealChartHeight();if(!s)return[];let i=e.rowsWithParentsExpandedDataIndexMap.get(t.data.id);-1!==i&&void 0!==i||(i=t.dataIndex>e.rowsDataWithParentsExpanded.length-1?o.length-t.lastPageCount:t.dataIndex);const n=[];let l,r;for(let e=i,c=o.length;e<c;e++){const i=o[e];if(a[i]&&(r=a[i],l=this.getRowViewTop(i,a,t),l>=0&&l<=s?(n.push(i),r.parentsExpanded=!0):r.parentsExpanded=!1,l>s))break}return n}normalizeMouseWheelEvent(t){let e=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0;const s=t.deltaMode,i=this.state.get("config.list.rowHeight");let n=1;switch(s){case 1:i&&(n=i);break;case 2:n=window.height}return e*=n,o*=n,a*=n,{x:e,y:o,z:a,event:t}}resetHorizontalScroll(){const t=this.state.get("$data.scroll.horizontal");t.data=null,t.dataId="",t.dataIndex=0,t.handlePosPx=0,t.absolutePosPx=0,t.preciseOffset=0;const e=this.state.get("$data.chart.time");if(!e.allDates||!e.allDates.length)return;const o=e.allDates[e.level];if(!o||!o.length)return;const a=o[0];t.data=Object.assign({},a),t.dataId=a.id}limitHorizontalScrollToView(t=this.state.get("$data.chart.time")){const e=this.state.get("$data.scroll.horizontal");if(!t.allDates||!t.allDates.length)return;const o=t.allDates[t.level].length-e.lastPageCount;e.dataIndex>o&&this.setScrollLeft(o,0,t)}calculateHorizontalScrollPosPxFromDates(t,e=0,o=this.state.get("$data.scroll.horizontal"),a=this.state.get("$data.chart.time")){if(a.calculatedZoomMode)return 0;if(void 0===t&&(t=0),!a.allDates||!a.allDates.length)return;const s=a.allDates[a.level];if(!s||!s.length)return;let i,n=0,l=0;if("number"==typeof t||""===t){""===t&&(t=0),l=t,i=s[l],i||(l=0,i=s[l]);const e=a.allDates[a.level].length-o.lastPageCount;l>e&&e>=0&&(l=e,i=s[l])}else if("string"==typeof t)for(let e=0;e<s.length;e++){const o=s[e];if(o.id===t){i=o,l=e;break}}if(!i&&o.data)for(let t=0;t<s.length;t++){const e=s[t];if(e.leftGlobal>=o.data.leftGlobal){i=e,l=t;break}}return i||(l>0?(l=s.length-1,i=s[l]):(i=s[0],l=0)),l>s.length-o.lastPageCount&&(l=s.length-o.lastPageCount,i=s[l]),o.data=Object.assign({},i),n=i.leftPx-e,o.dataIndex=l,o.dataId=i.id,o.handlePosPx=n?n/o.absoluteSizeWithoutLastPage*o.maxHandlePosPx:0,o.preciseOffset=e,o.handlePosPx>o.maxHandlePosPx&&(o.handlePosPx=o.maxHandlePosPx),o.absolutePosPx=n,o}setScrollLeft(t,e=0,o=this.state.get("$data.chart.time")){if(o.calculatedZoomMode)return 0;let a=0;const s=o.allDates[o.level];return s&&s.length?(this.state.update("$data.scroll.horizontal",(i=>{let n,l;if("number"==typeof t||""===t)n=t,l=s[n];else if("string"==typeof t)for(let e=0;e<s.length;e++)if(s[e].id===t){l=s[e],n=e;break}return l||(n>0?(n=s.length-1,l=s[n]):(n=0,l=s[0])),i.dataIndex=n,i.dataId=l.id,i.preciseOffset=e,this.calculateHorizontalScrollSizeAndPosFromDates(o.totalViewDurationPx,o,i,!1),a=i.absolutePosPx,i})),a):0}scrollToTime(t,e=!0){const o=this.state.get("$data.chart.time");if(o.calculatedZoomMode)return 0;if(!o.allDates)return 0;const a=this.time.findDateAtTime(t,o.allDates[o.level]);if(!a)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;let s=0,i=0;if(e){const e=this.state.get("$data.chart.dimensions.widthWithoutScrollBar")/2;i=(t-a.leftGlobal)/o.timePerPixel,a.rightPx<e&&(i=0);const n=-(e-i),l=this.time.getMainDateFromRelativePosition(a,n);if(!l)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;s=o.allDates[o.level].indexOf(l)}else s=o.allDates[o.level].indexOf(a);return-1===s?0:this.setScrollLeft(s,-i)}getScrollLeft(){return this.state.get("$data.scroll.horizontal")}getScrollSize(t){const e=this.state.get("$data.chart.dimensions.widthWithoutScrollBar"),o=this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),a=this.state.get("config.additionalSpace");return"horizontal"===t?e:o-a.top-a.bottom}getLastPageDatesWidth(t,e){let o=0,a=0;if(0===e.length)return{lastPageSize:o,lastPageCount:a};for(let s=e.length-1;s>=0;s--){const i=e[s];if(o+=i.width,o>=t){o-=i.width;break}a++}return{lastPageSize:o,lastPageCount:a}}calculateInitialChartWidth(t=!1){const e=this.state.get("config.initialWidth"),o=this.state.get("config.list.columns.data");let a=0;for(const t in o){a+=o[t].width}let s=e-a;return t&&(s-=this.state.get("config.scroll.horizontal.width")||0),s}getChartWidth(t=!1){let e=t?this.state.get("$data.chart.dimensions.widthWithoutScrollBar"):this.state.get("$data.chart.dimensions.width");return e||(e=this.calculateInitialChartWidth(t)),e}calculateHorizontalScrollSizeAndPosFromDates(t,e=this.state.get("$data.chart.time"),o=this.state.get("$data.scroll.horizontal"),a=!0){if(!e.allDates.length)return;const s=e.allDates[e.level],i=this.getChartWidth(!0),n=t,{lastPageSize:l,lastPageCount:r}=this.getLastPageDatesWidth(i,s),c=this.state.get("config.scroll.horizontal"),d=this.getScrollSize("horizontal");let u=l/n*d;u<c.minInnerSize&&(u=c.minInnerSize);const h=!(r===s.length||d===u),m=d?d-u:0;return o.absoluteSize=n,o.absoluteSizeWithoutLastPage=n-l,o.innerHandleSize=u,o.maxHandlePosPx=m,o.scrollSize=h?d:0,o.lastPageCount=r,o.lastPageSize=l,o.visible=h,this.calculateHorizontalScrollPosPxFromDates(o.dataId,o.preciseOffset,o,e),a&&this.state.update("$data.scroll.horizontal",o),o}getLastPageRowsHeight(t,e){let o=0,a=0;const s=this.state.get("config.additionalSpace"),i=t-s.top-s.bottom;if(0===e.length)return{lastPageSize:o,lastPageCount:a};const n=this.getRowsData();for(let t=e.length-1;t>=0;t--){const s=n[e[t]];if(o+=s.outerHeight,o>=i){o-=s.outerHeight;break}a++}return{lastPageSize:o,lastPageCount:a}}calculateVerticalScrollSize(){const t=this.state.get("$data.list.rowsWithParentsExpanded"),e=this.state.get("$data.list.rowsHeight"),o=this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),{lastPageSize:a,lastPageCount:s}=this.getLastPageRowsHeight(o,t),i=this.state.get("config.scroll.vertical"),n=this.getScrollSize("vertical");let l=a/e*n;l<i.minInnerSize&&(l=i.minInnerSize);const r=!(s===t.length||n===l),c=n-l;this.state.update("$data.scroll.vertical",(o=>{if(o.absoluteSize=e,o.absoluteSizeWithoutLastPage=e-a,o.innerHandleSize=l,o.maxHandlePosPx=c,o.scrollSize=r?n:0,o.lastPageCount=s,o.lastPageSize=a,o.handlePosPx>c&&(o.handlePosPx=c),o.dataIndex>t.length-s){const e=this.getAllRows(),a=this.getRowsData();o.dataIndex=t.length-s;const i=t[o.dataIndex];e&&i?(o.data=e[i],o.dataId=o.data.id,o.absolutePosPx=a[i].position.top):(o.dataIndex=0,o.dataId="",o.data=null,o.handlePosPx=0,o.absolutePosPx=0),o.preciseOffset=0}return o.visible=r,o}))}setScrollTop(t=0,e=0){const o=S(this),a=o.rowsIdsWithParentsExpanded;let s,i,n=0;if("string"==typeof t){const e=t;if(s=this.getRow(e),i=this.getRowData(s.id),this.parentsExpanded(e))n=a.indexOf(e);else for(const t of i.parents)this.parentsExpanded(t)&&(n=a.indexOf(t));if(!s)throw new Error(`Row with id: '${e}' not found. Maybe use GSTC.api.GSTCID(id) or check if row exists.`)}else{if("number"!=typeof t)throw new Error("[gstc.api.setScrollTop] Wrong dataIndex value. Must be `string` (for `rowId`) or `number` (for array index) only.");if(n=t,o.rowsWithParentsExpanded[n]||0===n||(n=0),!o.rowsWithParentsExpanded[n])return;s=o.rowsWithParentsExpanded[n],i=this.getRowData(s.id)}let l=0;return this.state.update("$data.scroll.vertical",(t=>{const a=o.rowsWithParentsExpanded.length-t.lastPageCount;return n>a&&(n=a,s=o.rowsWithParentsExpanded[n],i=this.getRowData(s.id)),l=i.position.top-e,t.data=o.rowsWithParentsExpanded[n],t.dataId=t.data.id,t.preciseOffset=e,t.handlePosPx=l?Math.round(l/t.absoluteSizeWithoutLastPage*t.maxHandlePosPx):0,t.handlePosPx>t.maxHandlePosPx&&(t.handlePosPx=t.maxHandlePosPx),t.dataIndex=n,t.absolutePosPx=l,t})),l}getScrollTop(){return this.state.get("$data.scroll.vertical")}getCurrentCalendarLevels(){return this.state.get("$data.chart.time.levels")}getGridCells(t){const e=this.state.get("$data.chart.grid.cells");if(!e)return[];if(void 0!==t){const o=[];for(const a of t)o.push(e[a]);return o}const o=[];for(const t in e){const a=e[t];o.push(a)}return o}getAllGridCells(){return this.state.get("$data.chart.grid.cells")}getGridRows(t){const e=this.state.get("$data.chart.grid.rows");return void 0!==t?e?Object.values(e).filter((e=>t.includes(e.row.id))):[]:e?Object.values(e):[]}getAllGridRows(){return this.state.get("$data.chart.grid.rows")}getGridCell(t){return this.state.get(`$data.chart.grid.cells.${t}`)}getGridRow(t){return this.state.get(`$data.chart.grid.rows.${t}`)}muteMethod(t){this.mutedMethods.add(t)}unmuteMethod(t){this.mutedMethods.delete(t)}isMutedMethod(t){return this.mutedMethods.has(t)}getSVGIconSrc(t){return"string"==typeof this.iconsCache[t]||(this.iconsCache[t]="data:image/svg+xml;base64,"+btoa(t)),this.iconsCache[t]}destroy(){for(const t of this.unsubscribes)t();this.unsubscribes=[],this.debug&&delete window.state}}
/**
 * ScrollBar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function R(t,e){const{onDestroy:o,state:a,cache:i,api:n,html:l,StyleMap:r,Actions:c,update:d}=t,u="scroll-bar";let h,m,g="",f="";o(a.subscribe("config.classNames",(()=>{h=n.getClass(u),m=n.getClass("scroll-bar-inner")})));const p="horizontal"===e.type?"height":"width",w="height"===p?"width":"height",v="horizontal"===e.type?"left":"top",b=new r({}),y=new r({}),D={maxPosPx:0,innerHandleSize:0,scrollSize:0,dataId:""};o(a.subscribeAll("horizontal"===e.type?[`config.scroll.${e.type}`,`$data.scroll.${e.type}`]:[`config.scroll.${e.type}`,`$data.scroll.${e.type}`,"$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsWithParentsExpanded","$data.list.rowsHeight","config.additionalSpace"],(function(){const t=a.get(`config.scroll.${e.type}`),o=a.get(`$data.scroll.${e.type}`),s=n.getScrollSize(e.type),i=o.innerHandleSize,l=o.maxHandlePosPx,r=o.dataId,c=a.get("config.additionalSpace"),u=a.get("config.chart.time");u.allDates&&u.allDates.length&&u.allDates[u.level]&&(o.visible?b.style.display="flex":b.style.display="none",b.style[p]=t.width+"px",b.style[w]=s+"px","vertical"===e.type&&(b.style.top=a.get("config.headerHeight")+c.top+"px"),o.lastPageSize&&o.absoluteSize&&s&&(y.style[p]="100%",y.style[w]=i+"px",function(t,e,o,a){const s=D.maxPosPx!==t||D.innerHandleSize!==e||D.scrollSize!==o||D.dataId!==a;return s&&(D.maxPosPx=t,D.innerHandleSize=e,D.scrollSize=o,D.dataId=a),s}(l,i,s,r)&&("horizontal"===e.type?n.setScrollLeft(o.dataIndex,o.preciseOffset):n.setScrollTop(o.dataIndex,o.preciseOffset)),d()))}),{group:!0,bulkValue:!1}));const W=n.getActions(u);W.push(class extends s{constructor(t){super();const o=`$data.elements.scroll-bar--${e.type}`;a.get(o)||a.update(o,t,{only:null})}update(){}destroy(){}});const x={api:n,state:a,props:e,componentName:u},P=c.create(W,x),C=[class extends s{constructor(t){super(),this.moving=!1,this.initialPointerPos=0,this.initialHandlePos=0,this.currentPos=0,this.currentPointerPos=0,this.lastDataIndex=0,this.lastOffset=0,this.dataIndex=0,this.previousRowId="",a.update(`$data.elements.scroll-bar-inner--${e.type}`,t,{only:null}),this.bodyClassName=a.get("config.scroll.bodyClassName"),this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this);const o=this.pointerMove.bind(this);this.pointerMove=o,this.unsubscribe=a.subscribe(`$data.scroll.${e.type}`,this.dataChanged.bind(this)),this.destroy=this.destroy.bind(this),t.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove),document.addEventListener("pointerup",this.pointerUp)}destroy(t){this.unsubscribe(),t.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}dataChanged(){const t=a.get(`$data.scroll.${e.type}`),o=a.get("$data.chart.time");if(!o.allDates.length)return;const s=o.allDates[o.level],i=t.dataIndex;if(this.lastDataIndex=i,"horizontal"===e.type&&s&&s.length)this.currentPos=t.handlePosPx,y.style[v]=this.currentPos+"px",d();else if("vertical"===e.type){if(!a.get("$data.list.rowsWithParentsExpanded").length)return;this.currentPos=t.handlePosPx,y.style[v]=this.currentPos+"px",d()}}limitPosition(t){return Math.max(Math.min(t,a.get(`$data.scroll.${e.type}.maxHandlePosPx`)),0)}pointerDown(t){t.stopPropagation(),t.preventDefault(),n.muteMethod("calculateRowsHeight"),document.body.classList.add(this.bodyClassName),requestAnimationFrame((()=>{this.moving=!0,this.initialPointerPos="horizontal"===e.type?t.screenX:t.screenY,this.initialHandlePos=a.get(`$data.scroll.${e.type}.handlePosPx`),f=" "+n.getClass(u)+"-inner--active",g=" "+n.getClass(u)+"--active",d()}))}pointerUp(t){this.moving&&(n.unmuteMethod("calculateRowsHeight"),t.preventDefault(),t.stopPropagation(),document.body.classList.remove(this.bodyClassName)),this.moving=!1,f="",g="",d()}pointerMoveRead(t){this.currentPointerPos="horizontal"===e.type?t.screenX:t.screenY}pointerMoveWrite(){const t=a.get(`config.scroll.${e.type}`),o=a.get(`$data.scroll.${e.type}`),s=this.currentPointerPos-this.initialPointerPos;this.currentPos=this.limitPosition(this.initialHandlePos+s);const i=a.get("$data.chart.time");if(!i.allDates.length)return;const l=i.allDates[i.level],r=this.currentPos/o.maxHandlePosPx,c=Math.round(r*o.absoluteSizeWithoutLastPage);if("horizontal"===e.type){let e,o=0,a=0,s=0;for(let t=l.length;o<t&&(e=l[o],s=Math.round(e.rightPx),!(s>c));o++);t.precise&&s!==c&&(a=Math.round(e.leftPx)-c),o||(o=0),e||(e=l[0]),this.dataIndex=o,this.lastDate=l[o],n.setScrollLeft(e.id,a),this.lastDataIndex=o,this.lastOffset=a}else{const{dataIndex:e,row:o,rowData:a}=n.getRowInfoFromTop(c);let s=0;t.precise&&a.position.top!==c&&(s=a.position.top-c),this.dataIndex=e,this.previousRowId=o.id,n.setScrollTop(e,s),this.lastDataIndex=e,this.lastOffset=s}}pointerMove(t){this.moving&&(t.stopPropagation(),t.preventDefault(),requestAnimationFrame((()=>{this.pointerMoveRead(t)})),requestAnimationFrame((()=>{this.pointerMoveWrite()})))}}],$=c.create(C,x),I=n.generateSlots(u,t,e);function S({classNameOuter:t,classNameOuterActive:e,classNameInner:o,classNameInnerActive:a,styleMapInner:s,styleMapOuter:i,innerActions:n,outerActions:l,slots:r,cache:c,html:d,vido:u,props:h}){return c(!h||!h.type?null:r.html("outer",d`
              <div
                data-actions=${l()}
                class=${t+" "+t+"--"+h.type+e}
                style=${i.directive()}
              >
                ${r.html("inner",d`
                    <div
                      data-actions=${n()}
                      class=${o+" "+o+"--"+h.type+a}
                      style=${s.directive()}
                    >
                      ${r.html("content")}
                    </div>
                  `)}
              </div>
            `))}let M=S;return o(a.subscribe("config.templates.scroll-bar",(t=>{M=null!=t?t:S,d()}))),()=>M({innerActions:$,outerActions:P,classNameOuter:h,classNameOuterActive:g,classNameInner:m,classNameInnerActive:f,cache:i,styleMapInner:y,styleMapOuter:b,slots:I,html:l,vido:t,props:e})}
/**
 * List component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function k(t,e={}){const{api:o,state:a,onDestroy:s,Actions:i,update:n,reuseComponents:l,html:r,StyleMap:c,cache:d}=t,u="list",h=o.getActions(u);let m,g;const f=Object.assign(Object.assign({},e),{list:m,percent:g,api:o,state:a,componentName:u});let p;const w=a.subscribe("config.components.ListColumn",(t=>p=t));!function(){const t=a.get("config.list.expander.icons"),e={};for(const a in t){const s=t[a];e[a]=o.getSVGIconSrc(s)}a.update("$data.list.expander.icons",e)}(),function(){const t={open:"",close:""},e=a.get("config.list.toggle.icons");for(const a in e){const s=e[a];t[a]=o.getSVGIconSrc(s)}a.update("$data.list.toggle.icons",t)}();const v=o.getClass(u),b=o.generateSlots(u,t,e);s(a.subscribe("config.list",(function(){m=a.get("config.list"),g=m.columns.percent,f.list=m,f.percent=g,n()})));const y=[];s(a.subscribe("config.list.columns.data",(function(t){const e=Object.values(t).filter((t=>!t.hidden)).sort(((t,e)=>"number"==typeof t.position&&"number"==typeof e.position?t.position-e.position:0));l(y,e,(t=>({column:t})),p,!0),n()})));const D=new c({height:"","--expander-padding-width":"","--expander-size":""});let W;function x(t){W||(W=t.offsetWidth,0===g&&(W=0),a.update("$data.list.width",W))}s(a.subscribeAll(["$data.height","config.list.expander"],(()=>{const t=a.get("config.list.expander");D.style.height=a.get("$data.height")+"px",D.style["--expander-padding-width"]=t.padding+"px",D.style["--expander-size"]=t.size+"px",n()}),{group:!0})),s((()=>{y.forEach((t=>t.destroy())),w()}));h.push(class{constructor(t,e){e.state.update("$data.elements.list",t),x(t)}update(t){return x(t)}});const P=i.create(h,f);function C({className:t,styleMap:e,list:o,listColumns:a,actions:s,slots:i,html:n,cache:l,vido:r,props:c}){return i.html("outer",l(o.columns.percent>0?n`
              <div class=${t} data-actions=${s()} style=${e.directive()}>
                ${i.html("content",a.map((t=>t.html())))}
              </div>
            `:""))}let $=C;return s(a.subscribe("config.templates.list",(t=>{$=null!=t?t:C,n()}))),()=>$({list:m,className:v,actions:P,styleMap:D,listColumns:y,slots:b,cache:d,html:r,vido:t,props:e})}
/**
 * ListColumn component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class O{constructor(t,e){let o=!1,a=e.state.get("$data.elements.list-columns");void 0===a&&(a=[],o=!0),a.includes(t)||(a.push(t),o=!0),o&&e.state.update("$data.elements.list-columns",a,{only:null})}destroy(t,e){e.state.update("$data.elements.list-columns",(e=>e.filter((e=>e!==t))),{only:null})}}function G(t,e){const{api:o,state:a,onDestroy:s,onChange:i,cache:n,Actions:l,update:r,createComponent:c,reuseComponents:d,html:u,StyleMap:h}=t,m=[];let g,f;m.push(a.subscribe("config.components.ListColumnRow",(t=>g=t))),m.push(a.subscribe("config.components.ListColumnHeader",(t=>f=t)));const p=Object.assign(Object.assign({},e),{api:o,state:a,componentName:"list-column"}),w={column:e.column,state:a,api:o,componentName:"list-column-headers"},v={api:o,state:a,componentName:"list-column-rows"},b="list-column",y="list-column-rows",D=o.getActions(b),W=o.getActions(y),x=o.getClass(b,e.column.id),P=o.getClass("list-column-rows-offset",e.column.id),C=o.getClass(y,e.column.id);let $,I=o.getId(b,e&&e.column?e.column.id:"");const S=new h({width:"","--width":""}),M=new h({height:""}),R=new h({"margin-top":"0px"});let k=a.get("config.additionalSpace");const G=o.generateSlots(b,t,e);let z;function L(){if(!e||!e.column)return;const t=a.get("config.list");if(!t.columns.data[e.column.id])return;$=t.columns.data[e.column.id].width*t.columns.percent*.01,z=$;const s=Math.round(o.getRealChartHeight());S.style.width=z+"px",S.style["--width"]=z+"px",R.style.height=s+"px",M.style.top=a.get("config.headerHeight")+k.top+"px"}s(a.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar","$data.list.width","$data.list.visibleRowsHeight","config.additionalSpace.top"],L,{group:!0}));const A=c(f,e);s(A.destroy);const N=[],T={};function H(){var t;if(!e||!e.column)return;a.mute(H);const s=a.get("$data.list.visibleRows")||[],i=o.getRows(s),n=o.getRowsData();for(const o of i){const a=T[o.id]=null!==(t=T[o.id])&&void 0!==t?t:{};a.column=e.column,a.row=o,a.rowData=n[o.id],a.width=z}for(const t in T)s.includes(t)||delete T[t];d(N,i,(t=>t&&T[t.id]),g,!0),G.change(e),a.unmute(H)}i((t=>{if((e=t)&&e.column&&e.column.id){I=o.getId(b,e&&e.column?e.column.id:"");for(const t in e)p[t]=e[t];L(),A.change(e),H()}})),s(a.subscribeAll(["$data.list.visibleRows","$data.list.visibleRowsHeight","$data.list.rows","config.list.rows","config.chart.items.*.height","config.chart.items.*.rowId","config.chart.items.*.time"],H,{group:!0,bulkValue:!1})),s(a.subscribe("$data.scroll.vertical.preciseOffset",(t=>{R.style.transform=`translateY(${Math.round(t)||0}px)`,r()}))),s(a.subscribe("config.additionalSpace",(t=>{k=t}))),s((()=>{N.forEach((t=>t.destroy())),m.forEach((t=>t()))})),D.push(O);const V=l.create(D,w),E=l.create(W,v);function B({className:t,classNameOffset:e,classNameContainer:o,containerStyleMap:a,offsetStyleMap:s,widthStyleMap:i,visibleRows:n,rowActions:l,elId:r,headerActions:c,ListColumnHeader:d,html:u,cache:h,vido:m,props:g}){return h(g&&g.column?G.html("outer",u`
              <div
                class=${t}
                data-gstcid=${g.column.id}
                data-actions=${c()}
                style=${i.directive()}
              >
                ${G.html("inner",u` ${d.html()}${G.html("container-outer",u`
        <div
          class=${o}
          data-gstcid=${g.column.id}
          data-actions=${l()}
          style=${a.directive()}
        >
          ${G.html("container-inner",u`
        <div class=${e} data-gstcid=${g.column.id} style=${s.directive()}>
          ${G.html("content",n.map((t=>t.html())))}
        </div>
      `)}
        </div>
      `)} `)}
              </div>
            `):null)}let j=B;return s(a.subscribe("config.templates.list-column",(t=>{j=null!=t?t:B,r()}))),()=>j({classNameOffset:P,offsetStyleMap:R,visibleRows:N,classNameContainer:C,containerStyleMap:M,rowActions:E,className:x,elId:I,headerActions:V,widthStyleMap:S,ListColumnHeader:A,html:u,cache:n,vido:t,props:e})}
/**
 * ListColumnHeader component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function z(t,e){const{api:o,state:a,onDestroy:s,cache:i,onChange:n,Actions:l,update:r,createComponent:c,html:d,StyleMap:u}=t,h="list-column-header",m=Object.assign(Object.assign({},e),{api:o,state:a,componentName:h}),g=o.getActions(h),f=[];let p;f.push(a.subscribe("config.components.ListColumnHeaderResizer",(t=>p=t)));const w=c(p,e);let v;f.push(a.subscribe("config.components.ListColumnRowExpander",(t=>v=t)));const b=c(v,e);s((()=>{w.destroy(),b.destroy(),f.forEach((t=>t()))}));const y=o.generateSlots(h,t,e),D=o.getClass(h),W=o.getClass(h+"-content");let x=o.getId(h,e.column.id);n((t=>{e=t;for(const t in e)m[t]=e[t];x=o.getId(h,e.column.id),w.change(e),b.change(e),y.change(t)}));const P=new u({height:"","--height":"","--paddings-count":""});s(a.subscribe("config.headerHeight",(()=>{const t=a.get("config");P.style.height=t.headerHeight+"px",P.style["--height"]=t.headerHeight+"px",P.style["--paddings-count"]="1",r()})));const C=l.create(g,m);function $({className:t,contentClass:e,styleMap:o,elId:a,cache:s,ListColumnRowExpander:i,ListColumnHeaderResizer:n,actions:l,slots:r,html:c,vido:d,props:u}){return s(!u||!u.column?null:r.html("outer",c`
              <div
                class=${t}
                data-gstcid=${u.column.id}
                style=${o.directive()}
                data-actions=${l()}
              >
                ${r.html("content",u.column.expander?c`
        <div class=${e}>
          ${i.html(u.column)}${n.html(u.column)}
        </div>
      `:c` <div class=${e}>${n.html(u.column)}</div> `)}
              </div>
            `))}let I=$;return s(a.subscribe(`config.templates.${h}`,(t=>{I=null!=t?t:$,r()}))),()=>I({className:D,contentClass:W,cache:i,styleMap:P,elId:x,ListColumnRowExpander:b,ListColumnHeaderResizer:w,actions:C,slots:y,html:d,vido:t,props:e})}
/**
 * ListColumnHeaderResizer component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function L(t,e){const{api:o,state:a,onDestroy:s,cache:i,update:n,html:l,Actions:r,onChange:c,PointerAction:d,StyleMap:u,unsafeHTML:h}=t,m="list-column-header-resizer",g=o.getActions(m),f=o.getActions(m+"-dots"),p={up:"",down:""};let w,v,b,y;s(a.subscribe("config.list.sort.icons",(t=>{p.up=o.getSVGIconSrc(t.up),p.down=o.getSVGIconSrc(t.down)}))),w=o.getClass(m),v=o.getClass(m+"-container"),b=o.getClass(m+"-dots"),y=o.getClass(m+"-dots-dot");const D=o.getClass(m+"-sort-icon");let W;const x=new u({});let P=!1;const C=o.generateSlots(m,t,e);let $=!0,I=0;const S={componentName:m,column:e.column,api:o,state:a,pointerOptions:{axis:"x",onMove:function({movementX:t,event:o}){if(!$)return;t&&(o.preventDefault(),o.stopPropagation());let s=a.get("config.list.columns.minWidth");"number"==typeof e.column.minWidth&&(s=e.column.minWidth),I+=t,I<s&&(I=s),P&&a.update(`config.list.columns.data.${e.column.id}.width`,I)}}};function M(){if(!e||!e.column||!e.column.id)return;S.column=e.column,w=o.getClass(m,e.column.id),v=o.getClass(m+"-container",e.column.id),b=o.getClass(m+"-dots",e.column.id),y=o.getClass(m+"-dots-dot",e.column.id),$=!("resizer"in e.column)||e.column.resizer;const t=a.get("config.list");W=I=e.column.width*t.columns.percent*.01,x.style["--width"]=t.columns.resizer.width+"px",P=t.columns.resizer.inRealTime,a.update("$data.list.width",W),C.change(e),n()}c((t=>{e=t,M()})),s(a.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","config.list.columns.resizer.inRealTime"],M,{group:!0}));let R=[1,2,3,4,5,6,7,8];s(a.subscribe("config.list.columns.resizer.dots",(t=>{R=[];for(let e=0;e<t;e++)R.push(e);n()})));let k=!0;function O(){e.column.sortable&&(k=!k,a.update("config.list.sort",(t=>(t.activeColumnId=e.column.id,t.asc=k,t))))}let G=!1;s(a.subscribe("config.list.sort",(t=>{if(t.activeColumnId===e.column.id)return k=t.asc,void(G=!0);G=!1}))),f.push(d);const z=r.create(g,S),L=r.create(f,S);function A({className:t,containerClass:e,iconClass:o,dotsClass:a,dotClass:s,dotsStyleMap:i,dots:n,onLabelClick:l,dotsActions:r,resizer:c,icons:d,sortActive:u,cache:h,asc:m,actions:g,slots:f,html:p,unsafeHTML:w,vido:v,props:b}){const y=!b||!b.column;function D(){return b.column.sortable&&u?m?p` <img src="${d.down}" class=${o} /> `:p` <img src="${d.up}" class=${o} /> `:null}function W(){return y?null:"function"==typeof b.column.header.content?b.column.header.content({column:b.column,vido:v}):b.column.header.content}return h(y?null:f.html("outer",p`
              <div class=${t} data-gstcid=${b.column.id} data-actions=${g()}>
                ${f.html("container-outer",c?y?null:p`
        <div class=${e} @click=${l}>
          ${f.html("content",b.column.header.html?w(b.column.header.html):W())}
          ${D()}
        </div>
        <div class=${a} style=${i.directive()} data-actions=${r()}>
          ${n.map((()=>p` <div class=${s} /> `))}
        </div>
      `:y?null:p`
        <div class=${e} @click=${l}>
          ${f.html("content",b.column.header.html?w(b.column.header.html):W())}
          ${D()}
        </div>
      `)}
              </div>
            `))}let N=A;return s(a.subscribe(`config.templates.${m}`,(t=>{N=null!=t?t:A,n()}))),()=>N({className:w,containerClass:v,onLabelClick:O,iconClass:D,cache:i,dotsClass:b,dotsStyleMap:x,dotsActions:L,dots:R,dotClass:y,resizer:$,icons:p,sortActive:G,asc:k,actions:z,slots:C,html:l,unsafeHTML:h,vido:t,props:e})}
/**
 * ListColumnRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class A{constructor(t,e){let o=e.state.get("$data.elements.list-column-rows"),a=!1;void 0===o&&(a=!0,o=[]),o.includes(t)||(o.push(t),a=!0),a&&e.state.update("$data.elements.list-column-rows",o,{only:null})}destroy(t,e){e.state.update("$data.elements.list-column-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function N(t,e){const{api:o,state:a,onDestroy:s,cache:i,Actions:n,update:l,html:r,createComponent:c,onChange:d,StyleMap:u,unsafeHTML:h}=t,m="list-column-row",g=Object.assign(Object.assign({},e),{api:o,state:a,componentName:m});let f,p=!1;s(a.subscribe("config.components.ListColumnRowExpander",(t=>f=t)));const w=new u(e.column.expander?{height:"",top:"","--height":"","--expander-padding-width":"","--expander-size":""}:{height:"",top:"","--height":""}),v=c(f,{row:e.row}),b=o.getClass(m),y=o.getClass(m+"-content");let D=o.getClass(m);const W=o.generateSlots(m,t,e);let x;d((function(s,i){var n;if(i.leave||!s||void 0===s.row||void 0===s.column)return p=!0,W.change(s,i),void l();p=!1,e=s;for(const t in e)g[t]=e[t];if(!e.column||!e.row||!e.rowData)return p=!0,W.change(s,i),void l();if(void 0===e.column||void 0===e.row)return;x=e.column.isHTML?void 0===e.row?null:"function"==typeof e.column.data?h(e.column.data({row:e.row,vido:t})):"function"==typeof e.row[e.column.data]?h(e.row[e.column.data]({row:e.row,vido:t})):h(e.row[e.column.data]):void 0===e.row?null:"function"==typeof e.column.data?e.column.data({row:e.row,vido:t}):"function"==typeof e.row[e.column.data]?e.row[e.column.data]({row:e.row,vido:t}):e.row[e.column.data];const r=a.get("config.list.expander");for(const t in w.style)delete w.style[t];w.style.height=e.rowData.outerHeight+"px",w.style["--height"]=e.rowData.outerHeight+"px",e.column.expander&&(w.style["--expander-padding-width"]=r.padding*(e.rowData.parents.length+1)+"px");const c=a.get("config.list.rows");for(const t of e.rowData.parents){const e=c[t];if("object"==typeof e.style&&"Object"===e.style.constructor.name&&"object"==typeof e.style.children){const t=e.style.children;for(const e in t)w.style[e]=t[e]}}if(null===(n=null==e?void 0:e.row)||void 0===n?void 0:n.style)for(const t in e.row.style)w.style[t]=e.row.style[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)D=o.getClass(m)+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const a=e.row.classNames({row:e.row,vido:t});Array.isArray(a)&&a.length&&(D=o.getClass(m)+" "+a.join(" "))}}else D=b;v&&v.change(e),W.change(e,i),l()})),s((()=>{v&&v.destroy()}));const P=o.getActions(m);P.includes(A)||P.push(A);const C=n.create(P,g);function $({classNameCurrent:t,classNameContent:e,styleMap:o,cache:a,shouldDetach:s,content:i,ListColumnRowExpander:n,slots:l,actions:r,html:c,vido:d,props:u}){return a(s||!u||!u.column||!u.row?null:l.html("outer",c`
              <div
                class=${t}
                data-gstcid=${u.row.id}
                style=${o.directive()}
                data-actions=${r()}
              >
                ${l.html("inner",c`
                    ${u.column.expander?n.html():null}
                    <div class=${e}>${l.html("content",i)}</div>
                  `)}
              </div>
            `))}let I=$;return s(a.subscribe("config.templates.list-column-row",(t=>{I=null!=t?t:$,l()}))),()=>I({classNameCurrent:D,cache:i,shouldDetach:p,styleMap:w,ListColumnRowExpander:v,classNameContent:y,slots:W,actions:C,content:x,html:r,vido:t,props:e})}
/**
 * ListColumnRowExpander component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function T(t,e){const{api:o,state:a,onDestroy:s,Actions:i,html:n,cache:l,createComponent:r,onChange:c,update:d}=t,u="list-column-row-expander",h=o.getActions(u),m=Object.assign(Object.assign({},e),{api:o,state:a,componentName:u}),g=o.getClass(u);let f;const p=a.subscribe("config.components.ListColumnRowExpanderToggle",(t=>f=t)),w=r(f,e);s((()=>{w.destroy(),p()}));const v=o.generateSlots(u,t,e);e.row&&c((function(t){if((e=t)&&e.row&&e.rowData){for(const t in e)m[t]=e[t];w.change(e),v.change(t),d()}}));const b=i.create(h,m);function y({className:t,ListColumnRowExpanderToggle:e,slots:o,actions:a,html:s,cache:i,vido:n,props:l}){return i(!l||!l.row?null:o.html("outer",s`
              <div class=${t} data-gstcid=${l.row.id} data-action=${a()}>
                ${o.html("content",e.html())}
              </div>
            `))}let D=y;return s(a.subscribe(`config.templates.${u}`,(t=>{D=null!=t?t:y,d()}))),()=>D({className:g,ListColumnRowExpanderToggle:w,slots:v,actions:b,html:n,cache:l,vido:t,props:e})}
/**
 * ListColumnRowExpanderToggle component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function H(t,e){const{api:o,state:a,cache:s,onDestroy:i,Actions:n,update:l,html:r,onChange:c}=t,d="list-column-row-expander-toggle",u=Object.assign(Object.assign({},e),{api:o,state:a,componentName:d}),h=o.getActions(d),m=o.getClass(d),g=o.getClass(d+"-child"),f=o.getClass(d+"-open"),p=o.getClass(d+"-closed");let w,v,b,y=!1;i(a.subscribe("$data.list.expander.icons",(t=>{t&&(w=t.child,v=t.open,b=t.closed),l()})));const D=o.generateSlots(d,t,e);e.row?(c((function(t){if(e&&e.row){e=t;for(const t in e)u[t]=e[t];y=e.row.expanded,D.change(t),l()}})),i((function(){}))):i(a.subscribe("config.list.rows.*.expanded",(function(t){for(const e of t)if(e.value){y=!0;break}l()}),{bulk:!0}));const W=n.create(h,u);function x(){y=!y,e.row?a.update(`config.list.rows.${e.row.id}.expanded`,y,{data:{name:"expanded",rowId:e.row.id,expanded:y}}):a.update("config.list.rows",(t=>{for(const e in t)t[e].expanded=y;return t}),{only:["*.expanded"]})}function P({className:t,classNameChild:e,classNameOpen:o,classNameClosed:a,expanded:s,iconChild:i,iconOpen:n,iconClosed:l,toggle:r,cache:c,slots:d,actions:u,html:h,vido:m,props:g}){return c(!g||!g.rowData||!g.row?null:d.html("outer",h`
              <div class=${t} data-gstcid=${g.row.id} data-action=${u()} @click=${r}>
                ${d.html("content",i?0===(null===(p=null===(f=g.rowData)||void 0===f?void 0:f.children)||void 0===p?void 0:p.length)?h` <img width="16" height="16" class=${e} src=${i} /> `:s?h` <img width="16" height="16" class=${o} src=${n} /> `:h` <img width="16" height="16" class=${a} src=${l} /> `:"")}
              </div>
            `));var f,p}let C=P;return i(a.subscribe(`config.templates.${d}`,(t=>{C=null!=t?t:P,l()}))),()=>C({className:m,classNameChild:g,iconChild:w,expanded:y,cache:s,classNameOpen:f,classNameClosed:p,iconOpen:v,iconClosed:b,toggle:x,slots:D,actions:W,html:r,vido:t,props:e})}
/**
 * ListToggle component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function V(t,e={}){const{html:o,onDestroy:a,api:s,state:i,update:n,StyleMap:l,Actions:r,onChange:c}=t,d="list-toggle",u=s.getClass(d),h=Object.assign(Object.assign({},e),{api:s,state:i,componentName:d});let m={open:"",close:""};a(i.subscribe("$data.list.toggle.icons",(t=>{t&&(m=t,n())})));const g=new l({top:"0px"});a(i.subscribe("$data.scroll.vertical.preciseOffset",(t=>{g.style.top=(-1*Math.round(t)||0)+"px"})));let f=!0;a(i.subscribe("config.list.columns.percent",(t=>f=0!==t)));let p=!1;function w(){p=!0}function v(){p&&(p=!1,i.update("config.list.columns.percent",(t=>0===t?100:0)))}c((t=>{e=t;for(const o in t)h[o]=e[o]}));const b=s.getActions(d),y=r.create(b,h),D=s.generateSlots(d,t,e);function W({className:t,styleMap:e,pointerDown:o,pointerUp:a,open:s,toggleIconsSrc:i,actions:n,slots:l,html:r,vido:c,props:d}){return l.html("outer",r`
        <div
          class=${t}
          style=${e.directive()}
          @pointerdown=${o}
          @pointerup=${a}
          actions=${n()}
        >
          ${l.html("content",r` <img src=${s?i.close:i.open} /> `)}
        </div>
      `)}let x=W;return a(i.subscribe("config.templates.list-toggle",(t=>{x=null!=t?t:W,n()}))),()=>x({className:u,styleMap:g,pointerDown:w,pointerUp:v,open:f,toggleIconsSrc:m,actions:y,slots:D,html:o,vido:t,props:e})}
/**
 * Chart component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function E(t,e={}){const{api:o,state:a,onDestroy:s,Actions:i,html:n,createComponent:l,update:r}=t,c="chart",d=[];let u,h,m;d.push(a.subscribe("config.components.ChartCalendar",(t=>u=t))),d.push(a.subscribe("config.components.ChartTimeline",(t=>h=t))),d.push(a.subscribe("config.components.ScrollBar",(t=>m=t)));const g=l(u);s(g.destroy);const f=l(h);s(f.destroy);const p=l(m,{type:"horizontal"});s(p.destroy);const w=l(m,{type:"vertical"});s(w.destroy),s((()=>{d.forEach((t=>t()))}));const v=o.getClass(c),b=o.getActions(c);let y=!1;s(a.subscribe("config.chart.time.calculatedZoomMode",(t=>y=t)));const D={handleEvent:function(t){t.type},passive:!1,capture:!1};let W,x=0;b.push((function(t){W||(W=new ResizeObserver((()=>{const e=t.offsetWidth,o=t.offsetHeight,s=e-a.get("config.scroll.horizontal.width"),i=a.get("config.headerHeight");x!==e&&(x=e,a.update("$data.chart.dimensions",(t=>(t.width=e,t.widthWithoutScrollBar=s,t.height=o,t.innerHeight=o-i,t))))})),W.observe(t),a.update("$data.elements.chart",t))})),s((()=>{W.disconnect()}));const P={api:o,state:a,componentName:c},C=i.create(b,P),$=o.generateSlots(c,t,e);function I({className:t,onWheel:e,ChartCalendar:o,ChartTimeline:a,ScrollBarVertical:s,calculatedZoomMode:i,ScrollBarHorizontal:n,actions:l,slots:r,html:c,vido:d,props:u}){return r.html("outer",c`
        <div class=${t} data-actions=${l()} @wheel=${e}>
          ${r.html("content",c`
              ${o.html()}${a.html()}${s.html()}
              ${i?null:n.html()}
            `)}
        </div>
      `)}let S=I;return s(a.subscribe("config.templates.chart",(t=>{S=null!=t?t:I,r()}))),()=>S({className:v,onWheel:D,ChartCalendar:g,ChartTimeline:f,ScrollBarVertical:w,calculatedZoomMode:y,ScrollBarHorizontal:p,actions:C,slots:$,html:n,vido:t,props:e})}
/**
 * ChartCalendar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function B(t,e){const{api:o,state:a,onDestroy:s,Actions:i,update:n,reuseComponents:l,html:r,StyleMap:c}=t,d="chart-calendar",u=o.getActions(d),h=Object.assign(Object.assign({},e),{api:o,state:a,componentName:d}),m=a.get("config.components.ChartCalendarDate"),g=o.getClass(d);let f;const p=new c({height:"","--headerHeight":"","margin-left":""});s(a.subscribe("config.headerHeight",(t=>{f=t,p.style.height=f+"px",p.style["--calendar-height"]=f+"px",n()})));let w=[],v=0;s(a.subscribe("$data.chart.time.levels",((t,e)=>{const s=a.get("$data.chart.time.levels");let i=0;if(s.length!==v){v=s.length,w.forEach((t=>t.forEach((t=>t.destroy())))),w=[];for(let t=0;t<v;t++)w.push([])}for(const t of s){if(!t.length)continue;let e="YYYY-MM-DD HH";switch(t[0].period){case"day":e="YYYY-MM-DD";break;case"week":e="YYYY-MM-ww";break;case"month":e="YYYY-MM";break;case"year":e="YYYY"}const a=o.time.date().format(e);l(w[i],t,(t=>t&&{level:i,date:t,currentDate:a,currentDateFormat:e}),m,!0),i++}n()}))),s((()=>{w.forEach((t=>t.forEach((t=>t.destroy()))))})),u.push((t=>{a.update("$data.elements.chart-calendar",t)}));const b=i.create(u,h),y=o.generateSlots(d,t,e);function D({className:t,styleMap:e,components:o,actions:a,slots:s,html:i,vido:n,props:l}){return s.html("outer",i`
        <div class=${t} data-actions=${a()} style=${e.directive()}>
          ${s.html("inner",o.length?o.map(((e,o)=>e&&e.length?i`
                        <div class=${t+"-dates "+t+`-dates--level-${o}`}>
                          ${s.html("content",e.map((t=>t.html())))}
                        </div>
                      `:null)):null)}
        </div>
      `)}let W=D;return s(a.subscribe("config.templates.chart-calendar",(t=>{W=null!=t?t:D,n()}))),()=>W({className:g,styleMap:p,components:w,actions:b,slots:y,html:r,vido:t,props:e})}
/**
 * ChartCalendarDate component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class j extends s{constructor(t,e){super(),e.state.update("$data.elements.chart-calendar-dates",(e=>(void 0===e&&(e=[]),e.includes(t)||e.push(t),e)))}}function _(t,e){const{api:o,state:a,onDestroy:s,Actions:i,update:n,onChange:l,html:r,StyleMap:c,cache:d}=t,u="chart-calendar-date",h=o.getActions(u),m=o.getClass(u);let g,f="",p="";s(a.subscribe("config.chart.time",(t=>g=t)));const w=new c({width:"0px"},{schedule:!1});let v="";function b(){if(!e||!e.date)return;const t=a.get(`config.chart.calendarLevels.${e.level}`);w.style.width=e.date.currentView.width+"px",w.style.left=e.date.currentView.leftPx+"px";const o=t.find((t=>+g.zoom<=+t.zoomTo));f=e.date.current?" gstc-current":e.date.next?" gstc-next":e.date.previous?" gstc-previous":"",p=m+"-content "+m+`-content--${e.date.period}`+f,o.classNames&&Array.isArray(o.classNames)?(p+=" "+o.classNames.join(" "),v=" "+o.classNames.join(" ")):v="",n()}let y=!1;const D=o.generateSlots(u,t,e);let W,x,P;const C={date:e.date,period:e.period,api:o,state:a,componentName:u};l(((t,o)=>{if(o.leave)return y=!0,D.change(t,o),n();y=!1,x=e.level===g.level,P=x?m+"--main-date ":m+"--non-main-date ",e=t,C.date=e.date,C.period=e.period,W&&W(),W=a.subscribeAll(["$data.chart.time","config.chart.calendarLevels"],b,{bulk:!0}),D.change(t,o)})),s((()=>{W()})),h.includes(j)||h.push(j);const $=i.create(h,C);function I({className:t,mainClass:e,additionalClass:o,formatClassName:a,finalClassName:s,styleMap:i,cache:n,shouldDetach:l,actions:r,slots:c,html:d,vido:u,props:h}){return n(l||!h||!h.date?null:c.html("outer",d`
              <div
                class=${t+" "+t+`--${h.date.period} `+e+t+`--level-${h.level}`+o+a}
                data-gstcid=${h.date.id}
                style=${i.directive()}
                data-actions=${r()}
              >
                ${c.html("content",d`<div class=${s.trim()}>${h.date.formatted}</div>`)}
              </div>
            `))}let S=I;return s(a.subscribe(`config.templates.${u}`,(t=>{S=null!=t?t:I,n()}))),()=>S({className:m,mainClass:P,additionalClass:f,formatClassName:v,styleMap:w,finalClassName:p,cache:d,shouldDetach:y,actions:$,slots:D,html:r,vido:t,props:e})}
/**
 * ChartTimeline component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function Y(t,e){const{api:o,state:a,onDestroy:s,Action:i,Actions:n,update:l,html:r,createComponent:c,StyleMap:d}=t,u="chart-timeline",h=Object.assign(Object.assign({},e),{api:o,state:a,componentName:u});let m,g,f;s(a.subscribe("config.components.ChartTimelineGrid",(t=>{m&&m.destroy(),m=c(t)}))),s((()=>{m&&m.destroy()})),s(a.subscribe("config.components.ChartTimelineItems",(t=>{g&&g.destroy(),g=c(t)}))),s((()=>{g&&g.destroy()})),s(a.subscribe("config.components.ListToggle",(t=>{f&&f.destroy(),f=c(t)}))),s((()=>{f&&f.destroy()}));const p=o.generateSlots(u,t,e),w=o.getClass(u),v=o.getClass("chart-timeline-inner");let b;s(a.subscribe("config.list.toggle.display",(t=>b=t)));const y=new d({}),D=new d({});let W,x;s(a.subscribe("config.additionalSpace",(t=>{W=t,l()}))),s(a.subscribe("config.headerHeight",(t=>{x=t,l()}))),s(a.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.scroll.vertical.offset","$data.chart.dimensions.width","$data.list.visibleRowsHeight","$data.chart.time.dates.day","config.headerHeight","config.additionalSpace"],(function(){const t=a.get("$data.chart.dimensions.width"),e=Math.round(o.getRealChartHeight(!0));y.style.height=a.get("config.innerHeight")+"px",y.style["--height"]=y.style.height,y.style.top=W.top+x+"px",t?(y.style.width=t+"px",y.style["--width"]=t+"px"):(y.style.width="0px",y.style["--width"]="0px"),D.style.height=e+"px",D.style.width=t?t+"px":"0px";const s=a.get("$data.scroll.vertical.preciseOffset")||0;D.style.transform=`translateY(${Math.round(s)}px)`,l()}),{group:!0,bulkValue:!1}));let P=[];s(a.subscribe("config.actions.chart-timeline",(t=>{P=t}))),P.push(class extends i{constructor(t){super();a.get("$data.elements.chart-timeline")!==t&&a.update("$data.elements.chart-timeline",t)}});const C=n.create(P,h);function $({className:t,classNameInner:e,styleMap:o,innerStyleMap:a,Grid:s,Items:i,showToggle:n,ListToggle:l,actions:r,slots:c,html:d,vido:u,props:h}){return c.html("outer",d`
        <div class=${t} style=${o.directive()} data-actions=${r()}>
          ${c.html("inner",d`
              <div class=${e} style=${a.directive()}>
                ${c.html("content",d` ${s.html()}${i.html()}${n?l.html():""} `)}
              </div>
            `)}
        </div>
      `)}let I=$;return s(a.subscribe("config.templates.chart-timeline",(t=>{I=null!=t?t:$,l()}))),()=>I({className:w,styleMap:y,classNameInner:v,Grid:m,innerStyleMap:D,Items:g,showToggle:b,ListToggle:f,actions:C,slots:p,html:r,vido:t,props:e})}
/**
 * ChartTimelineGrid component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class F{constructor(t,e){e.state.get("$data.elements.chart-timeline-grid")!==t&&e.state.update("$data.elements.chart-timeline-grid",t,{only:null})}destroy(t,e){e.state.update("$data.elements",(t=>(delete t["chart-timeline-grid"],t)),{only:null})}}function Q(t,e){const{api:o,state:a,onDestroy:s,Actions:i,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-grid",u=o.getActions(d),h={api:o,state:a,componentName:d},m=a.get("config.components.ChartTimelineGridRow"),g=o.getClass(d);let f,p;s(a.subscribe("config.chart.grid.cell.onCreate",(t=>f=t))),s(a.subscribe("config.debug",(t=>p=t)));const w=[],v={},b=new Map,y=new c({});s(a.subscribeAll(["$data.scroll.vertical.preciseOffset","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar"],(function(){const t=a.get("$data.chart.dimensions.width"),e=o.getRealChartHeight();y.style.height=Math.round(e)+"px",y.style.width=t+"px"}),{group:!0}));let D="",W=0,x=0,P="",C=0,$="";s(a.subscribeAll(["$data.list.rowsHeight","$data.list.visibleRows","$data.list.visibleRowsHeight","$data.chart.time.levels","$data.scroll","config.list.rows;","config.list.rows.*;"],(function(e,s){const i=a.get("$data.chart.time"),n=a.get(`$data.chart.time.levels.${i.level}`),l=i.levels[i.level];if(!l||!l.length)return;const r=i.levels[i.level].map((t=>t.currentView.width)).join(",");if(!n||0===n.length)return void a.update("$data.chart.grid",{rows:{},cells:{}});const c=o.getRowsData(),d=a.get("$data.list.visibleRows"),u=d.map((t=>c[t].outerHeight)).join("|"),h=d.join("|");if(h===D&&W===i.leftGlobal&&x===i.rightGlobal&&u===P&&C===n.length&&$===r)return;W=i.leftGlobal,x=i.rightGlobal,$=r,P=u,p&&console.log("[grid.ts] generateCells");let m=0;if(h!==D)for(const t in v)delete v[t];else if(C!==n.length)for(const t in v)v[t].cells.length=0;C=n.length;const g=o.getAllRows(),w=a.get("$data.chart.grid.cells");for(const t in w)delete w[t];for(const e of d){const a=g[e],s=c[e];if(!a||!s)continue;let i,l;h!==D?i=[]:(i=v[e].cells,i.length=0);for(const e of n){let n;b.has(e.leftGlobal)?n=b.get(e.leftGlobal):(n=o.time.date(e.leftGlobal).format("YYYY-MM-DDTHH-mm-ss"),b.set(e.leftGlobal,n));const l=a.id+"-"+n;let r;w[l]?(r=w[l],r.id=l,r.time=e,r.row=a,r.rowData=s,r.top=m,r.vido=t,r.content=null):r={id:l,time:e,row:a,rowData:s,top:m,vido:t,content:null};for(const t of f)r.content=t(r);w[r.id]=r,i.push(r.id)}v[e]?(l=v[e],l.row=a,l.rowData=s,l.cells=i,l.top=m):l={row:a,rowData:s,cells:i,top:m},v[e]=l,m+=s.outerHeight}D=h,a.update("$data.chart.grid",{rows:v,cells:w})}),{group:!0,bulkValue:!1})),s(a.subscribe("$data.chart.grid",(function(t,e){p&&console.log("[grid.ts] generate rows components",e);const a=o.getGridRows();r(w,a||[],(t=>t),m,!0),n()}),{group:!0})),s((()=>{w.forEach((t=>t.destroy()))})),u.push(F);const I=i.create(u,h),S=o.generateSlots(d,t,e);function M({className:t,styleMap:e,rowsComponents:o,actions:a,slots:s,html:i,vido:n,props:l}){return s.html("outer",i`
        <div class=${t} data-actions=${a()} style=${e.directive()}>
          ${s.html("content",o.map((t=>t.html())))}
        </div>
      `)}let R=M;return s(a.subscribe(`config.templates.${d}`,(t=>{R=null!=t?t:M,n()}))),()=>R({className:g,styleMap:y,rowsComponents:w,actions:I,slots:S,html:l,vido:t,props:e})}
/**
 * ChartTimelineGridRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class J{constructor(t,e){let o=!1,a=e.state.get("$data.elements.chart-timeline-grid-rows");void 0===a&&(a=[],o=!0),a.includes(t)||(a.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-grid-rows",a,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function U(t,e){const{api:o,state:a,onDestroy:s,cache:i,Actions:n,update:l,html:r,reuseComponents:c,onChange:d,StyleMap:u}=t,h="chart-timeline-grid-row",m=Object.assign(Object.assign({},e),{api:o,state:a,componentName:h});let g;s(a.subscribe("config.components.ChartTimelineGridRowCell",(t=>g=t)));const f=o.getActions(h),p=o.getClass(h),w=new u({height:e.row.height+"px"});let v=!1;const b=o.generateSlots(h,t,e),y=[];d((function(t,a){if(!t||a.leave||void 0===t.row)return v=!0,c(y,[],(t=>t),g,!0),b.change(t,a),void l();v=!1,e=t;const s=o.getGridCells(e.cells);if(c(y,s,(t=>t),g,!0),w.setStyle({}),w.style.height=e.rowData.outerHeight+"px",e.row.style)for(const t in e.row.style)w.style[t]=e.row.style[t];for(const t in e)m[t]=e[t];b.change(t,a)})),s((function(){y.forEach((t=>t.destroy()))})),-1===f.indexOf(J)&&f.push(J);const D=n.create(f,m);function W({className:t,styleMap:e,rowsCellsComponents:o,cache:a,shouldDetach:s,actions:i,slots:n,html:l,vido:r,props:c}){return a(s||!c||!c.row?null:n.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${i()}
                style=${e.directive()}
              >
                ${n.html("content",o.map((t=>t.html())))}
              </div>
            `))}let x=W;return s(a.subscribe(`config.templates.${h}`,(t=>{x=null!=t?t:W,l()}))),()=>x({className:p,styleMap:w,rowsCellsComponents:y,cache:i,shouldDetach:v,actions:D,slots:b,html:r,vido:t,props:e})}
/**
 * ChartTimelineGridRowCell component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class Z{constructor(t,e){let o=!1,a=e.state.get("$data.elements.chart-timeline-grid-row-cells");void 0===a&&(a=[],o=!0),a.includes(t)||(a.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-grid-row-cells",a,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-row-cells",(e=>e.filter((e=>e!==t))),{only:[""]})}}function K(t,e){const{api:o,state:a,cache:s,Actions:i,html:n,onChange:l,onDestroy:r,StyleMap:c,update:d}=t,u="chart-timeline-grid-row-cell",h=Object.assign(Object.assign({},e),{api:o,state:a,componentName:u});let m=!1;const g=o.getActions(u),f=o.generateSlots(u,t,e);let p;function w(t){p=o.getClass(u),t&&t.time&&t.time.current&&(p+=" current")}w(e);const v=new c({width:"",height:""});l((function(t,o){var a,s;if(!t||o.leave||void 0===t.row)return m=!0,f.change(t,o),void d();m=!1,e=t;for(const t in e)h[t]=e[t];if(w(e),v.setStyle({}),e&&e.row){if(v.style.width=((null===(s=null===(a=null==e?void 0:e.time)||void 0===a?void 0:a.currentView)||void 0===s?void 0:s.width)||0)+"px",e.row.style)for(const t in e.row.style)v.style[t]=e.row.style[t];f.change(e,o),d()}})),g.push(Z);const b=i.create(g,h);function y({className:t,styleMap:e,cache:o,shouldDetach:a,actions:s,slots:i,html:n,vido:l,props:r}){var c;return o(a||!r||!r.id?null:i.html("outer",n`
              <div class=${t} data-gstcid=${r.id} data-actions=${s()} style=${e.directive()}>
                ${i.html("content",null!==(c=r&&r.content)&&void 0!==c?c:null)}
              </div>
            `))}let D=y;return r(a.subscribe(`config.templates.${u}`,(t=>{D=null!=t?t:y,d()}))),()=>D({className:p,styleMap:v,cache:s,shouldDetach:m,actions:b,slots:f,html:n,vido:t,props:e})}
/**
 * ChartTimelineItems component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function q(t,e={}){const{api:o,state:a,onDestroy:s,Actions:i,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-items";let u,h;s(a.subscribe(`config.actions.${d}`,(t=>u=t))),s(a.subscribe("config.components.ChartTimelineItemsRow",(t=>h=t)));const m=o.getClass(d),g=new c({});let f;s(a.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.chart.dimensions.width","$data.scroll.vertical.preciseOffset"],(function(){const t=a.get("$data.chart.dimensions.width"),e=o.getRealChartHeight();g.style.width=t+"px",g.style.height=e+"px"}),{group:!0})),s(a.subscribe("config.debug",(t=>f=t)));const p=[],w={};s(a.subscribeAll(["$data.list.visibleRows","config.list.rows","config.components.ChartTimelineItemsRow","config.chart.items","$data.chart.items"],(function t(){a.mute(t),f&&console.log("[items.ts] Updating item & rows components.");const e=a.get("$data.list.visibleRows")||[],s=o.getRows(e),i=o.getRowsData();for(const t of s)w[t.id]||(w[t.id]={}),w[t.id].row=t,w[t.id].rowData=i[t.id];for(const t in w)e.includes(t)||delete w[t];r(p,s,(t=>t?w[t.id]:null),h,!0),n(),a.unmute(t)}),{group:!0,bulkValue:!1})),s((()=>{p.forEach((t=>t.destroy()))}));const v={api:o,state:a,componentName:d},b=i.create(u,v),y=o.generateSlots(d,t,e);function D({className:t,styleMap:e,rowsComponents:o,actions:a,slots:s,html:i,vido:n,props:l}){return s.html("outer",i`
        <div class=${t} style=${e.directive()} data-actions=${a()}>
          ${s.html("content",o.map((t=>t.html())))}
        </div>
      `)}let W=D;return s(a.subscribe(`config.templates.${d}`,(t=>{W=null!=t?t:D,n()}))),()=>W({className:m,styleMap:g,rowsComponents:p,actions:b,slots:y,html:l,vido:t,props:e})}
/**
 * ChartTimelineItemsRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class X{constructor(t,e){let o=!1,a=e.state.get("$data.elements.chart-timeline-items-rows");void 0===a&&(a=[],o=!0),a.includes(t)||(a.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-items-rows",a,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function tt(t,e){const{api:o,state:a,onDestroy:s,cache:i,Actions:n,update:l,html:r,onChange:c,reuseComponents:d,StyleMap:u}=t,h="chart-timeline-items-row",m=Object.assign(Object.assign({},e),{api:o,state:a,componentName:h});let g;s(a.subscribe("config.components.ChartTimelineItemsRowItem",(t=>g=t)));let f="";const p=[],w=new u({width:"",height:""});let v=!1;function b(t=e.rowData,o=null){const s=a.get("$data.chart");v=!1,w.style.width=s.dimensions.width+"px",e?(w.style.height=t.outerHeight+"px",w.style["--row-height"]=t.outerHeight+"px",l()):v=!0}function y(t,e){if(!t||!e)return v=!0,d(p,[],(()=>null),g,!0),l();const a=e.items;if(void 0===a)return v=!0,d(p,[],(()=>null),g,!0),b(),l();const s=o.getItems(a);s.sort(((t,e)=>t.time.start-e.time.start)),d(p,s,(e=>({row:t,item:e,itemData:e?o.getItemData(e.id):null})),g,!0),b(),l()}const D=o.getClass(h),W=o.generateSlots(h,t,e);c((function(o,a){if(a.leave||!o||void 0===o.row)return v=!0,d(p,[],(()=>null),g,!0),W.change(o,a),l();e=o;for(const t in e)m[t]=e[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)f=D+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const o=e.row.classNames({row:e.row,vido:t});Array.isArray(o)&&o.length&&(f=D+" "+o.join(" "))}}else f=D;y(e.row,e.rowData),W.change(o,a),l()})),s(a.subscribe("$data.chart.dimensions.width",(()=>y(e.row,e.rowData)))),s((()=>{p.forEach((t=>t.destroy()))}));const x=o.getActions(h);x.push(X);const P=n.create(x,m);function C({classNameCurrent:t,styleMap:e,shouldDetach:o,itemComponents:a,actions:s,slots:i,cache:n,html:l,vido:r,props:c}){return n(o||!c||!c.row?null:i.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${s()}
                style=${e.directive()}
              >
                ${i.html("content",a.map((t=>t.html())))}
              </div>
            `))}let $=C;return s(a.subscribe(`config.templates.${h}`,(t=>{$=null!=t?t:C,l()}))),()=>$({cache:i,shouldDetach:v,classNameCurrent:f,styleMap:w,itemComponents:p,actions:P,slots:W,html:r,vido:t,props:e})}
/**
 * ChartTimelineItemsRowItem component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */class et{constructor(t,e){let o=!1,a=e.state.get("$data.elements.chart-timeline-items-row-items");void 0===a&&(a=[],o=!0),a.includes(t)||(a.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-items-row-items",a,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-row-items",(e=>e.filter((e=>e!==t))),{only:null})}}function ot(t,e){const{api:o,state:a,cache:s,onDestroy:i,Actions:n,update:l,html:r,onChange:c,unsafeHTML:d,StyleMap:u}=t;let h,m,g;i(a.subscribe("config.debug",(t=>g=t)));let f=0;i(a.subscribe("config.chart.spacing",(t=>{f=t,l()})));const p="chart-timeline-items-row-item";let w=0,v=0,b=!1,y="";const D=new u({width:"",height:"",left:"",top:""}),W=new u({}),x=new u({}),P={item:e.item,itemData:e.itemData,row:e.row,left:w,width:v,api:o,state:a,componentName:p},C=o.getClass(p),$=o.getClass(p+"-label"),I=o.generateSlots(p,t,e);let S,M=!1;function R(s=a.get("$data.chart.time")){var i;if(I.change(e,{leave:!1}),b||0===s.levels.length||!s.levels[s.level]||0===s.levels[s.level].length)return M=!0,l();if(!e.item||!e.itemData)return M=!0,l();"verbose"===g&&(console.groupCollapsed("[items-row-item.ts] Update item (before)"),console.log({id:e.item.id,item:e.item}),console.trace(),console.groupEnd());const n=e.itemData;if(w=n.position.actualLeft,v=n.actualWidth-f,e.item.time.end<s.leftGlobal||e.item.time.start>s.rightGlobal||v<=0)return M=!0,n.detached=M,l();if(y=C,e.item.time.start<s.leftGlobal?(W.style.display="flex",y+=" "+o.getClass(p+"--left-cut")):W.style.display="none",e.item.time.end>s.rightGlobal?(x.style.display="flex",y+=" "+o.getClass(p+"--right-cut")):x.style.display="none",e.item.classNames)if(Array.isArray(e.item.classNames)&&e.item.classNames.length)y+=" "+e.item.classNames.join(" ");else if("function"==typeof e.item.classNames){const o=e.item.classNames({item:e.item,vido:t});Array.isArray(o)&&(y+=" "+o.join(" "))}const r=D.style.width,c=D.style.left,d=D.style.top,u=D.style.height;D.setStyle({});const h=o.isItemInViewport(e.item,s.leftGlobal,s.rightGlobal);if(M=!h,n.detached=M,h?(D.style.width=v+"px",D.style.left=w+"px",D.style.top=n.position.actualRowTop+"px",D.style.height=n.actualHeight+"px"):(D.style.width=r,D.style.left=c,D.style.top=d,D.style.height=u),null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.style)for(const t in e.item.style)D.style[t]=e.item.style[t];P.left=w,P.width=v,l()}i(a.subscribe("config.chart.item.cutIcons",(t=>{S={left:o.getSVGIconSrc(t.left),right:o.getSVGIconSrc(t.right)}})));const k=o.getClass(`${p}-cut`)+" "+o.getClass(`${p}--left-cut-icon`),O=o.getClass(`${p}-cut-image`),G=()=>r`
    <div class=${k} style=${W.directive()}>
      <img src="${S.left}" width="18" height="18" class=${O} />
    </div>
  `,z=o.getClass(`${p}-cut`)+" "+o.getClass(`${p}--right-cut-icon`),L=o.getClass(`${p}-cut-image`),A=()=>r`
    <div class=${z} style=${x.directive()}>
      <img src="${S.right}" width="18" height="18" class=${L} />
    </div>
  `;c((function(t,o){if(o.leave||void 0===t.row||void 0===t.item)return b=!0,M=!0,I.change(t,o),l();M=!1,b=!1,(e=t).item.id===h&&e.row.id===m||(h=e.item.id,m=e.row.id),P.item=e.item,P.itemData=e.itemData,P.row=e.row,R(),I.change(t,o),l()}));const N=o.getActions(p);i(a.subscribe("$data.chart.time",R)),N.push(et);const T=n.create(N,P);function H(){return e.item?e.item.isHTML?e.item&&e.item.label?"function"==typeof e.item.label?d(e.item.label({item:e.item,vido:t})):d(e.item.label):null:e.item&&e.item.label?"function"==typeof e.item.label?e.item.label({item:e.item,vido:t}):e.item.label:null:null}function V({className:t,labelClassName:e,styleMap:o,cache:a,shouldDetach:s,cutterLeft:i,cutterRight:n,getContent:l,actions:r,slots:c,html:d,vido:u,props:h}){return a(s||!h||!h.item?null:c.html("outer",d`
              <div
                class=${t}
                data-gstcid=${h.item.id}
                data-actions=${r()}
                style=${o.directive()}
              >
                ${c.html("inner",d`
                    ${i()}
                    <div class=${e}>${c.html("content",l())}</div>
                    ${n()}
                  `)}
              </div>
            `))}let E=V;return i(a.subscribe(`config.templates.${p}`,(t=>{E=null!=t?t:V,l()}))),()=>E({className:y,labelClassName:$,cache:s,shouldDetach:M,styleMap:D,cutterLeft:G,cutterRight:A,getContent:H,actions:T,slots:I,html:r,vido:t,props:e})}
/**
 * Gantt-Schedule-Timeline-Calendar default configuration
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */const at=["main","scroll-bar","list","list-column","list-column-header","list-column-header-resizer","list-column-row","list-column-row-expander","list-column-row-expander-toggle","list-toggle","chart","chart-calendar","chart-calendar-date","chart-timeline","chart-timeline-grid","chart-timeline-grid-row","chart-timeline-grid-row-cell","chart-timeline-items","chart-timeline-items-row","chart-timeline-items-row-item"];function st(){const t={};return at.forEach((e=>t[e]=[])),t}function it(){const t={};return at.forEach((e=>t[e]=null)),t}function nt(){const t={};return at.forEach((e=>{t[e]={outer:[],inner:[],"container-outer":[],"container-inner":[],content:[]}})),t}const lt=i.mergeDeep;function rt(t){let e=function(t,e){return i.mergeDeep(t,e)};"function"==typeof t.merge&&(e=t.merge);const o=function(){const t=[{zoomTo:17,period:"day",periodIncrement:1,classNames:["gstc-date-medium gstc-date-left"],format:({timeStart:t})=>t.format("DD MMMM YYYY (dddd)")},{zoomTo:23,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM YYYY")},{zoomTo:24,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM 'YY")},{zoomTo:25,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMM YYYY")},{zoomTo:27,period:"year",periodIncrement:1,format:({timeStart:t})=>t.format("YYYY")},{zoomTo:100,period:"year",periodIncrement:1,format:()=>null}],e=[{zoomTo:16,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:17,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH")},{zoomTo:19,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t,className:e,vido:o})=>o.html`<span class="${e}-content gstc-date-bold">${t.format("DD")}</span> <span class="${e}-content gstc-date-thin">${t.format("dddd")}</span>`},{zoomTo:20,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("DD")}</div><div class="${o}-content gstc-date-small">${t.format("dddd")}</div>`},{zoomTo:21,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("DD")}</div><div class="${o}-content gstc-date-small">${t.format("ddd")}</div>`},{zoomTo:22,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:o})=>o.html`<div class="${e}-content gstc-date-top">${t.format("DD")}</div><div class="${e}-content gstc-date-extra-small">${t.format("ddd")}</div>`},{zoomTo:23,period:"week",main:!0,periodIncrement:1,format:({timeStart:t,timeEnd:e,className:o,vido:a})=>a.html`<div class="${o}-content gstc-date-top">${t.format("DD")} - ${e.format("DD")}</div><div class="${o}-content gstc-date-small gstc-date-thin">${t.format("ddd")} - ${e.format("dd")}</div>`},{zoomTo:25,period:"week",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,timeEnd:e,className:o,vido:a})=>a.html`<div class="${o}-content gstc-date-top gstc-date-small gstc-date-normal">${t.format("DD")}</div><div class="gstc-dash gstc-date-small">-</div><div class="${o}-content gstc-date-small gstc-date-normal">${e.format("DD")}</div>`},{zoomTo:26,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-month-level-1"],format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("MMM")}</div><div class="${o}-content gstc-date-small gstc-date-bottom">${t.format("MM")}</div>`},{zoomTo:27,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:o})=>o.html`<div class="${e}-content gstc-date-top">${t.format("MM")}</div><div class="${e}-content gstc-date-extra-small">${t.format("MMM")}</div>`},{zoomTo:28,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-big"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:29,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:30,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YY")},{zoomTo:100,period:"year",main:!0,periodIncrement:1,format:()=>null}];return{licenseKey:"",debug:!1,plugins:[],plugin:{},innerHeight:428,initialWidth:1024,additionalSpace:{top:0,bottom:0},headerHeight:72,autoInnerHeight:!1,components:{ScrollBar:R,List:k,ListColumn:G,ListColumnHeader:z,ListColumnHeaderResizer:L,ListColumnRow:N,ListColumnRowExpander:T,ListColumnRowExpanderToggle:H,ListToggle:V,Chart:E,ChartCalendar:B,ChartCalendarDate:_,ChartTimeline:Y,ChartTimelineGrid:Q,ChartTimelineGridRow:U,ChartTimelineGridRowCell:K,ChartTimelineItems:q,ChartTimelineItemsRow:tt,ChartTimelineItemsRowItem:ot},slots:nt(),list:{rows:{},row:{height:40,gap:{top:0,bottom:0}},columns:{percent:100,resizer:{width:10,inRealTime:!0,dots:6},minWidth:50,data:{}},expander:{padding:18,size:20,icon:{width:16,height:16},icons:{child:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><ellipse ry="4" rx="4" id="svg_1" cy="12" cx="12" fill="#000000B0"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',closed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>'}},toggle:{display:!0,icons:{open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path stroke="null" d="m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path transform="rotate(-180 4.392796516418457,12) " stroke="null" d="m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>'}},sort:{compare:null,asc:!0,activeColumnId:null,icons:{up:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>'}}},scroll:{bodyClassName:"gstc-scrolling",horizontal:{width:20,minInnerSize:40,multiplier:3,precise:!1},vertical:{width:20,minInnerSize:40,multiplier:3,precise:!1}},chart:{time:{period:"day",from:0,to:0,zoom:20,leftGlobal:0,centerGlobal:0,rightGlobal:0,calculatedZoomMode:!1,onLevelDates:[],onCurrentViewLevelDates:[],onDate:[],allDates:[],autoExpandTimeFromItems:!0,alignLevelsToMain:!0,timePerPixel:0},calendarLevels:[t,e],grid:{cell:{onCreate:[]}},item:{gap:{top:4,bottom:4},rowTop:0,height:32,minWidth:10,overlap:!1,cutIcons:{left:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M20 9v6h-8v4.84L4.16 12L12 4.16V9h8z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12L12 19.84V15H4z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>'}},items:{},spacing:4},actions:st(),templates:it(),locale:{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:t=>{const e=["th","st","nd","rd"],o=t%100;return`[${t}${e[(o-20)%10]||e[o]||e[0]}]`}},utcMode:!1,merge:(t,e)=>i.mergeDeep({},t,e),useLast:!0,Promise:Promise,mute:[],version:"3.19.0"}}(),a=function(t,e,o){const a=o({},e.actions),s=o({},t.actions);let i=[...Object.keys(a),...Object.keys(s)];i=i.filter((t=>i.includes(t)));const n={};for(const t of i)n[t]=[],void 0!==a[t]&&Array.isArray(a[t])&&(n[t]=[...a[t]]),void 0!==s[t]&&Array.isArray(s[t])&&(n[t]=[...n[t],...s[t]]);return delete t.actions,delete e.actions,n}(t,o,e),s={config:e(o,t)};return s.config.actions=a,s}const ct={name:"gstc",GSTCID:y.GSTCID,isGSTCID:y.isGSTCID,sourceID:y.sourceID,fromArray(t){const e=this.GSTCID,o={};for(const a of t)a.id=e(a.id),"rowId"in a&&(a.rowId=e(a.rowId)),"parentId"in a&&(a.parentId=e(a.parentId)),o[a.id]=a;return o},stateFromConfig:function(t){return this.state=new r(rt(t),{delimiter:".",useMute:true,maxSimultaneousJobs:1e3,Promise:t.Promise,debug:!!t.debug,useCache:!1,useSplitCache:!0,useIndicesCache:!1,defaultBulkValue:!1})},wasmStateFromConfig:function(t,e="./wildcard_matcher_bg.wasm"){return c(this,void 0,void 0,(function*(){return this.state=new r(rt(t),{delimiter:".",useMute:true,maxSimultaneousJobs:1e3}),yield this.state.loadWasmMatcher(e),this.state}))},merge:lt,lithtml:n,html:n,vido:l,date:(o,a=!1)=>a?(t.extend(e),o?t.utc(o):t.utc()):o?t(o):t(),setPeriod(t){return this.state.update("config.chart.time.period",t),this.state.get("config.chart.time.zoom")},dayjs:t};
/**
 * Main api
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function dt(t,e){const{api:o,onDestroy:a,state:s,update:i,StyleMap:n}=t,l=o.name;let r;a(s.subscribe("config.debug",(t=>r=t)));let c=!1;function d(t,e){"fullReload"!==e.options.data&&(m.fullReload(e),"subscribe"===e.type&&setTimeout(m.triggerLoadedEvent,0))}function u(t,e){["config","config.list.rows","config.chart.items"].includes(e.path.update)||(["config.list.rows.*.parentId"].includes(e.path.listener)?function(t,e){"subscribe"!==e.type&&"sortRowsByColumn"!==e.options.data&&"fullReload"!==e.options.data&&m.partialReload(!0,e)}(0,e):function(t,e){"subscribe"!==e.type&&"fullReload"!==e.options.data&&m.partialReload(!1,e)}(0,e))}function h(t=null,e){e&&"subscribe"===e.type||e&&e.options.data&&"updateVisibleItems"===e.options.data||m.minimalReload(e)}var m={className:P(l),styleMap:new n({}),initializePlugins(){const e=[];function o(){e.forEach((t=>t())),e.length=0}a(s.subscribe("config.plugins",(a=>{if(r&&console.log("Plugins changed. Destroying plugins..."),o(),r&&console.log("Plugins destroyed. Initializing plugins..."),void 0!==a&&Array.isArray(a))for(const o of a){const a=o(t);"function"==typeof a?e.push(a):a&&Object.prototype.hasOwnProperty.call(a,"destroy")&&e.push(a.destroy.bind(a))}r&&console.log("Plugins initialized.")}))),a(o)},heightChange(){if(o.isMutedMethod("heightChange"))return;const t=s.get("config"),e=s.get("config.scroll.horizontal.width"),a=t.innerHeight-e;s.multi(!0).update("$data.chart.dimensions.heightWithoutScrollBar",a).update("$data.chart.dimensions.innerHeight",t.innerHeight).update("$data.chart.dimensions.height",t.innerHeight+t.headerHeight).update("$data.height",t.innerHeight+t.headerHeight).done(),m.styleMap.style["--height"]=a+"px",m.styleMap.style.height=t.innerHeight+t.headerHeight+"px",o.calculateVerticalScrollSize(),i()},resizerActiveChange(t){c=t,m.className=P(o.name),c&&(m.className+=` ${o.name}__list-column-header-resizer--active`),i()},generateTreeFromVisibleRows(){if(o.isMutedMethod("generateTreeFromVisibleRows"))return;const t=o.getVisibleRowsId(),e=o.getAllRows(),a=o.getRowsData(),n={},l=s.get("config.chart.items"),r={};for(const o of t){e[o];const t=a[o];n[o]=t;for(const e of t.items)r[e]=l[e]}o.makeTreeMap(n,r,!0),i()},generateTree(t=!0){let e=s.get("$data.list.rowsIds");if(!e)return;e=e.slice();const a=s.get("config.list.rows");if(!t)return m.generateTreeFromVisibleRows();o.fillEmptyRowValues(a);let i=o.getAllRows();const n=o.getRowsData(),l=s.get("config.chart.items");o.makeTreeMap(n,l),i=o.sortRowsByChildren(Object.values(i).map((t=>t.id)));s.get("config").list.rows=i,o.prepareItems(l);const r=Object.keys(i);s.update("$data.list.rowsIds",r),o.setAllRowsIdsCache(r)},prepareExpanded(){if(o.isMutedMethod("prepareExpanded"))return;const t=o.getAllRows();if(!t)return;const e=o.generateRowsWithParentsExpanded(t);s.update("$data.list.rowsWithParentsExpanded",e)},generateVisibleRowsAndItems(){if(o.isMutedMethod("generateVisibleRowsAndItems"))return;const t=o.getVisibleRows(),e=s.get("$data.list.visibleRows")||[];let a=!0;t.length!==e.length?a=!0:t.length&&(a=t.join("|")!==e.join("|"));let n=s.multi(!0);a&&(n=n.update("$data.list.visibleRows",t));const l=[],r=o.getRowsData();for(const e of t){const t=r[e];for(const e of t.items)l.push(e)}const c=s.get("$data.chart.visibleItems")||[];l.join("|")!==c.join("|")&&(n=n.update("$data.chart.visibleItems",l)),n.done(),i()},updateItemsVerticalPositions(){const t=o.getAllItems(),e=o.getItemsData(),a=o.getRowsData(),s=o.getVisibleRows(),i=[];for(const t of s){const e=a[t];if(e)for(const t of e.items)i.includes(t)||i.push(t)}for(const s of i){const i=t[s];i&&o.calculateItemVerticalPosition(s,e[s],a[i.rowId])}},getMutedListeners(){const t=[];return s.isMutedListener(d)&&t.push(d),s.isMutedListener(u)&&t.push(u),s.isMutedListener(h)&&t.push(h),t},triggerLoadedEvent(){Promise.resolve().then((()=>{const t=s.get("$data.elements.main");if(!t)return;const e=t.parentNode;if(!e)return;const o=new Event("gstc-loaded");t.dispatchEvent(o),e.dispatchEvent(o)}))},getLastPageDatesWidth(t,e){if(0===e.length)return 0;let o=0,a=0;if(e.length){if(Math.ceil(e[e.length-1].rightPx)>t)for(let s=e.length-1;s>=0;s--){const i=e[s];if(o+=i.width,o>=t){o-=i.width;break}a++}}return s.update("$data.scroll.horizontal",(t=>(t.lastPageSize=o,t.lastPageCount=a,t))),o},formatDate(e,o,a){const s=P("chart-calendar-date");return e.format({timeStart:o.leftGlobalDate.locale(a),timeEnd:o.rightGlobalDate.locale(a),vido:t,className:s,props:{date:o}})},generatePeriodDates(t,e,a,i){const n=t.period,l=e.fromDate,r=e.toDate,c=s.get("config.locale.name");let d=o.time.generatePeriodDates({leftDate:l,rightDate:r,level:a,levelIndex:i,period:n,time:e,callOnDate:!1,callOnLevelDates:!0});i!==e.level&&(d=o.time.alignLevelToMain(i,d,e)),d=o.time.recalculateDatesPositions(d,e,!1,!1);for(const e of d)e.formatted=m.formatDate(t,e,c);return d},limitGlobal:t=>(t.leftGlobal<t.from&&(t.leftGlobal=t.from,t.leftGlobalDate=o.time.date(t.leftGlobal),t.leftGlobal=t.leftGlobalDate.valueOf()),t.rightGlobal>t.to&&(t.rightGlobal=t.to,t.rightGlobalDate=o.time.date(t.rightGlobal),t.rightGlobal=t.rightGlobalDate.valueOf()),t),setCenter(t){let e=Math.floor(t.rightGlobalDate.diff(t.leftGlobalDate,"millisecond",!0)/2);const a=o.time.getRightViewDate(t);a&&(a.width!==a.currentView.width&&(e-=(a.width-a.currentView.width)*t.timePerPixel),t.centerGlobalDate=t.leftGlobalDate.add(e,"millisecond"),t.centerGlobal=t.centerGlobalDate.valueOf())},guessPeriod(t,e){if(!t.zoom)return t;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));e&&e.main&&(t.period=e.period)}return t},getFormatAndLevelIndexForZoom(t,e=s.get("config.chart.calendarLevels")){let o=0,a=0;for(const s of e){for(const e of s)if(e.main&&t<=e.zoomTo)return a=o,{levelIndex:a,format:e};o++}if(!a)throw new Error(`There is no main date format for zoom ${t}.`)},generateAllDates(t,e){if(!t.zoom)return[];t.allDates=new Array(e.length);const{format:o,levelIndex:a}=m.getFormatAndLevelIndexForZoom(t.zoom,e);t.level=a,t.allDates[t.level]=m.generatePeriodDates(o,t,e[a],t.level);let s=0;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));s!==t.level&&(t.allDates[s]=m.generatePeriodDates(e,t,o,s)),s++}return t.allDates},getPeriodDatesAndCalculateViewOffsetFromAllDates(t,e){if(!t.length)return[];const a=t.filter((t=>t.leftGlobal<e.rightGlobal&&t.rightGlobal>=e.rightGlobal||t.leftGlobal<=e.leftGlobal&&t.rightGlobal>e.leftGlobal||t.leftGlobal>=e.leftGlobal&&t.rightGlobal<=e.rightGlobal));if(!a.length)return[];let s=0;e.leftGlobal>a[0].leftGlobal&&(s=o.time.getDatesDiffPx(e.leftGlobalDate,a[0].leftGlobalDate,e,!0));let i=s;const n=a.length-1;return a.map(((t,a)=>(t.currentView={leftPx:i,rightPx:i+t.width,width:t.width+s,leftGlobalDate:o.time.date(t.leftGlobal-s*e.timePerPixel),rightGlobalDate:o.time.date(t.rightGlobal),durationMs:0},t.currentView.durationMs=t.currentView.rightGlobalDate.valueOf()-t.currentView.leftGlobalDate.valueOf(),s=0,i+=t.width,a===n&&t.rightGlobal>e.rightGlobal&&(t.currentView.width=(e.rightGlobal+1-t.leftGlobal)/e.timePerPixel,t.currentView.rightPx=t.currentView.leftPx+t.currentView.width,t.currentView.rightGlobalDate=o.time.date(t.leftGlobal+t.currentView.width*e.timePerPixel)),t)))},updateLevels(t,e){t.levels=[],t.currentZoomLevelFormatting=[];let o=0;for(const a of e){const e=a.find((e=>+t.zoom<=+e.zoomTo));if(t.currentZoomLevelFormatting[o]=e,e.main&&(t.format=e,t.level=o),e){let s=m.getPeriodDatesAndCalculateViewOffsetFromAllDates(t.allDates[o],t);t.onCurrentViewLevelDates.forEach((i=>{s=i({dates:s,format:e,time:t,level:a,levelIndex:o})})),t.levels.push(s)}o++}},updateLocale(){const t=s.get("$data.chart.time"),e=s.get("config.locale.name");let o=0;for(const a of t.allDates){const s=t.currentZoomLevelFormatting[o];for(const t of a)t.formatted=m.formatDate(s,t,e);o++}o=0;for(const a of t.levels){const s=t.currentZoomLevelFormatting[o];for(const t of a)t.formatted=m.formatDate(s,t,e);o++}i()},calculateTotalViewDurationFromDates(t){let e=0,o=0;for(const a of t.allDates[t.level])e+=a.width,o+=a.rightGlobalDate.add(1,t.period).startOf(t.period).valueOf()-a.leftGlobal;t.totalViewDurationPx=e,t.totalViewDurationMs=o},calculateRightGlobal(t,e,a,i,n){const l=s.get("$data.chart.time"),r=t.endOf(l.period).valueOf(),c=o.time.findDateAtTime(r,a);if(!c)return t.valueOf();let d=a.indexOf(c),u=c.leftGlobal,h=0;for(let t=a.length;d<t;d++){const t=a[d];if(u=t.rightGlobal,h+=t.width,h+i>=e)break}return u+n},updateVisibleItems(t=s.get("$data.chart.time"),e=s.multi(!0)){const a=s.get("$data.chart.visibleItems"),i=o.getItems(a);if(!i)return e;const n=o.getAllRows(),l=o.getRowsData(),r=o.getItemsData();if(!n)return e;if(!t.levels||!t.levels[t.level])return e;let c=!1;for(const a of i){if(!a)return e;const s=n[a.rowId],i=l[a.rowId];if(!s||!i)continue;const d=o.mergeDeep({},r[a.id]),u=d.position,h=o.calculateItemPosition(a.id,r[a.id],i,t,a);for(const t in u)if(h[t]!==u[t]){c=!0;break}if(!c)for(const t in d)if(r[a.id][t]!==d[t]){c=!0;break}}return c&&(e=e.update("$data.chart.items",(t=>t))),e},calculateLeftAndRightGlobalNormally(t,e){const a=t.allDates[t.level],s=e.preciseOffset*t.timePerPixel,i=a[e.dataIndex];t.leftGlobal=i.leftGlobal-s,t.leftGlobalDate=o.time.date(t.leftGlobal);let n=e.preciseOffset;const l=o.getChartWidth(!1);let r;for(let o=e.dataIndex;o<a.length;o++){const e=a[o];if(n+=e.width,n>=l){const o=(n-l)*t.timePerPixel;r=e.rightGlobal-o;break}}if(!r){r=a[a.length-1].rightGlobal}t.rightGlobal=r,t.rightGlobalDate=o.time.date(t.rightGlobal)},calculateLeftAndRightGlobalFromCenter(t,e,a){const s=o.getChartWidth(!1),i=Math.round(s/2),n=t.allDates[t.level];let l=0;for(const e of n){if(e.rightGlobal>t.centerGlobal)break;l++}const r=e.centerGlobal-n[l].leftGlobal;let c,d=-Math.round(r/t.timePerPixel),u=0;for(let t=l;t>=0;t--){const e=n[t];if(d+=e.width,d>=i){c=e,u=t;break}}c||(c=n[0],d=i);const h=d-i,m=Math.round(h*t.timePerPixel);t.leftGlobal=c.leftGlobal+m,t.leftGlobalDate=o.time.date(t.leftGlobal);let g,f=-h;const p=n.length;for(let t=0;t<p;t++){const e=n[t];if(f+=e.width,f>=s){g=e;break}}g||(g=n[n.length-1],f=s);const w=f-s,v=Math.round(w*t.timePerPixel);return t.rightGlobal=g.rightGlobal-v,t.rightGlobalDate=o.time.date(t.rightGlobal),a.dataId=c.id,a.dataIndex=u,a.preciseOffset=-h,t},recalculateTimes(t){if(o.isMutedMethod("recalculateTimes"))return;const a=s.get("config.chart.time"),n=e({},a),l=s.get("config.chart.items");if(!(n.from&&n.to||Object.keys(l).length))return;if(!n.from){let t=1/0;for(const e in l){const o=l[e];t>o.time.start&&(t=o.time.start)}n.from=t}if(!n.to){let t=0;for(const e in l){const o=l[e];t<o.time.end&&(t=o.time.end)}n.to=t}n.fromDate||(n.fromDate=o.time.date(n.from)),n.toDate||(n.toDate=o.time.date(n.to));const r=(n.calculatedZoomMode,o.getChartWidth()),c=s.get("config.chart.calendarLevels"),d=s.get("$data.scroll.horizontal");n.calculatedZoomMode||o.time.recalculateFromTo(n),n.leftGlobal||(n.leftGlobal=n.from);const u=t.filter((t=>"items-out-of-view"===t.name));let h=1/0,g=0;if(u.length)for(const t of u)h>t.from&&(h=t.from),g<t.to&&(g=t.to);let f=!1;if((t.find((t=>"reload"===t.name))||t.find((t=>"all"===t.name))||t.find((t=>"from"===t.name))||t.find((t=>"to"===t.name))||t.find((t=>"zoom"===t.name))||t.find((t=>"calculated-zoom-mode"===t.name))||t.find((t=>"align-levels"===t.name))||t.find((t=>"auto-expand-time"===t.name)))&&(f=!0),n.calculatedZoomMode&&r){n.totalViewDurationMs=o.time.date(n.to).add(1,n.period).startOf(n.period).diff(n.from,"millisecond"),n.timePerPixel=n.totalViewDurationMs/r,n.totalViewDurationPx=n.totalViewDurationMs/n.timePerPixel,n.zoom=Math.log(n.timePerPixel)/Math.log(2),o.resetHorizontalScroll(),f&&m.generateAllDates(n,c),m.calculateTotalViewDurationFromDates(n),n.timePerPixel=n.totalViewDurationMs/r,n.zoom=Math.log(n.timePerPixel)/Math.log(2);for(let t=0;t<n.allDates.length;t++)o.time.recalculateDatesPositions(n.allDates[t],n);n.leftGlobal=n.from,n.leftGlobalDate=o.time.date(n.leftGlobal),n.rightGlobal=n.to,n.rightGlobalDate=o.time.date(n.rightGlobal)}else{n.timePerPixel=Math.pow(2,n.zoom),u.length&&n.autoExpandTimeFromItems&&(n.from=h,n.to=g),n.fromDate=o.time.date(n.from).startOf(n.period),n.from=n.fromDate.valueOf(),n.toDate=o.time.date(n.to).endOf(n.period),n.to=n.toDate.valueOf(),f&&m.generateAllDates(n,c),m.calculateTotalViewDurationFromDates(n);const e=s.get("$data.chart.time");t.find((t=>"zoom"===t.name))&&!t.find((t=>"all"===t.name))&&e.centerGlobalDate?(m.calculateLeftAndRightGlobalFromCenter(n,e,d),o.calculateHorizontalScrollSizeAndPosFromDates(n.totalViewDurationPx,n,d,!1)):(o.calculateHorizontalScrollSizeAndPosFromDates(n.totalViewDurationPx,n,d,!1),m.calculateLeftAndRightGlobalNormally(n,d))}m.updateLevels(n,c),m.limitGlobal(n),n.leftPx=0,n.rightPx=r,n.width=r;const p=n.levels[n.level];if(p&&p.length){const t=p[p.length-1];n.leftPx=p[0].leftPx-d.preciseOffset,n.rightPx=t.leftPx+t.currentView.width}m.setCenter(n);let w=s.multi(!0).update("config.chart.time",(t=>((t=Object.assign({},t)).zoom=n.zoom,t.level=n.level,t.period=n.format.period,t.leftGlobal=n.leftGlobal,t.leftGlobalDate=n.leftGlobalDate.clone(),t.centerGlobal=n.centerGlobal,t.rightGlobal=n.rightGlobal,t.rightGlobalDate=n.rightGlobalDate.clone(),t.from=n.from,t.to=n.to,t.allDates=n.allDates,t.autoExpandTimeFromItems=n.autoExpandTimeFromItems,t.timePerPixel=n.timePerPixel,t))).update("$data.chart.time",n);w=m.updateVisibleItems(n,w),w=w.update("$data.chart.time.recalculateTimesLastReason",t),w=w.update("$data.scroll.horizontal",d),w.done(),i()},minimalReload(t){if(o.isMutedMethod("minimalReload"))return;o.muteMethod("minimalReload");const e=m.getMutedListeners();s.mute(d),s.mute(u),s.mute(h),s.collect(),o.calculateVisibleRowsHeights(),m.generateVisibleRowsAndItems(),m.updateVisibleItems().done(),s.executeCollected(),e.includes(d)||s.unmute(d),e.includes(u)||s.unmute(u),e.includes(h)||s.unmute(h),o.unmuteMethod("minimalReload"),i()},partialReload(t=!0,e){if(o.isMutedMethod("partialReload"))return;o.muteMethod("partialReload");const a=m.getMutedListeners();if(s.mute(d),s.mute(u),s.mute(h),t){const t=s.get("$data");t.list.rows={},t.chart.items={}}s.collect(),m.generateTree(t),m.prepareExpanded(),o.measureRows(),o.calculateVerticalScrollSize(),m.minimalReload(e),s.executeCollected(),a.includes(d)||s.unmute(d),a.includes(u)||s.unmute(u),a.includes(h)||s.unmute(h),o.unmuteMethod("partialReload"),i()},fullReload(t){if(o.isMutedMethod("fullReload"))return;s.update("$data.reloading",!0),o.muteMethod("fullReload");const e=m.getMutedListeners();s.mute(d),s.mute(u),s.mute(h),s.collect(),m.partialReload(!0,t),m.recalculateTimes([{name:"reload"}]),s.executeCollected(),e.includes(d)||s.unmute(d),e.includes(u)||s.unmute(u),e.includes(h)||s.unmute(h),o.unmuteMethod("fullReload"),s.update("$data.reloading",!1),i()}};a(s.subscribeAll(["config.innerHeight","config.headerHeight","config.scroll.vertical.width"],m.heightChange,{group:!0,bulkValue:!1})),a(s.subscribe("$data.list.columns.resizer.active",m.resizerActiveChange)),a(s.subscribeAll(["config;","config.chart.items;","config.list.rows;","config.list.rows.*;","config.chart.items.*;"],d,{group:!0,bulkValue:!1})),a(s.subscribeAll(["config.list.rows.*.parentId","config.chart.items.*.rowId","config.list.rows.*.expanded"],u,{group:!0,bulkValue:!1})),a(s.subscribeAll(["config.chart.items.*.time","config.chart.items.*.height","config.chart.items.*.top","$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsHeight"],h,{group:!0,bulkValue:!1})),a(s.subscribeAll(["$data.scroll.vertical.dataIndex","$data.scroll.vertical.preciseOffset"],(function(){s.collect(),m.generateVisibleRowsAndItems(),o.calculateVisibleRowsHeights(),m.updateItemsVerticalPositions(),m.updateVisibleItems().done(),s.executeCollected()}),{group:!0,bulkValue:!1})),a(s.subscribe("config.list.sort",(t=>{const e=s.get(`config.list.columns.data.${t.activeColumnId}`);e&&o.sortRowsByColumn(e,t.asc)}))),a(s.subscribeAll(["config.chart.items.*.time","config.chart.items.*;","config.chart.items.*.rowId"],(function(t,e){e.options.data&&"updateVisibleItems"===e.options.data||m.updateVisibleItems().done()}),{group:!0,bulkValue:!1})),a(s.subscribe("config.locale",((t,e)=>{"subscribe"!==e.type&&m.updateLocale()})));const g={utcMode:!1,initialized:!1,zoom:0,period:"",scrollAbsolutePosPx:0,scrollTime:0,chartWidth:0,from:0,to:0,dataFrom:0,dataTo:0,calculatedZoomMode:!1,alignLevels:!0,autoExpandTime:!0};return a(s.subscribeAll(["config.utcMode","config.chart.time","$data.chart.time","config.chart.calendarLevels","$data.scroll.horizontal","$data.chart.dimensions.width","config.chart.items.*.time"],((t,e)=>{const o=function(){const t=s.get("config.utcMode"),e=s.get("config.chart.time"),o=s.get("$data.chart.time"),a=s.get("$data.scroll.horizontal"),i=s.get("$data.chart.dimensions.width"),n=s.get("config.chart.time.calculatedZoomMode"),l=Object.assign({},g);g.utcMode=t,g.zoom=e.zoom,g.period=e.period,g.from=e.from,g.to=e.to,g.dataFrom=o.from,g.dataTo=o.to,g.scrollAbsolutePosPx=a.absolutePosPx,a.data&&(g.scrollTime=a.data.leftGlobal),g.chartWidth=i,g.calculatedZoomMode=n,g.alignLevels=e.alignLevelsToMain,g.autoExpandTime=e.autoExpandTimeFromItems;const r=[];return g.initialized||(g.initialized=!0,r.push({name:"all"})),t!==l.utcMode&&r.push({name:"utc-mode",oldValue:l.utcMode,newValue:t}),n!==l.calculatedZoomMode&&r.push({name:"calculated-zoom-mode",oldValue:l.calculatedZoomMode,newValue:n}),e.zoom!==l.zoom&&r.push({name:"zoom",oldValue:l.zoom,newValue:e.zoom}),e.period!==l.period&&r.push({name:"period",oldValue:l.period,newValue:e.period}),e.from!==l.from&&r.push({name:"from",oldValue:l.from,newValue:e.from}),e.to!==l.to&&r.push({name:"to",oldValue:l.to,newValue:e.to}),o.from!==l.dataFrom&&r.push({name:"from",oldValue:l.dataFrom,newValue:o.from}),o.to!==l.dataTo&&r.push({name:"to",oldValue:l.dataTo,newValue:o.to}),a.absolutePosPx!==l.scrollAbsolutePosPx&&r.push({name:"scroll-pos",oldValue:l.scrollAbsolutePosPx,newValue:a.absolutePosPx}),g.scrollTime!==l.scrollTime&&r.push({name:"scroll-time",oldValue:l.scrollTime,newValue:g.scrollTime}),i!==l.chartWidth&&r.push({name:"chart-width",oldValue:l.chartWidth,newValue:i}),g.alignLevels!==l.alignLevels&&r.push({name:"align-levels",oldValue:l.alignLevels,newValue:g.alignLevels}),g.autoExpandTime!==l.autoExpandTime&&r.push({name:"auto-expand-time",oldValue:l.autoExpandTime,newValue:g.autoExpandTime}),r}();o.length&&m.recalculateTimes(o)}),{group:!0,bulkValue:!1})),a(s.subscribe("config.chart.items.:itemId.time",(t=>{const e=s.get("$data.chart.time"),a=o.getAllItems();let i=1/0,n=0;for(const o of t){const t=a[o.params.itemId];if(!t)return;if(t.time.start<e.from||t.time.end>e.to){let o=e.from,a=e.to;return t.time.start<e.from&&(o=t.time.start),t.time.end>e.to&&(a=t.time.end),m.recalculateTimes([{name:"items-out-of-view",from:o,to:a}])}t.time.start<i&&(i=t.time.start),t.time.end>n&&(n=t.time.end)}if(0===e.leftGlobal&&0===e.rightGlobal)return m.recalculateTimes([{name:"items",from:i,to:n}])}),{bulk:!0,bulkValue:!1})),t.api.main=m,m}
/**
 * Main component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */function ut(t,e){const o=gt();return ut=function(e,a){let s=o[e-=280];if(void 0===ut.oLjiVF){var i=function(t){let e="",o="";for(let o,a,s=0,i=0;a=t.charAt(i++);~a&&(o=s%4?64*o+a:a,s++%4)?e+=String.fromCharCode(255&o>>(-2*s&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let t=0,a=e.length;t<a;t++)o+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(o)};const e=function(t,e){let o,a,s=[],n=0,l="";for(t=i(t),a=0;a<256;a++)s[a]=a;for(a=0;a<256;a++)n=(n+s[a]+e.charCodeAt(a%e.length))%256,o=s[a],s[a]=s[n],s[n]=o;a=0,n=0;for(let e=0;e<t.length;e++)a=(a+1)%256,n=(n+s[a])%256,o=s[a],s[a]=s[n],s[n]=o,l+=String.fromCharCode(t.charCodeAt(e)^s[(s[a]+s[n])%256]);return l};ut.EhLFdo=e,t=arguments,ut.oLjiVF=!0}const n=o[0],l=e+n,r=t[l];return r?s=r:(void 0===ut.iBrJCs&&(ut.iBrJCs=!0),s=ut.EhLFdo(s,a),t[l]=s),s},ut(t,e)}function ht(t,e){const o=gt();return ht=function(e,a){let s=o[e-=280];if(void 0===ht.XsVkiE){var i=function(t){let e="",o="";for(let o,a,s=0,i=0;a=t.charAt(i++);~a&&(o=s%4?64*o+a:a,s++%4)?e+=String.fromCharCode(255&o>>(-2*s&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let t=0,a=e.length;t<a;t++)o+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(o)};ht.IJaUGg=i,t=arguments,ht.XsVkiE=!0}const n=o[0],l=e+n,r=t[l];return r?s=r:(s=ht.IJaUGg(s),t[l]=s),s},ht(t,e)}function mt(t,e){const{api:o,state:a,onDestroy:s,Actions:i,createComponent:n,html:l,onChange:r,update:v}=t;let b;const y=dt(t,d);function D(t,e){return ht(e- -993,t)}function W(t,e){return ut(e- -625,t)}y[G(-321,-419)]();const x=G(-410,-417);let P;s(a[X(")Gfu",-328)](X("7mUx",-186),(t=>P=t)));const C=l`
    <br />
    If you are using trial version, please generate key
    <a href="https://gstc.neuronet.io/free-key" target="_blank">here</a>. Otherwise, please contact with your developer
    or send mail to us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
  `,$=l`
    <div class="gstc-error">
      <div style="font-weight: bold;margin-bottom:10px;">[ Connection error ]</div>
      An error occurred while trying to connect with license services for
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar" target="_blank"
        >gantt-schedule-timeline-calendar</a
      >
      component.<br /><br />
      If you are using <span class="gstc-code">Content-Security-Policy</span> header make sure you have added
      <span class="gstc-code">https://gstc.neuronet.io</span> address after space.<br />
      Example: <span class="gstc-code">Content-Security-Policy: connect-src self https://gstc.neuronet.io</span><br />
      More info
      <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank"
        >here</a
      >
      and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank">here</a><br /><br />
      If that doesn't help please contact your developer, search for similar
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar/issues">issues here</a> or create one. You
      can also contact us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
    </div>
  `,I=l`
    <div class="gstc-error">
      <div style="font-weight:bold; margin-bottom: 10px;">
        The gantt-schedule-timeline-calendar component will not work with local files (protocol file: ///)
      </div>
      <br /><br />
      Files needs to be served from http server like
      <a href="https://www.npmjs.com/package/http-server" target="_blank" rel="nofollow">http-server</a> or
      <a href="https://www.npmjs.com/package/sirv-cli" target="_blank" rel="nofollow">sirv-cli</a>
    </div>
  `;function S(t,e){return ht(t- -139,e)}const M=[];let R,k;M[D(-585,-665)](a[D(-579,-635)](Q("DgOg",289),(t=>R=t))),M[W("y@nv",-236)](a[L(-502,"jQ[6")](W("sC5j",-312),(t=>k=t)));const O=n(R);function G(t,e){return ht(e- -737,t)}s((()=>{var t,e;O&&O[(t="uUBh",e=-164,W(t,e-113))]()}));const z=n(k);function L(t,e){return ut(t- -959,e)}function A(t,e){return ut(t- -815,e)}s((()=>{var t,e;z&&z[(t=1440,e=1308,D(e,t-1938))]()})),s((()=>{var t,e;M[(t="jQ[6",e=207,L(e-704,t))]((t=>t()))}));const{onDestroy:N,state:T,update:H,html:V,unsafeHTML:E}=t;var B=!0;const j=V`<strong>[gantt-schedule-timeline-calendar component]</strong><br /><br />`;function _(t,e=""){const o=S(1329-937,1264);var a,s;return V` <div class="${o}">${j}${t}${e?V`<br />${typeof e===(a="S5k^",s=1183,A(s-1486,a))?E(e):e}`:null}</div> `}function Y(t){return c(this,void 0,void 0,(function*(){function s(t,e){return ut(t-355,e)}let i=location[n(487,371)];if(typeof location[s(719,"NrAZ")]!==n(475,444)){const t=location[c("y@nv",-466)];t[c("5)0D",-549)]&&(i=String(t[t[s(832,"^#ZG")]-1]))}if(i[r(1043,"DgOg")](c("c[4t",-429)))return B=!1,void(b=I);function n(t,e){return ht(e- -90,t)}if(i=function(t){function e(t,e){return ut(e- -768,t)}return(t=String(t))[e("eb5I",-239)](e("DQq6",-425),"")[e("tJ&6",-423)](ht(-15- -543,98),"")}(i),t[v(835,741)](d(-84,"y@nv"))){let m,g,f;if(e&&e[r(1093,"2K]s")]&&typeof e[P("3lDs",986)]===s(797,"sC5j"))g=yield e[S(-199,-220)]()[x(-400,-308)]((t=>{B=!1;const e=n(980,1067-845);m=_(e)}));else{B=!1;const t=P("c[4t",898);m=_(t)}if(m)return B=!1,void(b=m);try{const e=r(1152,"eb5I");f=g[c(")Gfu",-426)](t,e)}catch(t){B=!1;const e=c("S5k^",-433);return void(b=_(e,t[n(330,256)]))}if(!f.ok){B=!1;const t=x(-439,-388);return void(b=_(t,f[c("(9@t",-586)]))}const p=f[r(1109,"Fdnz")];if(a[l(239,170)](P("Fdnz",952),p),p[n(139,202)][v(1001,929)]!==v(902,919)){B=!1;const t=P("QyaE",860);return void(b=_(t))}const w=o[v(837,803)][n(417,287)]()[s(828,"Pcra")]();if(p[r(1143,"(&5f")][n(294,420)]<w){B=!1;const t=r(1044,"7mUx");return void(b=_(t))}if(p[d(66,"Px$*")][r(978,"*$oN")]){const t=i[d(87,"(9@t")](":");t>-1&&(i=i[r(998,"Px$*")](0,t));const e=u(i);e[v(1007,914)]===h[n(289,398)]&&e[r(1006,"c&5Y")]&&e[s(821,"gf@P")]&&(i=e[d(54,"8voV")]+"."+e[v(836,918)][n(298,210)]("."))}if(!p[n(397,290)][l(36,119)][d(-46,"q]^y")](i)){let t=!1;for(const e of p[n(199,290)][n(138,218)])if(e[d(78,")Gfu")](".*")){const o=e[s(725,"7mUx")](0,e[c("DQq6",-432)](".*")+1);if(i[s(728,"uUBh")](o)){t=!0;break}}if(!t){B=!1;const t=c("(9@t",-387)+i+"'.";return void(b=_(t,x(-143,-273)+p[l(108,85)][v(782,843)][n(337,210)](", ")+n(305,423)))}}if(!p[d(11,"2K]s")][r(1056,"sC5j")][n(137,229)]){if(a[s(695,"7mUx")](P("rdHk",769))[P("3lDs",960)](".")[0]!==p[v(766,645)][P(")Gfu",868)][v(918,906)](".")[0]){B=!1;const t=v(965,1069);return void(b=_(t))}}return}function l(t,e){return ht(t- -272,e)}function r(t,e){return ut(t-611,e)}function c(t,e){return ut(e- -872,t)}function d(t,e){return ut(t- -382,e)}function v(t,e){return ht(t-474,e)}const y=P("kfNE",935),D=P("rdHk",797),W=w;function x(t,e){return ht(e- -683,t)}function P(t,e){return ut(e-468,t)}function S(t,e){return ht(t- -621,e)}if(t){if(t[S(-260,-323)](l(118,57)))return function(){let e=null;try{const s=t[G(293,333)](5),i=m[G(231,345)](s,y)[G(428,420)](f);e=JSON[z("3*Ac",888)](i),e&&a[I(-488,"2K]s")](o(433,550),{for:e[G(291,323)],domains:[...e[O(673,"kfNE")]],type:Object[$(150,225)]({},e[R("fV&N",1046)]),validUntil:Object[g(750,"uUBh")]({},e[$(178,274)])})}catch(t){}if(!e||!e[R("[C*@",967)]||!e[g(527,")Gfu")][k(935,807)]){B=!1;const t=G(333,368);return void(b=_(t,C))}function o(t,e){return v(t- -576,e)}if(!e[G(232,319)]){B=!1;const t=O(834,"71qt");return void(b=_(t,C))}function r(t,e){return x(t,e-1512)}function g(t,e){return d(t-606,e)}const w=function(t){const e=Object[(o="jQ[6",a=-337,d(a- -329,o))]({},t);var o,a,s,i,r,c,u,h;return delete e[(s=603,i=704,n(i,s-290))],delete e[(u=1230,h=1113,x(u,h-1325))],JSON[(r=1203,c=1189,l(c-1045,r))](e)}(e);if(!function(t,e){if(!t||!e)return!1;const o=new W({});return o[(n=1154,l=1134,x(n,l-1376))](D),o[(a="VOCb",i=583,s(i- -143,a))](e,t,p);var a,i,n,l}(e[O(857,"Fdnz")],w)){B=!1;const t=k(1082,1117);return void(b=_(t,C))}function $(t,e){return x(e,t-457)}function I(t,e){return c(e,t- -103)}const M=(new Date)[O(646,"QyaE")]();if(e[R("71qt",1014)][r(1014,1131)]<M){B=!1;const t=z("DgOg",1007);b=_(t,C)}else{if(e[o(431,454)][z("7mUx",845)]===g(618,"sC5j")||e[R("sC5j",895)][I(-467,"DgOg")]===g(761,"tJ&6")){const t=i[r(1224,1231)](":");t>-1&&(i=i[z("^#ZG",1015)](0,t));const e=u(i);e[k(1166,1259)]===h[I(-606,"fV&N")]&&e[r(1232,1184)]&&e[z("kfNE",924)]&&(i=e[z("Px$*",826)]+"."+e[O(768,"fV&N")][k(933,863)]("."))}if(e[o(206,140)][g(705,"4*p7")](i));else{B=!1;const t=O(640,"DQq6")+i+I(-551,"QyaE");b=_(t,C)}}function R(t,e){return d(e-970,t)}function k(t,e){return S(t-1254,e)}function O(t,e){return c(e,t-1186)}function G(t,e){return S(e-537,t)}function z(t,e){return P(t,e-42)}}();const e=x(-344,-219),w=encodeURIComponent,I=(new Date)[l(165,202)](),M=m[S(-112,-183)](I,y),R=c("#pR]",-398),k=g(I+i,R,{keySize:16})[d(120,"^#ZG")](),O=[w(S(-86,-79))+"="+w(t),w(s(696,"S5k^"))+"="+w(i),w(x(-331,-264))+"="+w(location[d(-32,"tJ&6")]),w(s(670,"i!0e"))+"="+w(M),w(S(-131,-127))+"="+w(e),w(c("2K]s",-507))+"="+w(navigator[P("c[4t",807)])][P("3*Ac",866)]("&"),G=v(1013,958);window[S(-194,-159)](G,{method:l(70,133),redirect:v(785,911),headers:{"Content-Type":l(208,249)},body:O})[l(22,-70)]((t=>{var e,o,a,s;return 200!==t[(e="O!!E",o=670,P(e,o- -263))]&&(B=!1,b=$),t[(a=-226,s=-235,S(a-11,s))]()}))[x(-442,-389)]((s=>{function n(t,e){return P(t,e- -261)}function d(t,e){return v(t-336,e)}function u(t,e){return r(t-308,e)}function h(t,e){return r(e-167,t)}function m(t,e){return l(e-50,t)}function g(t,e){return x(e,t-464)}function f(t,e){return c(e,t-1588)}if(s&&s.ok)if(s[y(130,41)]&&s[h("tJ&6",1198)]===k)B=!0,a[d(1321,1195)](y(208,283),(()=>{var t,e;function a(t,e){return h(e,t- -879)}function i(t,e){return y(t,e- -474)}var n,l,r,c,d,u,m,g;return{registeredDomains:s[i(-306,-210)],validUntil:{text:s[(m=970,g=992,p(m- -31,g))],value:o[a(393,"uFhr")][a(256,"NrAZ")](s[i(-268,-322)])[(d=-244,u="O!!E",h(u,d- -1388))]()},type:null!==(t=s[i(-115,-193)])&&void 0!==t?t:{text:(r=-49,c=44,p(c- -1003,r)),value:i(-488,-435)},for:null!==(e=s[(n=-18,l=96,y(l,n- -173))])&&void 0!==e?e:""}}));else{B=!1;const o=n("c[4t",732);b=_(o,C);const a=d(1299,1295),l=[w(n("#pR]",492))+"="+w(t),w(g(242,211))+"="+w(i),w(p(1016,1038))+"="+w(location[m(194,197)]),w(p(1087,1158))+"="+w(e),w(f(1115,"ReCW"))+"="+w(String(s[p(890,958)])),w(m(208,102))+"="+w(k),w(y(94,108))+"="+w(navigator[f(1088,"DgOg")])][p(897,995)]("&");window[f(1184,"DQq6")](a,{method:u(1270,"VOCb"),redirect:p(908,858),headers:{"Content-Type":h("rdHk",1112)},body:l})}else if(s){B=!1;const t=E(s[d(1156,1275)][u(1412,"QyaE")](/\n/gi,p(1111,1069)));let e=null;s[h("NrAZ",1122)]&&(e=E(s[h("7mUx",1068)][g(323,336)](/\n/gi,g(295,234))));const o=u(1327,"2K]s");b=V` <div class="${o}"><strong>${j} ${t}</strong><br />${e}<br />${C}</div> `}else B=!1,b=$;function p(t,e){return x(e,t-1280)}function y(t,e){return x(t,e-431)}H()}))[l(103,132)]((()=>{B=!1,b=$,H()}))}else{B=!1;const t=l(9,-29),e=v(1005,893);b=V` <div class="${e}">${j} ${t}${C}</div> `}}))}N(T[S(219,99)](Q("DgOg",307),(t=>{function e(t,e){return L(t-923,e)}var o,a;Y(t)[(o=357,a=392,G(o,a-835))]((()=>{H()}))[e(508,"kfNE")]((t=>{B=!1;const o=e(323-72,"Pcra");b=_(o),H()})),H()})));const F={width:0,height:0};function Q(t,e){return ut(e- -102,t)}const J={width:0,height:0};let U,Z,K,q;function X(t,e){return ut(e- -637,t)}function tt(t,e){return ht(t- -837,e)}function et(t){const e=t[(o=1191,s="c&5Y",A(o-1510,s))];var o,s;function i(t,e){return st(t,e- -975)}function n(t,e){return Q(e,t-455)}const l=t[i(315,213)];function r(t,e){return Q(t,e-237)}var c,d;(F[i(188,104)]!==e||F[(c=820,d=895,st(c,d- -208))]!==l)&&(F[r("R#(1",638)]=e,F[r("tJ&6",605)]=l,a[n(776,"QXfU")](n(707,"c[4t"),F))}class ot{constructor(t){function e(t,e){return Q(e,t-608)}var o,s;!U&&(U=new ResizeObserver((()=>{et(t)})),U[(o=440,s=460,tt(s-841,o))](t),a[e(969,"*$oN")](e(839,"rdHk"),t),et(t))}[st(1182,1284)](){}[S(356,462)](t){var e,o;U[(e=-301,o=-381,S(e- -641,o))](t)}}function at(t){function e(t,e){return X(e,t-226)}const o=t[i(-129,"*$oN")],s=t[i(-198,"tJ&6")];function i(t,e){return A(t-186,e)}function n(t,e){return D(t,e-633)}var l,r;(J[e(-123,"l$vP")]!==o||J[e(10,")Gfu")]!==s)&&(J[n(-9,-54)]=o,J[n(44,-30)]=s,a[(l="uUBh",r=422,X(l,r-763))](e(-114,"71qt"),J))}function st(t,e){return ht(e-773,t)}!P[Q("fV&N",332)](ot)&&P[S(189,220)](ot);class it{constructor(t){function e(t,e){return X(t,e-915)}function o(t,e){return D(e,t-1019)}t=t[o(444,549)],!Z&&(Z=new ResizeObserver((()=>{at(t)})),Z[o(482,563)](t),a[e("Pcra",646)](e("DQq6",558),t),at(t))}[L(-547,"fV&N")](){}[tt(-342,-308)](t){function e(t,e){return A(t-1530,e)}Z[e(1150,"sC5j")](t[e(1198,"c&5Y")])}}!P[tt(-484,-429)](it)&&P[D(-792,-665)](it),s((()=>{var t,e,o,a;Z[(t=")Gfu",e=969,W(t,e-1169))](),U[(o=160,a=104,G(o,a-453))]()})),s(a[D(-589,-683)]([st(1325,1280),tt(-533,-513)],(()=>{function t(t,e){return Q(t,e-896)}function e(t,e){return st(e,t- -728)}if(a[(i=-251,n=-292,D(i,n-354))](t("y@nv",1190))){const i=a[t("5)0D",1269)](st(182,150- -1130));if(!i)return;a[(o=613,s="j(E@",Q(s,o-377))](e(566,446),(()=>{var t,o;function s(t,e){return Q(e,t-833- -647)}return i[s(470,"(9@t")]-a[(t=377,o=410,e(o-18,t))](s(469,"#pR]"))}))}var o,s,i,n}),{group:!0})),s(a[X("#pR]",-348)](S(272,393),(t=>{var e,o,a,s;function i(t,e){return X(t,e- -309)}K=t[(e=-609,o=-586,tt(o- -74,e))][i("c&5Y",-563)],q=t[i("f@SA",-440)][(a=-562,s=-478,S(s- -740,a))]})));const nt={handleEvent(t){const e=o[i(-121,"(9@t")](t);function a(t,e){return X(t,e-357)}function s(t,e){return W(e,t- -218)}if(t[n(1008,886)]||e.x){const t=e.x?e.x:e.y,s=o[a("*$oN",117)]();return void(t>0?o[a("kfNE",192)](s[l(537,"5)0D")]+K):o[a("3*Ac",237)](s[n(1133,1157)]-K))}function i(t,e){return Q(e,t- -541)}function n(t,e){return tt(t-1523,e)}function l(t,e){return L(t-1179,e)}const r=o[l(735,"sC5j")]();e.y>0?o[s(-487,"*$oN")](r[i(-238,"kfNE")]+q):o[s(-324,"N6vr")](r[l(706,"yQB4")]-q)},passive:!0},lt=Object[G(-427,-361)](Object[W("sC5j",-326)]({},e),{api:o,state:a,componentName:x});r((t=>{for(const e in t)lt[e]=t[e]}));const rt=i[D(-467,-534)](P,lt),ct=o[D(-569,-455)](st(1011,1093),t,e);return s(ct[A(-292,"uFhr")]),()=>B?ct[A(-339,"Px$*")](Q("DQq6",376),l`
            <div
              data-info-url="https://github.com/neuronetio/gantt-schedule-timeline-calendar"
              class=${y[D(-753,-679)]}
              style=${y[G(-199,-236)][W("XYk]",-298)]()}
              data-actions=${rt()}
              @wheel=${nt}
            >
              ${ct[S(397,514)](S(192,263),l` ${O[tt(-301,-379)]()}${z[st(1366,1309)]()} `)}
            </div>
          `):b}function gt(){const t=["W6tdGL0EsG","ASoexCkEaqWImWC","ubVdTv/cNSkUBgFdTwve","DhjPywW","ChjVzhvJDa","Dg9Rzw4","DgHLBG","sw52ywXPzcbSAwnLBNnLigTLEs4","WQRdQ1XAW7Ls","oKX7W5VdV1ZcQCkCsXLKWPvdBGRcHmonn8kfDmoMWP0","rmouc8oywmodyW","WOPeWONdQa7cPW","AM9PBG","W5uGWOZcKYi2WQe9WRbJyCkSimoL","DMfSDwu","wZ4qaSkhWQNdUfNdP8kL","y29UzMLNlMf1Dg9jBM5LCKHLAwDODa","W6v3WRnOqfFdUXXCWQuZW7q","D2LKDgG","WP9oWORdPa","zg9TywLUCW","xIOEgmkaWO7dV0/dQW","C3vIC2nYAwjLqwXS","zM9SBg93","tgLJzw5ZzsbRzxKGy2HLy2SGBwvJAgfUAxnTig5VDcbSB2fKzwqGkhrYEsbNyw50Dc1Zy2HLzhvSzs10Aw1LBgLUzs1JywXLBMrHCI9KAxn0l2DZDgmUD2fZBs5LC20UBwLUlMPZks4","WOHyWPtdPWdcRSkkzmkYnrX7WPdcHCkUW4FcIciOWR8xDSkC","y2XHC3noyw1L","WR3dVmkTWR09","iKpcHt/dRL8","WQxcGWW/fmoKfspdQG","Aw5PDgLHBgL6zvbSDwDPBNm","BwfQB3i","BwfPBG","owrwDg93zq","C2HPzNrlzxK","WQ3cHXy5kCoI","Dg9Rzw5FC2HVDwXKx2jL","Ag9YAxPVBNrHBa","WP7dPvRcO8o8wwuKb8kBWRJdNrFdK8kIpK4yW77cU8k/WRpcMSo2fCo3xCklWONcMCkOAW","wxtdIXjfW6zwWPHu","ChvZAa","WPTIW4/dMgytW4OmWPXFmSkvgSojWQNdTaW3WRZdJ1WxWQ4BBSo7d8oeWP9SW6ldSgGAxaHFuCkQC8o7W483W6FdOmo+e8oiBxfDWO1JubhcUSodWRhdMK7cSKmqWOWolmo6g1tdJ8kFWOO6W6yyeN3dJ8oEWPJdQCo3W4bNuCoDnSkJCf9YW6CsgmokWRdcMg1TWPNcRColqSkUW68wFaNcS8oRWRlcHeJcHCkvlmo9kmowW7uQE2nPWQlcIgKplJ4cW4ZcUXtdKhVdG8ogvSkrWPi7WRBdQSkCWQhdVSk6aKRdUtnpW4jKxWpdVSkRWP3dQ8owWPzFW7C/bCoKWQJcPCkRW6yGWONcLa9vEmouoCkunSockSoGW4hcHmkvewJdHwjIW6FcOSkAW7bscmkImNDJuq8pD0/cLHOuWRK3awz2WR7dUfldTa9HrSonW7ddImkxW5bzW7NdR8kzpetdR3OQW7tdPCoFW4izkmkCWOlcOSk9AhJcLdVdJ2eCE8oYW4CnWResawybWQNdK3Pnmbzvfa","AgvPz2H0","y29UDgvUDa","WPe6tmkMWQ9SDG","WPiRWOpcGsP/W6ONWRb8D8kRo8o4W4VdKc5+WPK","W5C/WPlcMsiYW64/WRX+FmoQn8kMWPldIJG6WPhdPxDxWQ5dmCk6ymoNWRveW6ddMe0","qH/dQKNcIq","uCk5WP16jSo/WPCM","mtq1odiWoejHD3HqqW","wL/cJvapWQ8","ArtdJM/dNWZdPG4j","uXVdSG","AY3cIhm","ue9tva","WQldUuFcOmoMeIu","WRZdHcZcL3mXWQvKWOyZwG","WQ0goGycy8o0","BwvZC2fNzq","z2v0","WRVdVKTpW79yWO4","uSoxW7WDvmkutmkagCo3W5rY","WRCrlWW","b8kEWOJdSa","wmosW7eDx8kEmmkid8oSW6LlvG","Aw5JBhvKzxm","oapdIMNdV0xdPWKqW7CbWR4DySk8sa","zg9TywLU","WQafi1CAWPNdKuFcJMDFW6K","WRZdGcVcKq","C3vIC2nYAwjL","BmkUWRBdQKZcQK8","DxnLCL9Hz2vUDa","C3rHCNrZv2L0Aa","Dg9Wtgv2zwXeB21HAw5Z","DgLTzq","WRNdJZZcKxiSWRPIWQaUxCksg8k7WPS","WPddHSk0p8kcWR0UW6m3W6u","wIP9EmofWRdcVG","WQabnNC","WO4cW4mbW6eO","WRqkwSk0oSkb","rWVdPe/cMmk1Dx3dUW","iCk0WQNdJw/cPG","F1NcRrLmWPZcGJOM","WQZdR1LjW7LeWQdcTmkEBW","W6RdJwxcScxdUG","y2f0y2G","yxnZAwDU","zgf0zq","WRnGW4HmWOu","WQiKW680eJFdGbb4WQ0","CNvSzxm","m0P5AfnwAG","mJiZnZuYnxfUC2Xpua","WQZdT3a2e8o8W4u4lhS","ANnVBG","ESoEuCklcXLLoqCum8k0WP5rWQ3cIaRcQum","FaTbWP3dPHm","nvNcII3dS0nZW4NcLa","zgLZy29UBMvJDa","C8oYlmoZ","r1nuqZO","AuxcPG1KWPZdItC9W47dLmopWOr5WQDivLhcUelcGmoB","WRO2w8kxWQHYDNOmWQL5W4pcOGn6W5lcMJdcTsddTCoFW7L9F8k3W4n3W5vSkCk8WQ0oW6LeESkdrSoKs8kIW4FdQmkhaCknW4O","WPFdGmk9kmkU","WP5BWO7dQatcQmoqyG","WQxdRxeJe8oI","ymoOmCo9c8kxD8oJWOdcNg1UywvMWOeyW67dLmolaSkk","WRqfi1CAWPNdKuFcJN9vW7/cHa","WQLUW5nr","Emk6W4hcRSoqfSk+W4ddHq","wZOogmkkWPpdUa","BxvSDgLWBgLLCG","BgfZDeLUzgv4t2y","C2LNBMf0DxjL","DMfSAwrvBNrPBa","BmkGWQ/dQMZcQLJdRmog","ySoPpmo+eCkenSoWWRRcMMTazMvW","y3vZDg9Tzxi","WOldHSkLlSoWWRK7W7q2W6m","AuxcPG1KWPZdItG7W4ddGCooWPL5WOjzxa","uMvNAxn0zxjLzcbKB21HAw5ZoIbBia","y29UzMLNlNnJCM9SBa","WO0ttCkHk8ka","mCoZW67cVrBdVhtdJmo6i8k+ca","FmkUWQVdH0dcSLNdPCo6oSkQhv0XCG","B2zMC2v0sgvPz2H0","C3rYAw5NAwz5","C3vIC3rY","CgfYzw50rwXLBwvUDa","AhjLzG","WQSmiq8n","rtOvdmklWOG","D2fZBuLUAxrPywXPEMvK","i8krwYjmCq","W5z2fG","stypcmkmWPldUeJdRCk9","AeL2W4BdUIFcO8kbtXa","zMv0y2G","r1nuqW","zgvJCNLWDa","ua7dIhJdSbJdPKawW7CwW60xzCk3wmotWRJdGtresCoBWPjAWO3cKGXLimktoSkip8o2nYBcU8kOW7Wqnui6W6xcNmkSWRvlbNWbA3NcVmohc8k+WOPlWQJdMwu1imoqig4BWOVcJSkEDLLSWRhcKmkkW6ndt3KRvHOebJ3cI8kJWPjSlb0FWR4OW59AW5nDWQz9W4u","WRaflbKgDmozW4aYWPqmWPK","Ev7cQrL5WOJcSd0MW4S","EbFdPvNcGSk0EtpdTgTzkZhdUCkGqmk+WQtdUmk4","WPensSkSkSkbE8kN","WP5zWPxdOXRcRmowCCk4","Ahqmt8o3kW","Dg9ju09tDhjPBMC","c8o+WODoW7v+omkL","sIZcJwBdSNdcNSklW53dGSoje0vsWOhdLSoqmZxcNG","WQBdRedcPmkvu24ShSk9WRa","C2v0uhvIBgLJs2v5","WO1cWPtdOH3cOmolAq","EG7dH3JcPa","C3bSAxq","WP5hWP7dOb3cRmox","xt4ogmkgWQpdUKtdRCkSW6O8WQddR8kiWR/dIa","zgf0yuLUzgv4","nfNcHdVdTa","sw52ywXPzcbSAwnLBNnLigTLEsbBD3jVBMCGC2LNBMf0DxjLxs4","vhjPywW","vXhdQfRcHCkGmNldV35dzdRdSSo+rmkTWQJdSG","sw52ywXPzcbSAwnLBNnLigTLEsbBBwfSzM9YBwvKigrHDgfDlG","mZeXndf3AuzvzeW","WOWmwCkmoSktE8k4W4eVAmoVlCo+W48","W7a2WOijW5JcMSkSs8kNeSotwx4","B2jZzxj2zq","W7JdI3tcQIhdPMFcP8kZ","WOWAwCkL","y3jLyxrL","sdeygmk0WPxdOKu","Ag9ZDa","W63dKwtcNcpdT2y","WQyqm2unWO4","mY4Xos4W","xZ9WECovWOW","W4pdNde2W4dcJb9ksCksfCk/q3/dUq","ASk1W6FcRxpcPbpcSmoqyCoXsvW3lCo1","WQZdQeFcS8k0","Ea9BWO7dHWLZWOVcUCoQoW","WRCgiW0lDa","y3jLyxrLzef0","E8kKWQ/dMeBcTLpdPCosgCkIgKa","WO0tW4SvW7acga","x8kkcSkorb0qcvzwmSoNW5e0W7tcMW","WQBcHWW","lLJcHti","WRBcMmohWOyWDW","WQxdUeFcTCkU","Dw5VyNnLCNzL","yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK","FCo0WO3cRHddHbVdIq","WPldLmkIimkuWRiGW7iWW7dcIIZdJtBdUG","WRhdO24Nfmo4W6W9lgrrW7HU","rL7cU0pdHuyD","qazbWONcRGn4WOpcOmomm23cJCo1WOWolbXHWOuiW5CMqSk4WRZcNCo4W4XZyG","dcxcHvS4aqNdUeu","WPddHCk1lmkPWRK","tgLZDgvK","Ahr0Chm6lY9NC3rJlM5LDxjVBMv0lMLVl2fWAs9PBNzHBgLKlxrVA2vU","DMvY","ww91CIbSAwnLBNnLigTLEsbPCYbUB3qGDMfSAwqGzM9YihrOAxmGChjVzhvJDcb2zxjZAw9UicHTywPVCIb1CgrHDgvZigfYzsbUB3qGywXSB3DLzcKU","wwTIxmoW","WOq6smkEWQDIDG","h8kmWQro","zgvZDhjVEq","WQ7dPhOXh8o4W744lx1C","rKpcQW5JWOJcGNq6W4ldL8kaWO9KWRLvvXRcKau","tLBcReC","W67cQqGoWRScWQlcPCkNyW3dLa","WRWgmxCCWP/dQulcHKDy","C3r5Bgvnyxa","WQ7cKSo6WPu2DI/cSW","W5FdU8kJWPlcPW","Dg9tDhjPBMC","WQNcImolWPiWBq","W7pcGGFcRSkFW7NcNMC","jgrHDgeUzgLTzw5ZAw9UC1bHCMvUDa","FeVcPb5O","zw5JCNLWDa","DMfSDwvFBNvT","DxbKyxrL","CdBcIw7dSh4","if0GlG","pgjYic8+","WOXsWO7dKGRcU8olA8kXdanK","CMvNAxn0zxjLzerVBwfPBNm","WRbKW45SWOpdMSo3ASkzm8oYCN0","xxP9wmonkrnIFmo8W6f3iSk6W7K","A8omW5JdJvFdSmo0lgjpEbC","v0zSW47dSHVcQCovsHvPWOneCGhdL8o2m8komCotWPOJWQBcJdlcLCo8DSohWQZcJHhcHSoqtxpcJmkdWOG","y29UzMLNlMLUBMvYsgvPz2H0","EGfAWPFdRWT+WPtcPmoOmJJcL8oJW7SijG0TWRiBW5uHrq","d8kaWRPFfCodFq","mCk/B8o0mSk1k8oGWRi","vqNdNxZdSGldP0ajW70eWQGAiW","WR7dQeTsW6Pz","C2X1zW","Ahr0Chm6lY8","smkJWP5yW5HEoq","WQhcMqPDf3NcTuZdUv3cKuBcNa","z3n0yY1LCNjVCG","amoSWOrwFIr3WQrav8k3","DhLWzq","Dw5KzwzPBMvK","BgLJzw5Zzq","AhrTBa","WQOppGmoyCoLW4b2WPWkWOJcL8o9vSkWW6u","z2vUzxjHDgvtBg90CW","Ahr0Chm6lY9NC3rJlM5LDxjVBMv0lMLVl2fWAs9SAwnLBNnL","buRcSWtdNSo3jfhdVx1swXC","fmkJW4fvW48sj8kqW7zKW7/cR3NcR8k9ySkeA37cStmZf8oVWQ/dIsv8W5fct8oW","CMvWBgfJzq","wv7cV0JdIKenWPtdVq","A8kGWQ/dQe0","W67dQvlcPmk9e28La8kFWRpcKWRdK8kSieaEWRVcP8kU","tgLJzw5ZzsbRzxKGBM90igzVDw5KifTJB25MAwCUBgLJzw5ZzuTLEv0","mtaYmZu1neXHCeHWCG","mJGWB1bfCMjh","mtHPEKXdzfG","DCoyxmkida0U","EqTBWONdRWbY","WRCBW4qfW7S+g8oplqfzWQNdRmolWP0rqSkzWRdcGSofsfZcSSkCwrxdM8kHnuhdPSo2CwrL"];return(gt=function(){return t})()}let ft;!function(t,e){const o=gt();function a(t,e){return ut(e-532,t)}function s(t,e){return ht(e- -170,t)}function i(t,e){return ut(e-559,t)}for(;;)try{if(342628===-parseInt(i("[C*@",864))/1+-parseInt(a("uFhr",881))/2+parseInt(s(90,211))/3*(parseInt(s(175,167))/4)+parseInt(s(180,212))/5+-parseInt(i("eb5I",997))/6*(parseInt(ht(-606- -888,-508))/7)+-parseInt(a("3*Ac",987))/8*(-parseInt((r=1205,c=1245,ht(c-924,r)))/9)+-parseInt(i("y@nv",1083))/10*(-parseInt((n=-94,l=-80,ht(l- -533,n)))/11))break;o.push(o.shift())}catch(t){o.push(o.shift())}var n,l,r,c}();const pt=new Array(32).fill(void 0);function wt(t){return pt[t]}pt.push(void 0,null,!0,!1);let vt=pt.length;function bt(t){const e=wt(t);return function(t){t<36||(pt[t]=vt,vt=t)}(t),e}let yt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});yt.decode();let Dt=null;function Wt(){return null!==Dt&&Dt.buffer===ft.memory.buffer||(Dt=new Uint8Array(ft.memory.buffer)),Dt}function xt(t,e){return yt.decode(Wt().subarray(t,t+e))}function Pt(t){vt===pt.length&&pt.push(pt.length+1);const e=vt;return vt=pt[e],pt[e]=t,e}let Ct=0,$t=new TextEncoder("utf-8");const It="function"==typeof $t.encodeInto?function(t,e){return $t.encodeInto(t,e)}:function(t,e){const o=$t.encode(t);return e.set(o),{read:t.length,written:o.length}};function St(t,e,o){if(void 0===o){const o=$t.encode(t),a=e(o.length);return Wt().subarray(a,a+o.length).set(o),Ct=o.length,a}let a=t.length,s=e(a);const i=Wt();let n=0;for(;n<a;n++){const e=t.charCodeAt(n);if(e>127)break;i[s+n]=e}if(n!==a){0!==n&&(t=t.slice(n)),s=o(s,a,a=n+3*t.length);const e=Wt().subarray(s+n,s+a);n+=It(t,e).written}return Ct=n,s}let Mt=null;function Rt(){return null!==Mt&&Mt.buffer===ft.memory.buffer||(Mt=new Int32Array(ft.memory.buffer)),Mt}async function kt(t){const e={wbg:{}};e.wbg.__wbindgen_object_drop_ref=function(t){bt(t)},e.wbg.__wbindgen_string_new=function(t,e){return Pt(xt(t,e))},e.wbg.__wbindgen_json_parse=function(t,e){return Pt(JSON.parse(xt(t,e)))},e.wbg.__wbg_new_693216e109162396=function(){return Pt(new Error)},e.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,e){var o=St(wt(e).stack,ft.__wbindgen_malloc,ft.__wbindgen_realloc),a=Ct;Rt()[t/4+1]=a,Rt()[t/4+0]=o},e.wbg.__wbg_error_09919627ac0992f5=function(t,e){try{console.error(xt(t,e))}finally{ft.__wbindgen_free(t,e)}},e.wbg.__wbindgen_throw=function(t,e){throw new Error(xt(t,e))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:o,module:a}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const o=await t.arrayBuffer();return await WebAssembly.instantiate(o,e)}{const o=await WebAssembly.instantiate(t,e);return o instanceof WebAssembly.Instance?{instance:o,module:t}:o}}(await t,e);return ft=o.exports,kt.__wbindgen_wasm_module=a,ft}var Ot=Object.freeze({__proto__:null,parse_license_key:function(t,e){var o=St(t,ft.__wbindgen_malloc,ft.__wbindgen_realloc),a=Ct,s=St(e,ft.__wbindgen_malloc,ft.__wbindgen_realloc),i=Ct;return bt(ft.parse_license_key(o,a,s,i))},default:kt});
/**
 * Gantt-Schedule-Timeline-Calendar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.19.0
 * @released  2022-06-20
 * @license   SEE LICENSE IN LICENSE FILE
 */
const Gt=async function(t={}){let{importHook:e,serverPath:o}=t,a=new URL("assets/43748c9e.wasm",import.meta.url).href;return null!=o&&(a=o+/[^\/\\]*$/.exec(a)[0]),null!=e&&(a=e(a)),await kt(a),Ot};function zt(t){const e=t.state,o=new M(e),a={treeMap:{},itemRowMap:{},list:{visibleRows:[],rowsIds:[],rows:{},visibleRowsHeight:0,rowsWithParentsExpanded:[],rowsHeight:0,width:0},dimensions:{width:0,height:0},chart:{items:{},grid:{cells:{},rows:{}},dimensions:{width:0,widthWithoutScrollBar:0,height:0,innerHeight:0,heightWithoutScrollBar:0},visibleItems:[],time:{zoom:0,format:{period:"day",periodIncrement:1,zoomTo:0,format:()=>""},level:0,levels:[],currentZoomLevelFormatting:[],allDates:[],timePerPixel:0,totalViewDurationMs:0,totalViewDurationPx:0,leftGlobal:0,rightGlobal:0,leftPx:0,rightPx:0,period:"day",leftGlobalDate:void 0,rightGlobalDate:void 0,centerGlobal:0,centerGlobalDate:void 0,from:0,to:0,fromDate:void 0,toDate:void 0,autoExpandTimeFromItems:!0}},scroll:{horizontal:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,dataId:"",data:null,preciseOffset:0,visible:!1},vertical:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,dataId:"",data:null,preciseOffset:0,visible:!1}},elements:{}};"boolean"==typeof t.debug&&t.debug&&(globalThis.state=e),e.update("",(t=>({config:t.config,$data:a})));const s=v(e,o),i=s.lithtml;o.setVido(s),o.setMergeDeep(d);const n=s.createApp({component:mt,props:{wasmInitialized:Gt},element:t.element});const l={state:e,api:n.vidoInstance.api,component:n,destroy:function(){n.destroy()},reload:function(){l.component.destroy(),l.component=s.createApp({component:mt,props:{wasmInitialized:Gt},element:t.element}),l.api=n.vidoInstance.api,l.component.update()},lithtml:i};return l}const Lt=document.createTextNode("");document.createTextNode=function(t){const e=Lt.cloneNode(!0);return e.textContent=t,e}.bind(document);const At=document.createElement("div"),Nt=document.createElement.bind(document);document.createElement=function(t,...e){if("div"!==t)return Nt(t,...e);return At.cloneNode(!0)}.bind(document),zt.api=ct,zt.lithtml=n;export{zt as default};