import{d as t,u as e,a,S as o,A as i,h as s,l as n,v as l,D as r,_ as c,m as d,b as h,c as u,p as m,P as g,e as f,f as p,J as w,V as v}from"./vendor.esm.min.js";
/**
 * Gantt-Schedule-Timeline-Calendar Time api
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class b{constructor(o,i){this.utcMode=!1,this.unsubs=[],this.currentDateLastCheck=0,this.state=o,this.api=i,this.dayjs=t,this.dayjs.extend(e),this.dayjs.extend(a),this.unsubs.push(o.subscribe("config.utcMode",(t=>{this.utcMode=t}))),this.unsubs.push(o.subscribe("config.locale",(t=>{if(!t.name)throw new Error("Locale must have a name property.");this.locale=t,this.dayjs.locale(this.locale,null,!0)})))}destroy(){for(const t of this.unsubs)t()}date(e){return this.utcMode?t.utc(e).locale(this.locale.name):e?t(e).locale(this.locale.name):t().locale(this.locale.name)}recalculateTime(){this.api.main.recalculateTimes([{name:"all"}])}recalculateFromTo(t,e=!1){const a=t.period;if((t=Object.assign({},t)).from=+t.from,t.to=+t.to,t.fromDate=this.date(t.from).startOf(a),t.from=t.fromDate.valueOf(),t.toDate=this.date(t.to).endOf(a),t.to=t.toDate.valueOf(),!t.autoExpandTimeFromItems||t.calculatedZoomMode)return t;let o=Number.MAX_SAFE_INTEGER,i=0;const s=this.state.get("config.chart.items");if(Object.keys(s).length>0&&(0===t.from||0===t.to||e)){for(const t in s){const e=s[t];e.time.start<o&&e.time.start&&(o=e.time.start),e.time.end>i&&(i=e.time.end)}o<t.from&&(t.fromDate=this.date(o).startOf(a),t.from=t.fromDate.valueOf()),i>t.to&&(t.toDate=this.date(i).endOf(a),t.to=t.toDate.valueOf())}return t}getCenter(t){return t.leftGlobal+Math.round((t.rightGlobal-t.leftGlobal)/2)}isInCurrentView(t,e=this.state.get("$data.chart.time")){const a=t.valueOf();return!(a<e.leftGlobal||a>e.rightGlobal)}recalculateDatesWidths(t,e=this.state.get("$data.chart.time")){if(!e.timePerPixel)throw new Error("[gantt-schedule-timeline-calendar] No timePerPixel");for(const a of t){if(!a.leftGlobal||!a.rightGlobal)throw new Error("[gantt-schedule-timeline-calendar] No date leftGlobal or rightGlobal.");a.width=(a.rightGlobal+1-a.leftGlobal)/e.timePerPixel}return t}recalculateDatesPositions(t,e=this.state.get("$data.chart.time"),a=!0,o=!1){let i=0;if(a)for(const a of t){if(a.leftGlobal>=e.leftGlobal)break;if(isNaN(a.width))throw new Error("[gantt-schedule-timeline-calendar] NaN date width.");i-=a.width}for(let a of t){if(o&&(a=this.api.mergeDeep({},a)),a.leftPx=i,a.rightPx=i+a.width,isNaN(a.leftPx)||isNaN(a.rightPx))throw new Error("[gantt-schedule-timeline-calendar] Date leftPx or rightPx is a NaN.");a.currentView&&(a.currentView.leftPx=a.leftPx-e.leftPx,a.currentView.rightPx=a.rightPx-e.leftPx,a.currentView.width=a.currentView.rightPx-a.currentView.leftPx),i+=a.width}return t}setDatesCacheLevel(t,e,a=this.state.get("$data.chart.time")){if(!e.length)return;a.datesCache||(a.datesCache={timePerPixel:0,levels:[]}),a.datesCache.timePerPixel=a.timePerPixel,a.datesCache.levels[t]||(a.datesCache.levels[t]={leftTime:0,rightTime:0,dates:[]});const o=a.datesCache.levels[t];o.leftTime=e[0].leftGlobal,o.rightTime=e[e.length-1].rightGlobal,o.dates=[...e]}addDatesToCacheLevel(t,e,a=this.state.get("$data.chart.time")){if(!e.length)return;if(!a.datesCache)return;if(a.datesCache.timePerPixel!==a.timePerPixel)return e;const o=e[0],i=e[e.length-1],s=a.datesCache.levels[t];if(!s)return e;if(s.leftTime<=o.leftGlobal&&s.rightTime>=i.rightGlobal)return s.dates;if(s.dates.length>=1e6)throw new Error("[gantt-schedule-timeline-calendar] To many dates.");const n=[];if(o.leftGlobal<s.leftTime){for(const t of e){if(!(t.leftGlobal<s.leftTime))break;n.push(t)}s.leftTime=n[0].leftGlobal}for(const t of s.dates)n.push(t);if(i.rightGlobal>s.rightTime){for(const t of e)t.rightGlobal>s.rightTime&&n.push(t);s.rightTime=n[n.length-1].rightGlobal}return s.dates=n,s.dates}isLevelDateInCache(t,e,a=this.state.get("$data.chart.time")){if(!a.datesCache)return!1;if(a.datesCache.timePerPixel!==a.timePerPixel)return!1;const o=a.datesCache.levels[t];return!(!o||!o.dates.length)&&(e>=o.leftTime&&e<=o.rightTime)}getLevelDatesFromCache(t,e,a,o=this.state.get("$data.chart.time")){if(o.datesCache.timePerPixel!==o.timePerPixel)return[];const i=o.datesCache.levels[t];if(!i)return[];if(!(e>=i.leftTime&&a<=i.rightTime))return[];let s=0,n=0,l=!1;const r=i.dates.length;for(;n<r;n++){const t=i.dates[n];if(t.rightGlobal>=e&&(l=!0),t.rightGlobal>=a)break;l||s++}return{[Symbol.iterator](){let t=s;return{next:()=>t<=n?{value:i.dates[t++],done:!1}:(t=s,{done:!0})}},length:n-s+1}}getLevelDateFromCache(t,e,a=this.state.get("$data.chart.time")){if(!this.isLevelDateInCache(t,e,a))return null;for(const o of a.datesCache.levels[t].dates)if(o.rightGlobal>=e)return o;return null}getAllLevelDatesFromCache(t,e=this.state.get("$data.chart.time")){return e.datesCache.levels[t].dates}findOrCreateMainDateAtTime(t,e=this.state.get("$data.chart.time")){if(this.isLevelDateInCache(e.level,t,e))return this.getLevelDateFromCache(e.level,t,e);let a=[];e.datesCache.levels[e.level]&&(a=e.datesCache.levels[e.level].dates),a=this.addMissingDates(a,this.date(t),e);for(const e of a)if(e.rightGlobal>=t)return e;return null}addMissingDates(t,e,a=this.state.get("$data.chart.time"),o=!0){if(!t.length)return[];const i=t[0],s=t[t.length-1];if(!(e.valueOf()<i.leftGlobal||e.valueOf()>s.rightGlobal))return t;if(this.isLevelDateInCache(a.level,e.valueOf(),a))return this.getAllLevelDatesFromCache(a.level,a);const n=t.length;let l=t;if(o){l=new Array(n);for(let e=0;e<n;e++)l[e]=this.api.mergeDeep({},t[e])}const r=this.state.get(`config.chart.calendarLevels.${a.level}`),c=this.getCurrentFormatForLevel(r,a);let d=1;if("number"==typeof c.periodIncrement&&(d=c.periodIncrement),e.valueOf()<i.leftGlobal){if("function"==typeof c.periodIncrement)return t;const s=i.leftGlobalDate.subtract(1,"ms");let n=i.leftGlobalDate.subtract(d,a.period).startOf(a.period);for(;e.valueOf()<n.valueOf();)n=n.subtract(d,a.period).startOf(a.period);let r=[];do{r=this.generatePeriodDates({leftDate:n,rightDate:s,period:a.period,level:this.state.get(`config.chart.calendarLevels.${a.level}`),levelIndex:a.level,callOnDate:!0,callOnLevelDates:!0,time:a}),n=n.subtract(1,a.period)}while(!r.length||r[0].leftGlobal>e.valueOf());return r=r.filter((t=>!l.find((e=>e.leftGlobal===t.leftGlobal)))),t=[...r,...l],t=this.recalculateDatesWidths(t,a),t=this.recalculateDatesPositions(t,a,!0,o),this.addDatesToCacheLevel(a.level,t,a)}if(e.valueOf()>s.rightGlobal){let i=s.rightGlobalDate.add(d,a.period).endOf(a.period);for(;e.valueOf()>i.valueOf();)i=i.add(d,a.period).endOf(a.period);let n=this.generatePeriodDates({leftDate:s.rightGlobalDate.add(1,"ms"),rightDate:i,period:a.period,level:this.state.get(`config.chart.calendarLevels.${a.level}`),levelIndex:a.level,callOnDate:!0,callOnLevelDates:!0,time:a});return n=n.filter((t=>!l.find((e=>e.leftGlobal===t.leftGlobal)))),t=[...l,...n],t=this.recalculateDatesWidths(t,a),t=this.recalculateDatesPositions(t,a,!0,o),this.addDatesToCacheLevel(a.level,t,a)}return l}getGlobalOffsetPxFromDates(t,e=!0,a=this.state.get("$data.chart.time"),o){const i=t.valueOf();if(!a.allDates||0===a.allDates.length)return-100;if(void 0===o&&(o=a.allDates[a.level]),e&&(o=this.addMissingDates(o,t,a)),!o||0===o.length)return-1;let s;for(let t=0,e=o.length;t<e;t++){const e=o[t];if(i<=e.rightGlobal+1){s=e;break}}return s?i<s.leftGlobal?s.leftPx:s.rightPx-(s.rightGlobal-i)/a.timePerPixel:i<=a.leftGlobal?0:i>=a.rightGlobal?a.totalViewDurationPx+(i-a.rightGlobal+1)/a.timePerPixel:-1}getViewOffsetPxFromDates(t,e=!0,a=this.state.get("$data.chart.time"),o,i=!0){o||(o=a.allDates[a.level]),i&&(o=this.addMissingDates(o,t,a));const s=this.getDatesDiffPx(a.leftGlobalDate,t,a,!0,o);return e?this.limitOffsetPxToView(s):s}limitOffsetPxToView(t,e=this.state.get("$data.chart.time")){if(t<0)return 0;if(!e.levels.length)return e.width;const a=e.levels[e.level];if(!a.length)return e.width;const o=a[a.length-1];return t>o.currentView.rightPx?o.currentView.rightPx:t}findDateAtViewOffsetPx(t,e){return e.find((e=>e.currentView.rightPx>=t))}findDateIndex(t,e){let a=0;for(const o of e){if(o.rightGlobal>=t)return a;a++}return-1}findDateAtTime(t,e){if(!e){const t=this.state.get("$data.chart.time");e=t.allDates[t.level]}return e.find((e=>e.rightGlobal>=t))}getMainDateFromRelativePosition(t,e){const a=t.leftPx+e,o=this.state.get("$data.chart.time"),i=o.allDates[o.level];for(const t of i)if(t.rightPx>a)return t}getTimeFromOffsetPx(t,e=!0,a=this.state.get("$data.chart.time"),o){let i=t;e&&(i+=a.leftPx),o||(o=a.allDates[a.level]);const s=this.state.get(`config.chart.calendarLevels.${a.level}`),n=this.getCurrentFormatForLevel(s,a);let l=1;if("number"==typeof n.periodIncrement&&(l=n.periodIncrement),i<0){if("function"==typeof n.periodIncrement)return a.from;let t,e=a.fromDate.subtract(l,a.period).startOf(a.period),o=0;for(let s=0;s<1e3;s++){const s=this.generatePeriodDates({leftDate:e,rightDate:e.add(l,a.period).subtract(1,"ms"),period:a.period,time:a,level:this.state.get(`config.chart.calendarLevels.${a.level}`),levelIndex:a.level,callOnDate:!0,callOnLevelDates:!0,expandIfMissing:!1});if(s.length&&(t=s[0],o-=t.width,o<=i))return t.leftGlobal+(i-o)*a.timePerPixel;e=e.subtract(l,a.period).startOf(a.period)}}else if(i>a.totalViewDurationPx){let t,e=a.toDate.add(1,a.period).startOf(a.period),o=a.totalViewDurationPx;for(let s=0;s<1e3;s++){const s=this.generatePeriodDates({leftDate:e,rightDate:e.add(l,a.period).subtract(1,"ms"),period:a.period,time:a,level:this.state.get(`config.chart.calendarLevels.${a.level}`),levelIndex:a.level,callOnDate:!0,callOnLevelDates:!0,expandIfMissing:!1});if(s.length&&(t=s[0],o+=t.width,o>i))return t.rightGlobal+1-(o-i)*a.timePerPixel;e=e.add(l,a.period).startOf(a.period)}}for(let t=0,e=o.length;t<e;t++){const e=o[t];if(e.rightPx>i){const t=(e.rightPx-i)*a.timePerPixel;return e.rightGlobal+1-t}}const r=o[o.length-1];return r.rightGlobal+1-(r.rightPx-i)*a.timePerPixel}getCurrentFormatForLevel(t,e){return t.find((t=>+e.zoom<=+t.zoomTo))}alignLevelToMain(t,e,a=this.state.get("$data.chart.time")){if(t===a.level)return e;if(!this.state.get("config.chart.time.alignLevelsToMain"))return e;const o=a.allDates[a.level];if(!o||!o.length)return e;if(!e||!e.length)return e;const i=e.length;for(let t=0;t<i;t++){const i=e[t];let s,n=!1,l=0;for(const t of o){if(t.rightGlobal>=i.leftGlobal){if(!n)if(t.leftGlobal>=i.leftGlobal)i.leftGlobal=t.leftGlobal,i.leftGlobalDate=this.date(i.leftGlobal),i.leftPx=t.leftPx;else{const e=(t.rightGlobal-i.leftGlobal)/a.timePerPixel;l=-(t.width-e)}n=!0}if(t.leftGlobal>i.rightGlobal)break;n&&(l+=t.width,s=t)}if(s)if(s.rightGlobal<=i.rightGlobal)i.rightGlobal=s.rightGlobal,i.rightGlobalDate=this.date(i.rightGlobal),i.width=l,i.rightPx=i.leftPx+i.width;else{const t=(s.rightGlobal-i.rightGlobal)/a.timePerPixel;i.width=l-t,i.rightPx=i.leftPx+i.width}}return e}stopCheckingCurrentDates(){this.checkCurrentDateTimeoutId&&clearTimeout(this.checkCurrentDateTimeoutId)}checkCurrentDates(t=!1,e=this.state.get("$data.chart.time")){const a=this.date().valueOf(),o=e.checkCurrentDateInterval;if(this.stopCheckingCurrentDates(),t&&(this.checkCurrentDateTimeoutId=setTimeout((()=>{this.checkCurrentDates(t,e)}),o)),a-this.currentDateLastCheck<o)return;const i=e.allDates;let s=!1;for(const t of i){const e=t.length;for(let o=0;o<e;o++){const i=t[o],n=i.current;i.current=!1,i.previous=!1,i.next=!1,i.leftGlobal<=a&&i.rightGlobal>=a&&(!0!==n&&(s=!0),i.current=!0,o>0&&(t[o-1].previous=!0),o+1<e&&(t[o+1].next=!0))}}this.currentDateLastCheck=a,s&&this.state.update("$data.chart.time.levels",(t=>t),{data:"current-time"}),this.api.render()}getDSTDiffForLevel(t,e,a,o=this.state.get("$data.chart.time")){const i=this.api.time.getLevelDatesFromCache(t,e,a,o);let s=0;for(const t of i)t.DST.diffMs&&e<=t.DST.afterTime&&a>t.DST.afterTime&&(s+=t.DST.diffMs);return s}setDatesDST(t){for(const e of t){const t=e.rightGlobal-e.leftGlobal,a=e.rightGlobalDate.utc(!0).valueOf()-e.leftGlobalDate.utc(!0).valueOf();if(t!==a){e.DST={diffMs:t-a,afterTime:0,afterDate:null};for(let t=0;t<9216;t++)if(e.leftGlobalDate.add(t,"hour").hour()!==e.leftGlobalDate.utc(!0).add(t,"hour").hour()){e.DST.afterDate=e.leftGlobalDate.add(t,"hour").subtract(1,"ms"),e.DST.afterTime=e.DST.afterDate.valueOf();break}}}return t}_generatePeriodDates(t){const e=[];t=Object.assign({},t);const{datesCount:a,rightDate:o,period:i,level:s,levelIndex:n,time:l,originalLeftDate:r,format:c}=t;let d=t.leftDate;const h=this.date().valueOf();for(let t=0;t<a;t++){let t=c.periodIncrement||1;"function"==typeof t&&(t=t({currentDates:e,date:d,leftDate:r,rightDate:o,period:i,level:s,levelIndex:n,time:l,vido:this.api.vido,api:this.api}));const a=d.add(t-1,i).endOf(i),u=d.valueOf()<=h&&a.valueOf()>=h,m={id:`gstcid-${d.valueOf()}`,leftGlobal:d.valueOf(),leftGlobalDate:d,rightGlobalDate:a,rightGlobal:a.valueOf(),width:0,leftPx:0,rightPx:0,period:i,formatted:null,current:u,previous:!1,next:!1,periodIncrementedBy:t,DST:{diffMs:0,afterTime:0,afterDate:null}};u&&e.length&&(e[e.length-1].previous=!0),e.length&&e[e.length-1].current&&(m.next=!0);const g=m.rightGlobal+1-m.leftGlobal;m.width=g/l.timePerPixel,e.push(m),d=d.add(t||1,i)}return this.setDatesDST(e)}generatePeriodDates({leftDate:t,rightDate:e,period:a,level:o,levelIndex:i,time:s,callOnDate:n,callOnLevelDates:l,expandIfMissing:r=!0}){if(!s.timePerPixel)return[];const c=this.getCurrentFormatForLevel(o,s);t=t.startOf(a),e=e.endOf(a);const d=Math.ceil(e.diff(t,a,!0)),h=t.clone();let u=this._generatePeriodDates({datesCount:d,leftDate:t,rightDate:e,period:a,level:o,levelIndex:i,time:s,originalLeftDate:h,format:c});if(n){const t=[];for(let e=0;e<u.length;e++){let a=u[e];if(a){for(let t=0,e=s.onDate.length;t<e;t++)a=s.onDate[t]({date:a,format:c,time:s,level:o,levelIndex:i});a&&t.push(a)}}u=t}if(l)for(let t=0,e=s.onLevelDates.length;t<e;t++)u=s.onLevelDates[t]({dates:u,format:c,time:s,level:o,levelIndex:i});if((!u.length||u[u.length-1].rightGlobal<e.valueOf())&&r){let r=this._generatePeriodDates({datesCount:d+100,leftDate:t,rightDate:e,period:a,level:o,levelIndex:i,time:s,originalLeftDate:h,format:c});if(n){const t=[];for(let e=0;e<r.length;e++){let a=r[e];if(a){for(let t=0,e=s.onDate.length;t<e;t++)a=s.onDate[t]({date:a,format:c,time:s,level:o,levelIndex:i});a&&t.push(a)}}r=t}if(l)for(let t=0,e=s.onLevelDates.length;t<e;t++)r=s.onLevelDates[t]({dates:r,format:c,time:s,level:o,levelIndex:i});const u=[];for(const t of r)if(u.push(t),t.rightGlobal>=e.valueOf())return u}this.addDatesToCacheLevel(i,u,s);const m=[];for(const t of u)if(m.push(t),t.rightGlobal>=e.valueOf())return m;return m}getDatesDiffPx(t,e,a,o=!0,i){if(t.valueOf()===e.valueOf())return 0;let s,n,l=0,r=!1;if(e.valueOf()<t.valueOf()){const a=t;t=e,e=a,r=!0}if(void 0===i){if(!a.allDates||!a.allDates.length||!a.allDates[a.level])return 0;i=a.allDates[a.level]}if(0===i.length)return 0;if(this.isLevelDateInCache(a.level,t.valueOf(),a)?i=this.getAllLevelDatesFromCache(a.level,a):t.valueOf()<i[0].leftGlobal&&(i=this.addMissingDates(i,t,a)),this.isLevelDateInCache(a.level,e.valueOf(),a))i=this.getAllLevelDatesFromCache(a.level,a);else{const t=i[i.length-1].rightGlobalDate.clone();e.valueOf()>t.valueOf()&&(i=this.addMissingDates(i,e,a))}this.addDatesToCacheLevel(a.level,i,a);let c=!1,d=0;for(const a of i)if(a.rightGlobal+1>=t.valueOf()&&!c&&(c=!0,n=a),c&&(l+=a.width),a.rightGlobal+1>=e.valueOf()){s=a,d=a.width;break}if(o){let o=t.valueOf()-n.leftGlobal;t.valueOf()<n.leftGlobal&&(o=0);let i=s.rightGlobal+1-e.valueOf();s.leftGlobal>e.valueOf()&&(i=s.rightGlobal+1-s.leftGlobal);const c=(i+o)/a.timePerPixel;return r?-(l-c):l-c}return l-=d,r?-l:l}getDatesDiffMs(t,e,a,o=!0,i){if(t.valueOf()===e.valueOf())return 0;let s,n,l=0,r=!1;if(e.valueOf()<t.valueOf()){const a=t;t=e,e=a,r=!0}if(void 0===i){if(!a.allDates||!a.allDates.length||!a.allDates[a.level])return 0;i=a.allDates[a.level]}if(0===i.length)return 0;if(this.isLevelDateInCache(a.level,t.valueOf(),a)?i=this.getAllLevelDatesFromCache(a.level,a):t.valueOf()<i[0].leftGlobal&&(i=this.addMissingDates(i,t,a)),this.isLevelDateInCache(a.level,e.valueOf(),a))i=this.getAllLevelDatesFromCache(a.level,a);else{const t=i[i.length-1].rightGlobalDate.clone();e.valueOf()>t.valueOf()&&(i=this.addMissingDates(i,e,a))}this.addDatesToCacheLevel(a.level,i,a);let c=!1,d=0;for(const a of i)if(a.rightGlobal+1>=t.valueOf()&&!c&&(c=!0,n=a),c&&(l+=a.rightGlobal+1-a.leftGlobal),a.rightGlobal+1>=e.valueOf()){s=a,d=a.rightGlobal+1-a.leftGlobal;break}if(o){let a=t.valueOf()-n.leftGlobal;t.valueOf()<n.leftGlobal&&(a=0);let o=s.rightGlobal+1-e.valueOf();s.leftGlobal>e.valueOf()&&(o=s.rightGlobal+1-s.leftGlobal);const i=o+a;return r?-(l-i):l-i}return l-=d,r?-l:l}addTimeFromDates(t,e,a=this.state.get("$data.chart.time")){if(!a.allDates||!a.allDates.length||!a.allDates[a.level])return t+e;if(!e)return t;let o=this.getAllLevelDatesFromCache(a.level,a);const i=this.date(t);o=this.addMissingDates(o,i,a,!0);let s=this.findDateIndex(t,o),n=t-o[s].leftGlobal;n<0&&(n=0);let l=0;if(e>0){for(;l<e;){const t=o[s];if(l+=t.rightGlobal+1-t.leftGlobal,n&&(l-=n,n=0),l>=e)break;s++,o[s]||(o=this.addMissingDates(o,t.leftGlobalDate.add(1,a.period),a,!0))}return o[s].rightGlobal+1-(l-e)}for(;l>e;){let t=o[s];if(l-=n,n&&(n=0),l<=e)break;if(s--,s<0&&(o=this.addMissingDates(o,t.leftGlobalDate.subtract(1,a.period),a,!0),s=0),t=o[s],l-=t.rightGlobal+1-t.leftGlobal,l<=e)break}return o[s].leftGlobal+(-l+e)}getLeftViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length)return null;const e=t.levels[t.level];return e.length?e[0]:null}getRightViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length||!t.levels[t.level])return null;const e=t.levels[t.level];return e.length?e[e.length-1]:null}getLowerPeriod(t){switch(t){case"year":return"month";case"month":case"week":return"day";case"day":return"hour";case"hour":return"minute";case"minute":return"second";case"second":return"millisecond";default:return t}}getHigherPeriod(t){switch(t){case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second";default:return t}}}
/**
 * Gantt-Schedule-Timeline-Calendar IDApi
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */var D=new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return this.isGSTCID(t)?t:`gstcid-${t}`}isGSTCID(t){return String(t).startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substring(7):t}};
/**
 * Gantt-Schedule-Timeline-Calendar Slots
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class y extends o{constructor(t,e,a){super(e,a),this.subs=[],this.name=t,this.subs.push(e.state.subscribe(`config.slots.${t}`,this.setComponents,{queue:!0}))}destroy(){this.subs.forEach((t=>t())),super.destroy()}getName(){return this.name}}function x(t,e,a){return new y(t,e,a)}
/**
 * Gantt-Schedule-Timeline-Calendar helpers
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */const P="gstc";function C(t,e=""){let a=`gstc__${t}`;return t===P&&(a=P),e?`${a} ${a}--${e.replace(":","-")}`:a}function $(t,e){let a=`gstc__${t}`;return t===P&&(a=P),`${a}--${e}`}
/**
 * Api functions
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */let W=0;const I=new Map;function G(t){return I.get(t.apiId)}class M{constructor(t){this.apiId=0,this.name=P,this.debug=!1,this.plugins={},this.iconsCache={},this.unsubscribes=[],this.mutedMethods=new Set,this.mergeDeep=null,this.generateSlots=x,this.getClass=C,this.getId=$,this.GSTCID=D.GSTCID,this.isGSTCID=D.isGSTCID,this.sourceID=D.sourceID,this.allActions=[],this.keysToKeep=["id","parents","children","allChildren","parentId"],this.apiId=++W,I.set(this.apiId,{rowsDataWithParentsExpanded:[],rowsIdsWithParentsExpanded:[],rowsWithParentsExpanded:[],rowsWithParentsExpandedAsMap:new Map,rowsPositionsMap:{id:"",dataIndex:0,keys:[]},allRowsIds:[],allRowsAsArray:[],rowsWithParentsExpandedDataIndexMap:new Map,itemsAsArray:[],itemsDataAsArray:[]}),this.state=t,this.time=new b(this.state,this),this.unsubscribes.push(this.state.subscribe("config.debug",(t=>this.debug=t))),this.debug&&(window.state=t)}render(){return this.vido.update()}getListenerPosition(t){for(const e of this.state.getListeners().values())for(const a of e.listeners)if(a[1].fn===t)return a[0]}setVido(t){this.vido=t}setMergeDeep(t){this.mergeDeep=t}log(...t){this.debug&&console.log.call(console,...t)}getInitializedPlugins(){return this.state.get("$data.initializedPlugins")}pluginInitialized(t){this.getInitializedPlugins().add(t)}pluginDestroyed(t){this.getInitializedPlugins().delete(t)}clearPluginsPositions(){this.getInitializedPlugins().clear()}isPluginInitialized(t){return this.getInitializedPlugins().has(t)}getPluginPosition(t){return[...this.getInitializedPlugins()].indexOf(t)}getPluginsPositions(){const t={};let e=0;for(const a of this.getInitializedPlugins())t[a]=e++;return t}isPluginInitializedBefore(t,e){return this.getPluginPosition(t)<this.getPluginPosition(e)}getActions(t){this.allActions.includes(t)||this.allActions.push(t);let e=this.state.get("config.actions."+t);return void 0===e&&(e=[]),e.slice()}isItemInViewport(t,e,a){if(!e||!a){const t=this.state.get("config.chart.time");e=t.leftGlobal,a=t.rightGlobal}return t.time.start<=a&&t.time.end>=e}getChildrenLinkedItemsIds(t,e,a=[]){const o=e[t];if(o.linkedWith&&o.linkedWith.length){a.includes(t)||a.push(t);for(const t of o.linkedWith){if(a.includes(t))continue;a.push(t);const o=e[t];o.linkedWith&&o.linkedWith.length&&this.getChildrenLinkedItemsIds(t,e,a)}}return a}collectAllLinkedItems(t,e){for(const a in t){const o=t[a];e[o.id].linkedWith=o.linkedWith||[]}const a=new Map;for(const t in e){if(a.has(t))continue;const o=this.getChildrenLinkedItemsIds(t,e);e[t].linkedWith.splice(e[t].linkedWith.length,0,...o);const i=Array.from(new Set(e[t].linkedWith));e[t].linkedWith=i.filter((e=>e!==t)),a.set(t,!0);for(const t of i)e[t].linkedWith=i.filter((e=>e!==t)),a.set(t,!0)}}getChildrenDependantItemsIds(t,e,a=[]){if(t.dependant&&t.dependant.length)for(const o of t.dependant){if(a.includes(o))continue;a.push(o);const i=e[o];if(!i)throw new Error(`Dependant item not found [id:'${o}'] found in item [id:'${t.id}']`);i.dependant&&i.dependant.length&&this.getChildrenDependantItemsIds(i,e,a)}return a}calculateItemVerticalPosition(t,e=null,a=null,o=null){if(o||(o=this.getItem(t)),e||(e=this.getItemData(t)),a||(a=this.getRowData(o.rowId)),o.gap&&e||(this.prepareItem(o),e=this.getItemData(t)),!a)return e.position;const i=a.position.top+o.gap.top,s=e.position.rowTop+o.gap.top,n=this.getRowViewTop(a.id);let l=n+e.position.actualRowTop;return n===1/0?l=1/0:-1===n&&(l=-1),e.position.top=i,e.position.actualRowTop=s,e.position.viewTop=l,e.position}setItemDataOutOfView(t,e=this.state.get("$data.chart.time")){t.outOfView||(t.outOfView={left:!1,right:!1,whole:!1});const a=t.time.startDate.valueOf(),o=t.time.endDate.valueOf();return t.outOfView.left=a<e.leftGlobal||a>=e.rightGlobal,t.outOfView.right=o>e.rightGlobal||o<=e.leftGlobal,t.outOfView.whole=o<=e.leftGlobal||a>=e.rightGlobal,t}calculateItemHorizontalPosition(t,e=null,a=null,o=this.state.get("$data.chart.time"),i=null){if(i||(i=this.getItem(t)),e||(e=this.getItemData(t)),a||(a=this.getRowData(i.rowId)),!a)return e.position;if(this.state.get("$data.chart.allItemsOnTheLeftOrRight"))return;const s=e.time.startDate.valueOf()===i.time.start?e.time.startDate:this.time.date(i.time.start),n=e.time.endDate.valueOf()===i.time.end?e.time.endDate:this.time.date(i.time.end),l=this.time.getViewOffsetPxFromDates(s,!1,o),r=this.time.getViewOffsetPxFromDates(n.add(1,"ms"),!1,o);e.position.left=l,e.position.actualLeft=this.time.limitOffsetPxToView(l,o),e.position.right=r,e.position.actualRight=this.time.limitOffsetPxToView(r,o),e.width=r-l;let c=this.time.getViewOffsetPxFromDates(n,!1,o);c===r&&(c-=1/o.timePerPixel),e.timeWidth=c-l,e.actualWidth=e.position.actualRight-e.position.actualLeft;const d=this.state.get("config.chart.item.minWidth");return"number"==typeof d&&e.actualWidth<d&&(e.actualWidth=d),this.setItemDataOutOfView(e,o),e.position}calculateItemPosition(t,e=null,a=null,o=this.state.get("$data.chart.time"),i=null){return e||(e=this.state.get(`$data.chart.items.${t}`)),i||(i=this.state.get(`config.chart.items.${t}`)),a||(a=this.state.get(`$data.list.rows.${i.rowId}`)),this.calculateItemHorizontalPosition(t,e,a,o,i),this.calculateItemVerticalPosition(t,e,a,i),e.position}getItemPosition(t,e=null,a=null,o=this.state.get("$data.chart.time"),i=null){return i||(i=this.getItem(t)),e||(e=this.getItemData(t)),0===e.position.left&&0===e.position.right&&this.calculateItemPosition(t,e,a,o,i),e.position}getRow(t){return this.state.get(`config.list.rows.${t}`)}getRows(t){if(!t.length)return[];const e=this.getAllRows(),a=[];for(const o of t)e[o]&&a.push(e[o]);return a}getAllRows(){return this.state.get("config.list.rows")}getVisibleRowsId(){return this.state.get("$data.list.visibleRows")}getRowsData(){return this.state.get("$data.list.rows")}setRowsData(t){this.state.update("$data.list.rows",t)}getRowData(t){return this.state.get(`$data.list.rows.${t}`)}setRowData(t,e){this.state.update(`$data.list.rows.${t}`,e)}getItem(t){return this.state.get(`config.chart.items.${t}`)}getItems(t=[]){const e=[],a=this.getAllItems();for(const o of t)a[o]&&e.push(a[o]);return e}getAllItemsAsArray(){return G(this).itemsAsArray}getAllItemsDataAsArray(){return G(this).itemsDataAsArray}getAllItems(){return this.state.get("config.chart.items")}getItemData(t){return this.state.get(`$data.chart.items.${t}`)}getItemsData(){return this.state.get("$data.chart.items")}setItemData(t,e){this.state.update(`$data.chart.items.${t}`,(t=>{for(const a in e)t[a]=e[a];return t}))}setItemsData(t){this.state.update("$data.chart.items",t)}prepareDependantItems(t,e){return this.getChildrenDependantItemsIds(t,e).filter((e=>e!==t.id))}prepareItem(t,e=this.state.get("config.chart.item.height"),a=this.getItemsData(),o=this.getAllItems()){let i=t.id;if(i=String(i),t.id=i,a[t.id]||(a[t.id]={id:t.id,actualHeight:0,outerHeight:0,time:null,position:{left:0,actualLeft:0,right:0,actualRight:0,rowTop:t.rowTop||0,actualRowTop:t.actualRowTop||0,top:0,viewTop:0},outOfView:{left:!1,right:!1,whole:!1},width:-1,actualWidth:-1,timeWidth:-1,detached:!1,linkedWith:[],dependant:this.getChildrenDependantItemsIds(t,o)}),t.time||console.error("There is something wrong with this item.",t),"number"!=typeof t.time.start||"number"!=typeof t.time.end)throw new Error("[gantt-schedule-timeline-calendar] Item 'time.start' and 'time.end' values should be a number (unix epoch milliseconds).");t.time.start=+t.time.start,t.time.end=+t.time.end,t.id=String(t.id);const s=this.state.get("config.chart.item");"number"!=typeof t.height&&(t.height=e),a[t.id].time={startDate:this.time.date(t.time.start),endDate:this.time.date(t.time.end)},a[t.id].actualHeight=t.height,void 0===t.overlap&&(t.overlap=s.overlap),"number"!=typeof t.top&&(t.top=0),t.gap||(t.gap={}),"number"!=typeof t.gap.top&&(t.gap.top=s.gap.top),"number"!=typeof t.gap.bottom&&(t.gap.bottom=s.gap.bottom),"number"!=typeof t.minWidth&&(t.minWidth=s.minWidth),a[t.id].outerHeight=a[t.id].actualHeight+t.gap.top+t.gap.bottom,a[t.id].position.actualRowTop=a[t.id].position.rowTop+t.gap.top}prepareItems(t){const e=this.state.get("config.chart.item.height"),a=this.getItemsData(),o=G(this);o.itemsAsArray.length=0,o.itemsDataAsArray.length=0;for(const i in t){const s=t[i];this.prepareItem(s,e,a,t),o.itemsAsArray.push(t[i]),o.itemsDataAsArray.push(a[i])}return this.collectAllLinkedItems(t,a),t}sortRowsByChildren(t,e={},a=this.state.get("config.list.rows"),o=this.state.get("$data.list.rows")){for(const i of t){const t=a[i],s=o[i],n=t.parentId&&e[t.parentId]||!t.parentId;!e[i]&&n&&(e[i]=t),s.children.length&&this.sortRowsByChildren(s.children,e,a,o)}return e}getSortableValue(t,e){return"string"==typeof t?e[t]:"function"==typeof t?t({row:e,vido:this.vido}):""}sortRowsByColumn(t,e=!0){const a=this.state.get("config.list.sort.compare");let o=this.getAllRows();const i=G(this);if(0===i.allRowsIds.length)return o;const s=i.allRowsAsArray;a?s.sort(a(t)):s.sort(((a,o)=>{const i=this.getSortableValue(t.sortable,a),s=this.getSortableValue(t.sortable,o);return"number"==typeof i?e?i-s:s-i:"string"==typeof i?e?i.localeCompare(s):s.localeCompare(i):void 0}));const n=s.map((t=>t.id)),l=this.getRowsData();for(const t of n){const e=l[t];e.children&&e.children.length&&e.children.sort(((t,e)=>n.indexOf(t)-n.indexOf(e)))}o=this.sortRowsByChildren(n),this.state.update("config.list.rows",o,{data:"sortRowsByColumn"});const r=this.getScrollTop();return this.setScrollTop(r.dataIndex,r.preciseOffset),o}fillEmptyRowValues(t){const e=this.state.get("config.list.row.height"),a=this.getRowsData();let o=0;for(let i in t){const s=t[i];let n=a[i];i=String(i),s.id=i,a[i]||(n={id:s.id,parentId:s.parentId,parents:[],children:[],allChildren:[],position:{top:0,bottom:0},items:[],actualHeight:0,outerHeight:0,parentsExpanded:!0,inView:!0}),"number"!=typeof s.height&&(s.height=e),n.actualHeight=s.height,"boolean"!=typeof s.expanded&&(s.expanded=!1),n.position.top=o,"object"!=typeof s.gap&&(s.gap={}),"number"!=typeof s.gap.top&&(s.gap.top=0),"number"!=typeof s.gap.bottom&&(s.gap.bottom=0),void 0===s.visible&&(s.visible=!0),n.outerHeight=n.actualHeight+s.gap.top+s.gap.bottom,a[i]=n,o+=n.outerHeight}return t}itemsOnTheSameLevel(t,e){const a=this.getItemData(t.id),o=this.getItemData(e.id),i=a.position.rowTop+a.outerHeight,s=o.position.rowTop+o.outerHeight;return o.position.rowTop<=a.position.rowTop&&s>a.position.rowTop||(o.position.rowTop>=a.position.rowTop&&o.position.rowTop<i||o.position.rowTop>=a.position.rowTop&&s<i)}itemsOverlaps(t,e){return!!this.itemsOnTheSameLevel(t,e)&&(e.time.start>=t.time.start&&e.time.start<=t.time.end||(e.time.end>=t.time.start&&e.time.end<=t.time.end||(e.time.start>=t.time.start&&e.time.end<=t.time.end||e.time.start<=t.time.start&&e.time.end>=t.time.end)))}itemOverlapsWithOthers(t,e){for(let a=0,o=e.length;a<o;a++){const o=e[a],i=o.time.start&&t.time.start&&o.time.end&&t.time.end;if(t.id!==o.id&&this.itemsOverlaps(t,o)&&i)return o}return null}fixOverlappedItems(t){if(this.isMutedMethod("fixOverlapped"))return;if(0===t.length)return;let e=0;const a=this.getItemsData();for(const o of t){if(o.overlap)continue;const i=a[o.id];if(!i)continue;i.position.rowTop=o.top,i.position.actualRowTop=i.position.rowTop+o.gap.top;let s=this.itemOverlapsWithOthers(o,t);if(e&&s)for(;s=this.itemOverlapsWithOthers(o,t);){const t=this.getItemData(s.id);i.position.rowTop+=t.outerHeight,i.position.actualRowTop=i.position.rowTop+o.gap.top}e++}}makeChildren(t,e={parents:[]}){if("object"!=typeof t)return[];t.children||(t.children=[]),t.allChildren||(t.allChildren=[]),t.parents||(t.parents=[...e.parents]),t.parentId&&"undefined"!==t.parentId&&t.parents.push(t.parentId);for(const e in t)if("id"!==e&&"parentId"!==e&&"children"!==e&&"allChildren"!==e&&"parents"!==e){"undefined"!==e&&(t.children.push(e),t.allChildren.push(e));const a=t[e];if("object"!=typeof a)continue;const o=this.makeChildren(a,t);t.allChildren.splice(t.allChildren.length,0,...o)}return t.allChildren}clearNested(t){for(const e in t)"object"!=typeof t[e]||Array.isArray(t[e])||this.clearNested(t[e]),this.keysToKeep.includes(e)||delete t[e],"parentId"===e&&"undefined"===t[e]&&(t[e]=void 0);return t}fastTree(t,e=null){var a,o;if(!e){e={undefined:{},id:"undefined"};for(const o in t){const i=t[o];e[i.id]||(e[i.id]={parentId:null!==(a=i.parentId)&&void 0!==a?a:"undefined",id:i.id})}}for(const t in e){const a=e[t];e[null!==(o=a.parentId)&&void 0!==o?o:"undefined"][a.id]=a}this.makeChildren(e[void 0]),delete e[void 0],delete e.id,delete e.parents,delete e.children,delete e.allChildren;for(const t in e)e[t]=this.clearNested(e[t]);return e}updateItemRowMapForItem(t,e,a=this.state.get("$data.itemRowMap"),o=this.state.get("$data.list.rows")){if(!o[e])return;o[e].items||(o[e].items=[]);const i=a[t];i&&o[i]&&(o[i].items=o[i].items.filter((e=>e!==t)).sort(((t,e)=>this.getItem(t).time.start-this.getItem(e).time.start))),a[t]=e,o[e].items.includes(t)||o[e].items.push(t)}sortRowItemsByTime(t){t.items=t.items.sort(((t,e)=>this.getItem(t).time.start-this.getItem(e).time.start))}makeTreeMap(t,e,a=!1){let o=this.state.get("$data.treeMap");if(!a||!o){o=this.fastTree(t);for(const e in t){const a=t[e],i=o[e];for(const t in i)a[t]=i[t]}}const i=this.state.get("$data.reloading")?{}:this.state.get("$data.itemRowMap");for(const t in e){const a=e[t];this.updateItemRowMapForItem(t,a.rowId,i)}for(const e in t){const a=t[e];this.sortRowItemsByTime(a)}return this.state.update("$data.itemRowMap",i),a||this.state.update("$data.treeMap",o),t}_updateRowsWithParentsExpandedCache(t){const e=G(this);e.rowsIdsWithParentsExpanded.length=0,e.rowsIdsWithParentsExpanded.splice(0,0,...t),e.rowsWithParentsExpanded.length=0,e.rowsDataWithParentsExpanded.length=0,e.rowsWithParentsExpandedDataIndexMap.clear();const a=this.state.get("config.list.rows"),o=this.state.get("$data.list.rows");e.rowsWithParentsExpandedAsMap.clear();let i=0;for(const t of e.rowsIdsWithParentsExpanded){const s=a[t];s&&(e.rowsWithParentsExpanded.push(s),e.rowsWithParentsExpandedAsMap.set(t,s),e.rowsDataWithParentsExpanded.push(o[t]),e.rowsWithParentsExpandedDataIndexMap.set(t,i),i++)}}generateRowsWithParentsExpanded(t){const e=[],a=this.getRowsData();t:for(const o in t){if(!a[o]||!a[o].parents)return[];if(this.isRowVisible(o)){for(const e of a[o].parents){const a=t[e];if(!a||!a.expanded)continue t}e.push(o)}}return this._updateRowsWithParentsExpandedCache(e),e}getRowInfoFromTop(t){const e=this.state.get("config.list.rows"),a=this.state.get("$data.list.rows"),o=this.getRowPositionMapNode(t);return{dataIndex:o.dataIndex,row:e[o.id],rowData:a[o.id]}}getRowViewTop(t,e=this.state.get("$data.list.rows"),a=this.state.get("$data.scroll.vertical")){return e[t].position.top-a.absolutePosPx-a.preciseOffset}parentsExpanded(t){return G(this).rowsWithParentsExpandedAsMap.has(t)}setAllRowsIdsCache(t){const e=G(this);e.allRowsIds=t;const a=this.state.get("config.list.rows");e.allRowsAsArray.length=0;for(const o of t)e.allRowsAsArray.push(a[o])}recalculateRowHeight(t,e){if(!e||!t||!t.gap)return 0;let a=0;const o=this.getItemsData();if(!o)return 0;if(!1===t.visible)return e.actualHeight=0,e.outerHeight=0,0;const i=this.getItems(e.items);this.fixOverlappedItems(i);for(const t of i){const e=o[t.id];a=Math.max(a,e.position.rowTop+e.outerHeight)}return a<t.height&&(a=t.height),e.actualHeight=a,e.outerHeight=e.actualHeight+t.gap.top+t.gap.bottom,e.outerHeight}calculateVisibleRowsHeights(){if(this.isMutedMethod("calculateVisibleRowsHeights"))return;const t=this.state.get("$data.list.visibleRows");let e=0;const a=this.getAllRows(),o=this.getRowsData();for(const i of t)e+=this.recalculateRowHeight(a[i],o[i]);this.state.update("$data.list.visibleRowsHeight",e)}getRealChartHeight(t=!0){const e=this.state.get("$data.scroll.vertical.preciseOffset")||0,a=t?this.state.get("config.innerHeight"):this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),o=this.state.get("config.additionalSpace");return a-o.top-o.bottom+-1*e}getLastRowId(t=G(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t[this.getLastRowIndex(t,e)]}getLastRowIndex(t=G(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t.length-e.lastPageCount}generateRowsPositionsMap(t,e=0,a={id:"",dataIndex:0,keys:[]}){if(0===t.length)return a;if(1===t.length)return a[t[0].position.top]={id:t[0].id,dataIndex:e,keys:[]},a.keys=[t[0].position.top],a;const o=Math.floor(t.length/2),i=e,s=e+o,n=t.slice(1,o),l=t.slice(o+1);a.keys.push(t[0].position.top),a.keys.push(t[o].position.top);const r=a[t[0].position.top]={id:t[0].id,dataIndex:i,keys:[]},c=a[t[o].position.top]={id:t[o].id,dataIndex:s,keys:[]};return this.generateRowsPositionsMap(n,i+1,r),this.generateRowsPositionsMap(l,s+1,c),a}getRowPositionMapNode(t,e=G(this).rowsPositionsMap){return t>=e.keys[1]?this.getRowPositionMapNode(t,e[e.keys[1]]):t>=e.keys[0]?this.getRowPositionMapNode(t,e[e.keys[0]]):e}measureRows(){if(this.isMutedMethod("measureRows"))return;const t=this.state.get("$data.scroll.vertical"),e=this.state.get("config.list.rows"),a=this.getRealChartHeight(),o=this.getRowsData(),i=G(this);if(void 0===t.dataIndex)return[];const s=this.state.get("$data.list.rowsIds");let n=0;if(t.data&&(n=i.rowsWithParentsExpandedDataIndexMap.get(t.data.id),-1===n)){const e=this.getLastRowId(i.rowsIdsWithParentsExpanded,t);n=i.rowsWithParentsExpandedDataIndexMap.get(e)}let l=0,r=0,c=0;for(let d=s.length;c<d;c++){const d=s[c],h=i.rowsWithParentsExpandedAsMap.has(d),u=this.getRowViewTop(d,o,t),m=c>=n&&u<=a,g=o[d];if(!g)return[];this.recalculateRowHeight(e[d],g),g.inView=m,g.parentsExpanded=h,g.position.top=l,r=l+g.outerHeight,g.position.bottom=r,h&&(l+=g.outerHeight)}return i.rowsPositionsMap=this.generateRowsPositionsMap(i.rowsDataWithParentsExpanded),this.state.update("$data.list.rows",o),this.state.update("$data.list.rowsHeight",r),this.state.update("$data.scroll.vertical.absoluteSize",r),r}isRowVisible(t,e=this.getAllRows(),a=this.getRowsData()){if(!e[t])return!1;if(!1===e[t].visible)return!1;if(!a[t])return!1;const o=a[t].parents;for(const t of o)if(!e[t]||!1===e[t].visible)return!1;return!0}getVisibleRows(){const t=this.state.get("$data.scroll.vertical"),e=G(this),a=e.rowsIdsWithParentsExpanded,o=this.getRowsData();if(this.getAllRows(),!t.data)return[];const i=this.getRealChartHeight();if(!i)return[];let s=e.rowsWithParentsExpandedDataIndexMap.get(t.data.id);-1!==s&&void 0!==s||(s=t.dataIndex>e.rowsDataWithParentsExpanded.length-1?a.length-t.lastPageCount:t.dataIndex);const n=[];let l,r;for(let e=s,c=a.length;e<c;e++){const s=a[e];if(o[s]&&(r=o[s],l=this.getRowViewTop(s,o,t),l>=0&&l<=i?(n.push(s),r.parentsExpanded=!0):r.parentsExpanded=!1,l>i))break}return n}normalizeMouseWheelEvent(t){let e=t.deltaX||0,a=t.deltaY||0,o=t.deltaZ||0;const i=t.deltaMode,s=this.state.get("config.list.rowHeight");let n=1;switch(i){case 1:s&&(n=s);break;case 2:n=window.height}return e*=n,a*=n,o*=n,{x:e,y:a,z:o,event:t}}resetHorizontalScroll(t=this.state.get("$data.scroll.horizontal")){t.data=null,t.dataId="",t.dataIndex=0,t.handlePosPx=0,t.absolutePosPx=0,t.preciseOffset=0;const e=this.state.get("$data.chart.time");if(!e.allDates||!e.allDates.length)return;const a=e.allDates[e.level];if(!a||!a.length)return;const o=a[0];return t.data=Object.assign({},o),t.dataId=o.id,t}resetVerticalScroll(t=this.state.get("$data.scroll.vertical")){return t.data=null,t.dataId="",t.dataIndex=0,t.handlePosPx=0,t.absolutePosPx=0,t.preciseOffset=0,t.data=null,t.dataId=null,t}limitHorizontalScrollToView(t=this.state.get("$data.chart.time")){const e=this.state.get("$data.scroll.horizontal");if(!t.allDates||!t.allDates.length)return;const a=t.allDates[t.level].length-e.lastPageCount;e.dataIndex>a&&this.setScrollLeft(a,0,t)}calculateHorizontalScrollPosPxFromDates(t,e=0,a=this.state.get("$data.scroll.horizontal"),o=this.state.get("$data.chart.time")){if(o.calculatedZoomMode)return 0;if(void 0===t&&(t=0),!o.allDates||!o.allDates.length)return;const i=o.allDates[o.level];if(!i||!i.length)return;let s,n=0,l=0;if("number"==typeof t||""===t){""===t&&(t=0),l=t,s=i[l],s||(l=0,s=i[l]);const e=o.allDates[o.level].length-a.lastPageCount;l>e&&e>=0&&(l=e,s=i[l])}else if("string"==typeof t)for(let e=0;e<i.length;e++){const a=i[e];if(a.id===t){s=a,l=e;break}}if(!s&&a.data)for(let t=0;t<i.length;t++){const e=i[t];if(e.leftGlobal>=a.data.leftGlobal){s=e,l=t;break}}return s||(l>0?(l=i.length-1,s=i[l]):(s=i[0],l=0)),l>i.length-a.lastPageCount&&(l=i.length-a.lastPageCount,s=i[l]),a.data=Object.assign({},s),n=s.leftPx-e,a.dataIndex=l,a.dataId=s.id,a.handlePosPx=n?n/a.absoluteSizeWithoutLastPage*a.maxHandlePosPx:0,a.preciseOffset=e,a.handlePosPx>a.maxHandlePosPx&&(a.handlePosPx=a.maxHandlePosPx),a.percent=a.handlePosPx/a.maxHandlePosPx*100,a.absolutePosPx=n,a}setScrollLeft(t,e=0,a=this.state.get("$data.chart.time")){if(a.calculatedZoomMode)return 0;let o=0;const i=a.allDates[a.level];return i&&i.length?(this.state.update("$data.scroll.horizontal",(s=>{let n,l;if("number"==typeof t||""===t)n=t,l=i[n];else if("string"==typeof t)for(let e=0;e<i.length;e++)if(i[e].id===t){l=i[e],n=e;break}return l||(n>0?(n=i.length-1,l=i[n]):(n=0,l=i[0])),s.dataIndex=n,s.dataId=l.id,s.preciseOffset=e,this.calculateHorizontalScrollSizeAndPosFromDates(a.totalViewDurationPx,a,s,!1),o=s.absolutePosPx,s}),{data:"set-scroll-left"}),o):0}scrollToTime(t,e=!0){const a=this.state.get("$data.chart.time");if(a.calculatedZoomMode)return 0;if(!a.allDates)return 0;const o=this.time.findDateAtTime(t,a.allDates[a.level]);if(!o)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;let i=0,s=0;if(e){const e=this.state.get("$data.chart.dimensions.widthWithoutScrollBar")/2;s=(t-o.leftGlobal)/a.timePerPixel,o.rightPx<e&&(s=0);const n=-(e-s),l=this.time.getMainDateFromRelativePosition(o,n);if(!l)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;i=a.allDates[a.level].indexOf(l)}else i=a.allDates[a.level].indexOf(o),s=(t-o.leftGlobal)/a.timePerPixel;return-1===i?0:this.setScrollLeft(i,-s)}getScrollLeft(){return this.state.get("$data.scroll.horizontal")}getScrollSize(t){const e=this.state.get("$data.chart.dimensions.widthWithoutScrollBar"),a=this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),o=this.state.get("config.additionalSpace");return"horizontal"===t?e:a-o.top-o.bottom}getLastPageDatesWidth(t,e){let a=0,o=0;if(0===e.length)return{lastPageSize:a,lastPageCount:o};for(let i=e.length-1;i>=0;i--){const s=e[i];if(a+=s.width,a>=t){a-=s.width;break}o++}return{lastPageSize:a,lastPageCount:o}}calculateInitialChartWidth(t=!1){const e=this.state.get("config.initialWidth"),a=this.state.get("config.list.columns.data");let o=0;for(const t in a){o+=a[t].width}let i=e-o;return t&&(i-=this.state.get("config.scroll.horizontal.width")||0),i}getChartWidth(t=!1){let e=t?this.state.get("$data.chart.dimensions.widthWithoutScrollBar"):this.state.get("$data.chart.dimensions.width");return e||(e=this.calculateInitialChartWidth(t)),e}calculateHorizontalScrollSizeAndPosFromDates(t,e=this.state.get("$data.chart.time"),a=this.state.get("$data.scroll.horizontal"),o=!0){if(!e.allDates.length)return;const i=e.allDates[e.level],s=this.getChartWidth(!0),n=t,{lastPageSize:l,lastPageCount:r}=this.getLastPageDatesWidth(s,i),c=this.state.get("config.scroll.horizontal"),d=this.getScrollSize("horizontal");let h=l/n*d;h<c.minInnerSize&&(h=c.minInnerSize);const u=!(r===i.length||d===h),m=d?d-h:0;return a.absoluteSize=n,a.absoluteSizeWithoutLastPage=n-l,a.innerHandleSize=h,a.maxHandlePosPx=m,a.scrollSize=u?d:0,a.lastPageCount=r,a.lastPageSize=l,a.visible=u,this.calculateHorizontalScrollPosPxFromDates(a.dataId,a.preciseOffset,a,e),o&&this.state.update("$data.scroll.horizontal",a),a}getLastPageRowsHeight(t,e){let a=0,o=0;const i=this.state.get("config.additionalSpace"),s=t-i.top-i.bottom;if(0===e.length)return{lastPageSize:a,lastPageCount:o};const n=this.getRowsData();for(let t=e.length-1;t>=0;t--){const i=n[e[t]];if(a+=i.outerHeight,a>=s){a-=i.outerHeight;break}o++}return{lastPageSize:a,lastPageCount:o}}calculateVerticalScrollSize(){const t=this.state.get("$data.list.rowsWithParentsExpanded"),e=this.state.get("$data.list.rowsHeight"),a=this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),{lastPageSize:o,lastPageCount:i}=this.getLastPageRowsHeight(a,t),s=this.state.get("config.scroll.vertical"),n=this.getScrollSize("vertical");let l=o/e*n;l<s.minInnerSize&&(l=s.minInnerSize);const r=!(i===t.length||n===l),c=n-l;this.state.update("$data.scroll.vertical",(a=>{if(a.absoluteSize=e,a.absoluteSizeWithoutLastPage=e-o,a.innerHandleSize=l,a.maxHandlePosPx=c,a.scrollSize=r?n:0,a.lastPageCount=i,a.lastPageSize=o,a.handlePosPx>c&&(a.handlePosPx=c),a.dataIndex>t.length-i){const e=this.getAllRows(),o=this.getRowsData();a.dataIndex=t.length-i;const s=t[a.dataIndex];e&&s?(a.data=e[s],a.dataId=a.data.id,a.absolutePosPx=o[s].position.top):(a.dataIndex=0,a.dataId="",a.data=null,a.handlePosPx=0,a.absolutePosPx=0),a.preciseOffset=0}return a.visible=r,a}))}setScrollTop(t=0,e=0){const a=G(this),o=a.rowsIdsWithParentsExpanded;let i,s,n=0;if("string"==typeof t){const e=t;if(i=this.getRow(e),s=this.getRowData(i.id),this.parentsExpanded(e))n=o.indexOf(e);else for(const t of s.parents)this.parentsExpanded(t)&&(n=o.indexOf(t));if(!i)throw new Error(`Row with id: '${e}' not found. Maybe use GSTC.api.GSTCID(id) or check if row exists.`)}else{if("number"!=typeof t)throw new Error("[gstc.api.setScrollTop] Wrong dataIndex value. Must be `string` (for `rowId`) or `number` (for array index) only.");if(n=t,a.rowsWithParentsExpanded[n]||0===n||(n=0),!a.rowsWithParentsExpanded[n])return;i=a.rowsWithParentsExpanded[n],s=this.getRowData(i.id)}let l=0;return this.state.update("$data.scroll.vertical",(t=>{const o=a.rowsWithParentsExpanded.length-t.lastPageCount;if(n>o){if(n=o,i=a.rowsWithParentsExpanded[n],!i&&(n=0,i=a.rowsWithParentsExpanded[n],!i))return l=0,this.resetVerticalScroll(t);s=this.getRowData(i.id)}return l=s.position.top-e,t.data=a.rowsWithParentsExpanded[n],t.dataId=t.data.id,t.preciseOffset=e,t.handlePosPx=l?Math.round(l/t.absoluteSizeWithoutLastPage*t.maxHandlePosPx):0,t.handlePosPx>t.maxHandlePosPx&&(t.handlePosPx=t.maxHandlePosPx),t.percent=t.handlePosPx/t.maxHandlePosPx*100,t.dataIndex=n,t.absolutePosPx=l,t}),{data:"set-scroll-top"}),l}getScrollTop(){return this.state.get("$data.scroll.vertical")}getCurrentCalendarLevels(){return this.state.get("$data.chart.time.levels")}getGridCells(t){const e=this.state.get("$data.chart.grid.cells");if(!e)return[];if(void 0!==t){const a=t.length,o=new Array(a);for(let i=0;i<a;i++)o[i]=e[t[i]];return o}return Object.values(e)}getAllGridCells(){return this.state.get("$data.chart.grid.cells")}getGridRows(t){const e=this.state.get("$data.chart.grid.rows");return void 0!==t?e?Object.values(e).filter((e=>t.includes(e.row.id))):[]:e?Object.values(e):[]}getAllGridRows(){return this.state.get("$data.chart.grid.rows")}getGridCell(t){return this.state.get(`$data.chart.grid.cells.${t}`)}getGridRow(t){return this.state.get(`$data.chart.grid.rows.${t}`)}muteMethod(t){this.mutedMethods.add(t)}unmuteMethod(t){this.mutedMethods.delete(t)}isMutedMethod(t){return this.mutedMethods.has(t)}getSVGIconSrc(t){return"string"==typeof this.iconsCache[t]||(this.iconsCache[t]="data:image/svg+xml;base64,"+btoa(t)),this.iconsCache[t]}destroy(){for(const t of this.unsubscribes)t();this.unsubscribes=[],this.debug&&delete window.state}}
/**
 * ScrollBar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function S(t,e){const{onDestroy:a,state:o,cache:s,api:n,html:l,StyleMap:r,Actions:c,update:d}=t,h="scroll-bar";let u,m,g="",f="";a(o.subscribe("config.classNames",(()=>{u=n.getClass(h),m=n.getClass("scroll-bar-inner")})));const p="horizontal"===e.type?"height":"width",w="height"===p?"width":"height",v="horizontal"===e.type?"left":"top",b=new r({}),D=new r({}),y={maxPosPx:0,innerHandleSize:0,scrollSize:0,dataId:""};a(o.subscribeAll("horizontal"===e.type?[`config.scroll.${e.type}`,`$data.scroll.${e.type}`]:[`config.scroll.${e.type}`,`$data.scroll.${e.type}`,"$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsWithParentsExpanded","$data.list.rowsHeight","config.additionalSpace"],(function(t,a){const i=o.get(`config.scroll.${e.type}`),s=o.get(`$data.scroll.${e.type}`),l=n.getScrollSize(e.type),r=s.innerHandleSize,c=s.maxHandlePosPx,h=s.dataId,u=o.get("config.additionalSpace"),m=o.get("$data.chart.time");if(!m.allDates||!m.allDates.length||!m.allDates[m.level])return;if(s.visible?b.style.display="flex":b.style.display="none",b.style[p]=i.width+"px",b.style[w]=l+"px","vertical"===e.type&&(b.style.top=o.get("config.headerHeight")+u.top+"px"),!s.lastPageSize||!s.absoluteSize||!l)return;D.style[p]="100%",D.style[w]=r+"px";!("set-scroll-top"===a.options.data||"set-scroll-left"===a.options.data)&&function(t,e,a,o){const i=y.maxPosPx!==t||y.innerHandleSize!==e||y.scrollSize!==a||y.dataId!==o;return i&&(y.maxPosPx=t,y.innerHandleSize=e,y.scrollSize=a,y.dataId=o),i}(c,r,l,h)&&("horizontal"===e.type?n.setScrollLeft(s.dataIndex,s.preciseOffset):n.setScrollTop(s.dataIndex,s.preciseOffset)),d()}),{group:!0,bulkValue:!1}));const x=n.getActions(h);x.push(class extends i{constructor(t){super();const a=`$data.elements.scroll-bar--${e.type}`;o.get(a)||o.update(a,t,{only:null})}update(){}destroy(){}});const P={api:n,state:o,props:e,componentName:h},C=c.create(x,P),$=[class extends i{constructor(t){super(),this.moving=!1,this.initialPointerPos=0,this.initialHandlePos=0,this.currentPos=0,this.currentPointerPos=0,this.lastDataIndex=0,this.lastOffset=0,this.dataIndex=0,this.previousRowId="",o.update(`$data.elements.scroll-bar-inner--${e.type}`,t,{only:null}),this.bodyClassName=o.get("config.scroll.bodyClassName"),this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this);const a=this.pointerMove.bind(this);this.pointerMove=a,this.unsubscribe=o.subscribe(`$data.scroll.${e.type}`,this.dataChanged.bind(this)),this.destroy=this.destroy.bind(this),t.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove),document.addEventListener("pointerup",this.pointerUp)}destroy(t){this.unsubscribe(),t.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}dataChanged(){const t=o.get(`$data.scroll.${e.type}`),a=o.get("$data.chart.time");if(!a.allDates.length)return;const i=a.allDates[a.level],s=t.dataIndex;if(this.lastDataIndex=s,"horizontal"===e.type&&i&&i.length)this.currentPos=t.handlePosPx,D.style[v]=this.currentPos+"px",d();else if("vertical"===e.type){if(!o.get("$data.list.rowsWithParentsExpanded").length)return;this.currentPos=t.handlePosPx,D.style[v]=this.currentPos+"px",d()}}limitPosition(t){return Math.max(Math.min(t,o.get(`$data.scroll.${e.type}.maxHandlePosPx`)),0)}pointerDown(t){t.stopPropagation(),t.preventDefault(),n.muteMethod("calculateRowsHeight"),document.body.classList.add(this.bodyClassName),requestAnimationFrame((()=>{this.moving=!0,this.initialPointerPos="horizontal"===e.type?t.screenX:t.screenY,this.initialHandlePos=o.get(`$data.scroll.${e.type}.handlePosPx`),f=" "+n.getClass(h)+"-inner--active",g=" "+n.getClass(h)+"--active",d()}))}pointerUp(t){this.moving&&(n.unmuteMethod("calculateRowsHeight"),t.preventDefault(),t.stopPropagation(),document.body.classList.remove(this.bodyClassName)),this.moving=!1,f="",g="",d()}pointerMoveRead(t){this.currentPointerPos="horizontal"===e.type?t.screenX:t.screenY}pointerMoveWrite(){const t=o.get(`config.scroll.${e.type}`),a=o.get(`$data.scroll.${e.type}`),i=this.currentPointerPos-this.initialPointerPos;this.currentPos=this.limitPosition(this.initialHandlePos+i);const s=o.get("$data.chart.time");if(!s.allDates.length)return;const l=s.allDates[s.level],r=this.currentPos/a.maxHandlePosPx,c=Math.round(r*a.absoluteSizeWithoutLastPage);if("horizontal"===e.type){let e,a=0,o=0,i=0;for(let t=l.length;a<t&&(e=l[a],i=Math.round(e.rightPx),!(i>c));a++);t.precise&&i!==c&&(o=Math.round(e.leftPx)-c),a||(a=0),e||(e=l[0]),this.dataIndex=a,this.lastDate=l[a],n.setScrollLeft(e.id,o),this.lastDataIndex=a,this.lastOffset=o}else{const{dataIndex:e,row:a,rowData:o}=n.getRowInfoFromTop(c);let i=0;t.precise&&o.position.top!==c&&(i=o.position.top-c),this.dataIndex=e,this.previousRowId=a.id,n.setScrollTop(e,i),this.lastDataIndex=e,this.lastOffset=i}}pointerMove(t){this.moving&&(t.stopPropagation(),t.preventDefault(),requestAnimationFrame((()=>{this.pointerMoveRead(t)})),requestAnimationFrame((()=>{this.pointerMoveWrite()})))}}],W=c.create($,P),I=n.generateSlots(h,t,e);function G({classNameOuter:t,classNameOuterActive:e,classNameInner:a,classNameInnerActive:o,styleMapInner:i,styleMapOuter:s,innerActions:n,outerActions:l,slots:r,cache:c,html:d,vido:h,props:u}){return c(!u||!u.type?null:r.html("outer",d`
              <div
                data-actions=${l()}
                class=${t+" "+t+"--"+u.type+e}
                style=${s.directive()}
              >
                ${r.html("inner",d`
                    <div
                      data-actions=${n()}
                      class=${a+" "+a+"--"+u.type+o}
                      style=${i.directive()}
                    >
                      ${r.html("content")}
                    </div>
                  `)}
              </div>
            `))}let M=G;return a(o.subscribe("config.templates.scroll-bar",(t=>{M=null!=t?t:G,d()}))),()=>M({innerActions:W,outerActions:C,classNameOuter:u,classNameOuterActive:g,classNameInner:m,classNameInnerActive:f,cache:s,styleMapInner:D,styleMapOuter:b,slots:I,html:l,vido:t,props:e})}
/**
 * List component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function z(t,e={}){const{api:a,state:o,onDestroy:i,Actions:s,update:n,reuseComponents:l,html:r,StyleMap:c,cache:d}=t,h="list",u=a.getActions(h);let m,g;const f=Object.assign(Object.assign({},e),{list:m,percent:g,api:a,state:o,componentName:h});let p;const w=o.subscribe("config.components.ListColumn",(t=>p=t));!function(){const t=o.get("config.list.expander.icons"),e={};for(const o in t){const i=t[o];e[o]=a.getSVGIconSrc(i)}o.update("$data.list.expander.icons",e)}(),function(){const t={open:"",close:""},e=o.get("config.list.toggle.icons");for(const o in e){const i=e[o];t[o]=a.getSVGIconSrc(i)}o.update("$data.list.toggle.icons",t)}();const v=a.getClass(h),b=a.generateSlots(h,t,e);i(o.subscribe("config.list",(function(){m=o.get("config.list"),g=m.columns.percent,f.list=m,f.percent=g,n()})));const D=[];i(o.subscribe("config.list.columns.data",(function(t){const e=Object.values(t).filter((t=>!t.hidden)).sort(((t,e)=>"number"==typeof t.position&&"number"==typeof e.position?t.position-e.position:0));l(D,e,(t=>({column:t})),p,!0),n()})));const y=new c({height:"","--expander-padding-width":"","--expander-size":""});let x;function P(t){x||(x=t.offsetWidth,0===g&&(x=0),o.update("$data.list.width",x))}i(o.subscribeAll(["$data.height","config.list.expander"],(()=>{const t=o.get("config.list.expander");y.style.height=o.get("$data.height")+"px",y.style["--expander-padding-width"]=t.padding+"px",y.style["--expander-size"]=t.size+"px",n()}),{group:!0})),i((()=>{D.forEach((t=>t.destroy())),w()}));u.push(class{constructor(t,e){e.state.update("$data.elements.list",t),P(t)}update(t){return P(t)}});const C=s.create(u,f);function $({className:t,styleMap:e,list:a,listColumns:o,actions:i,slots:s,html:n,cache:l,vido:r,props:c}){return s.html("outer",l(a.columns.percent>0?n`
              <div class=${t} data-actions=${i()} style=${e.directive()}>
                ${s.html("content",o.map((t=>t.html())))}
              </div>
            `:""))}let W=$;return i(o.subscribe("config.templates.list",(t=>{W=null!=t?t:$,n()}))),()=>W({list:m,className:v,actions:C,styleMap:y,listColumns:D,slots:b,cache:d,html:r,vido:t,props:e})}
/**
 * ListColumn component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class L{constructor(t,e){let a=!1,o=e.state.get("$data.elements.list-columns");void 0===o&&(o=[],a=!0),o.includes(t)||(o.push(t),a=!0),a&&e.state.update("$data.elements.list-columns",o,{only:null})}destroy(t,e){e.state.update("$data.elements.list-columns",(e=>e.filter((e=>e!==t))),{only:null})}}function R(t,e){const{api:a,state:o,onDestroy:i,onChange:s,cache:n,Actions:l,update:r,createComponent:c,reuseComponents:d,html:h,StyleMap:u}=t,m=[];let g,f;m.push(o.subscribe("config.components.ListColumnRow",(t=>g=t))),m.push(o.subscribe("config.components.ListColumnHeader",(t=>f=t)));const p=Object.assign(Object.assign({},e),{api:a,state:o,componentName:"list-column"}),w={column:e.column,state:o,api:a,componentName:"list-column-headers"},v={api:a,state:o,componentName:"list-column-rows"},b="list-column",D="list-column-rows",y=a.getActions(b),x=a.getActions(D),P=a.getClass(b,e.column.id),C=a.getClass("list-column-rows-offset",e.column.id),$=a.getClass(D,e.column.id);let W,I=a.getId(b,e&&e.column?e.column.id:"");const G=new u({width:"","--width":""}),M=new u({height:""}),S=new u({"margin-top":"0px"});let z=o.get("config.additionalSpace");const R=a.generateSlots(b,t,e);let T;function O(){if(!e||!e.column)return;const t=o.get("config.list");if(!t.columns.data[e.column.id])return;W=t.columns.data[e.column.id].width*t.columns.percent*.01,T=W;const i=Math.round(a.getRealChartHeight());G.style.width=T+"px",G.style["--width"]=T+"px",S.style.height=i+"px",M.style.top=o.get("config.headerHeight")+z.top+"px"}i(o.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar","$data.list.width","$data.list.visibleRowsHeight","config.additionalSpace.top"],O,{group:!0}));const A=c(f,e);i(A.destroy);const k=[],N={};function H(){var t;if(!e||!e.column)return;o.mute(H);const i=o.get("$data.list.visibleRows")||[],s=a.getRows(i),n=a.getRowsData();for(const a of s){const o=N[a.id]=null!==(t=N[a.id])&&void 0!==t?t:{};o.column=e.column,o.row=a,o.rowData=n[a.id],o.width=T}for(const t in N)i.includes(t)||delete N[t];d(k,s,(t=>t&&N[t.id]),g,!0),R.change(e),o.unmute(H)}s((t=>{if((e=t)&&e.column&&e.column.id){I=a.getId(b,e&&e.column?e.column.id:"");for(const t in e)p[t]=e[t];O(),A.change(e),H()}})),i(o.subscribeAll(["$data.list.visibleRows","$data.list.visibleRowsHeight","$data.list.rows","config.list.rows","config.chart.items.*.height","config.chart.items.*.rowId","config.chart.items.*.time"],H,{group:!0,bulkValue:!1})),i(o.subscribe("$data.scroll.vertical.preciseOffset",(t=>{S.style.transform=`translateY(${Math.round(t)||0}px)`,r()}))),i(o.subscribe("config.additionalSpace",(t=>{z=t}))),i((()=>{k.forEach((t=>t.destroy())),m.forEach((t=>t()))})),y.push(L);const V=l.create(y,w),E=l.create(x,v);function B({className:t,classNameOffset:e,classNameContainer:a,containerStyleMap:o,offsetStyleMap:i,widthStyleMap:s,visibleRows:n,rowActions:l,elId:r,headerActions:c,ListColumnHeader:d,html:h,cache:u,vido:m,props:g}){return u(g&&g.column?R.html("outer",h`
              <div
                class=${t}
                data-gstcid=${g.column.id}
                data-actions=${c()}
                style=${s.directive()}
              >
                ${R.html("inner",h` ${d.html()}${R.html("container-outer",h`
        <div
          class=${a}
          data-gstcid=${g.column.id}
          data-actions=${l()}
          style=${o.directive()}
        >
          ${R.html("container-inner",h`
        <div class=${e} data-gstcid=${g.column.id} style=${i.directive()}>
          ${R.html("content",n.map((t=>t.html())))}
        </div>
      `)}
        </div>
      `)} `)}
              </div>
            `):null)}let j=B;return i(o.subscribe("config.templates.list-column",(t=>{j=null!=t?t:B,r()}))),()=>j({classNameOffset:C,offsetStyleMap:S,visibleRows:k,classNameContainer:$,containerStyleMap:M,rowActions:E,className:P,elId:I,headerActions:V,widthStyleMap:G,ListColumnHeader:A,html:h,cache:n,vido:t,props:e})}
/**
 * ListColumnHeader component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function T(t,e){const{api:a,state:o,onDestroy:i,cache:s,onChange:n,Actions:l,update:r,createComponent:c,html:d,StyleMap:h}=t,u="list-column-header",m=Object.assign(Object.assign({},e),{api:a,state:o,componentName:u}),g=a.getActions(u),f=[];let p;f.push(o.subscribe("config.components.ListColumnHeaderResizer",(t=>p=t)));const w=c(p,e);let v;f.push(o.subscribe("config.components.ListColumnRowExpander",(t=>v=t)));const b=c(v,e);i((()=>{w.destroy(),b.destroy(),f.forEach((t=>t()))}));const D=a.generateSlots(u,t,e),y=a.getClass(u),x=a.getClass(u+"-content");let P=a.getId(u,e.column.id);n((t=>{e=t;for(const t in e)m[t]=e[t];P=a.getId(u,e.column.id),w.change(e),b.change(e),D.change(t)}));const C=new h({height:"","--height":"","--paddings-count":""});i(o.subscribe("config.headerHeight",(()=>{const t=o.get("config");C.style.height=t.headerHeight+"px",C.style["--height"]=t.headerHeight+"px",C.style["--paddings-count"]="1",r()})));const $=l.create(g,m);function W({className:t,contentClass:e,styleMap:a,elId:o,cache:i,ListColumnRowExpander:s,ListColumnHeaderResizer:n,actions:l,slots:r,html:c,vido:d,props:h}){return i(!h||!h.column?null:r.html("outer",c`
              <div
                class=${t}
                data-gstcid=${h.column.id}
                style=${a.directive()}
                data-actions=${l()}
              >
                ${r.html("content",h.column.expander?c`
        <div class=${e}>
          ${s.html(h.column)}${n.html(h.column)}
        </div>
      `:c` <div class=${e}>${n.html(h.column)}</div> `)}
              </div>
            `))}let I=W;return i(o.subscribe(`config.templates.${u}`,(t=>{I=null!=t?t:W,r()}))),()=>I({className:y,contentClass:x,cache:s,styleMap:C,elId:P,ListColumnRowExpander:b,ListColumnHeaderResizer:w,actions:$,slots:D,html:d,vido:t,props:e})}
/**
 * ListColumnHeaderResizer component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function O(t,e){const{api:a,state:o,onDestroy:i,cache:s,update:n,html:l,Actions:r,onChange:c,PointerAction:d,StyleMap:h,unsafeHTML:u}=t,m="list-column-header-resizer",g=a.getActions(m),f=a.getActions(m+"-dots"),p={up:"",down:""};let w,v,b,D;i(o.subscribe("config.list.sort.icons",(t=>{p.up=a.getSVGIconSrc(t.up),p.down=a.getSVGIconSrc(t.down)}))),w=a.getClass(m),v=a.getClass(m+"-container"),b=a.getClass(m+"-dots"),D=a.getClass(m+"-dots-dot");const y=a.getClass(m+"-sort-icon");let x;const P=new h({});let C=!1;const $=a.generateSlots(m,t,e);let W=!0,I=0;const G={componentName:m,column:e.column,api:a,state:o,pointerOptions:{axis:"x",onMove:function({movementX:t,event:a}){if(!W)return;t&&(a.preventDefault(),a.stopPropagation());let i=o.get("config.list.columns.minWidth");"number"==typeof e.column.minWidth&&(i=e.column.minWidth),I+=t,I<i&&(I=i),C&&o.update(`config.list.columns.data.${e.column.id}.width`,I)}}};function M(){if(!e||!e.column||!e.column.id)return;G.column=e.column,w=a.getClass(m,e.column.id),v=a.getClass(m+"-container",e.column.id),b=a.getClass(m+"-dots",e.column.id),D=a.getClass(m+"-dots-dot",e.column.id),W=!("resizer"in e.column)||e.column.resizer;const t=o.get("config.list");x=I=e.column.width*t.columns.percent*.01,P.style["--width"]=t.columns.resizer.width+"px",C=t.columns.resizer.inRealTime,o.update("$data.list.width",x),$.change(e),n()}c((t=>{e=t,M()})),i(o.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","config.list.columns.resizer.inRealTime"],M,{group:!0}));let S=[1,2,3,4,5,6,7,8];i(o.subscribe("config.list.columns.resizer.dots",(t=>{S=[];for(let e=0;e<t;e++)S.push(e);n()})));let z=!0;function L(){e.column.sortable&&(z=!z,o.update("config.list.sort",(t=>(t.activeColumnId=e.column.id,t.asc=z,t))))}let R=!1;i(o.subscribe("config.list.sort",(t=>{if(t.activeColumnId===e.column.id)return z=t.asc,void(R=!0);R=!1}))),f.push(d);const T=r.create(g,G),O=r.create(f,G);function A({className:t,containerClass:e,iconClass:a,dotsClass:o,dotClass:i,dotsStyleMap:s,dots:n,onLabelClick:l,dotsActions:r,resizer:c,icons:d,sortActive:h,cache:u,asc:m,actions:g,slots:f,html:p,unsafeHTML:w,vido:v,props:b}){const D=!b||!b.column;function y(){return b.column.sortable&&h?m?p` <img src="${d.down}" class=${a} /> `:p` <img src="${d.up}" class=${a} /> `:null}function x(){return D?null:"function"==typeof b.column.header.content?b.column.header.content({column:b.column,vido:v}):b.column.header.content}return u(D?null:f.html("outer",p`
              <div class=${t} data-gstcid=${b.column.id} data-actions=${g()}>
                ${f.html("container-outer",c?D?null:p`
        <div class=${e} @click=${l}>
          ${f.html("content",b.column.header.html?w(b.column.header.html):x())}
          ${y()}
        </div>
        <div class=${o} style=${s.directive()} data-actions=${r()}>
          ${n.map((()=>p` <div class=${i} /> `))}
        </div>
      `:D?null:p`
        <div class=${e} @click=${l}>
          ${f.html("content",b.column.header.html?w(b.column.header.html):x())}
          ${y()}
        </div>
      `)}
              </div>
            `))}let k=A;return i(o.subscribe(`config.templates.${m}`,(t=>{k=null!=t?t:A,n()}))),()=>k({className:w,containerClass:v,onLabelClick:L,iconClass:y,cache:s,dotsClass:b,dotsStyleMap:P,dotsActions:O,dots:S,dotClass:D,resizer:W,icons:p,sortActive:R,asc:z,actions:T,slots:$,html:l,unsafeHTML:u,vido:t,props:e})}
/**
 * ListColumnRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class A{constructor(t,e){let a=e.state.get("$data.elements.list-column-rows"),o=!1;void 0===a&&(o=!0,a=[]),a.includes(t)||(a.push(t),o=!0),o&&e.state.update("$data.elements.list-column-rows",a,{only:null})}destroy(t,e){e.state.update("$data.elements.list-column-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function k(t,e){const{api:a,state:o,onDestroy:i,cache:s,Actions:n,update:l,html:r,createComponent:c,onChange:d,StyleMap:h,unsafeHTML:u}=t,m="list-column-row",g=Object.assign(Object.assign({},e),{api:a,state:o,componentName:m});let f,p=!1;i(o.subscribe("config.components.ListColumnRowExpander",(t=>f=t)));const w=new h(e.column.expander?{height:"",top:"","--height":"","--expander-padding-width":"","--expander-size":""}:{height:"",top:"","--height":""}),v=c(f,{row:e.row}),b=a.getClass(m),D=a.getClass(m+"-content");let y=a.getClass(m);const x=a.generateSlots(m,t,e);let P;d((function(i,s){var n;if(s.leave||!i||void 0===i.row||void 0===i.column)return p=!0,x.change(i,s),void l();p=!1,e=i;for(const t in e)g[t]=e[t];if(!e.column||!e.row||!e.rowData)return p=!0,x.change(i,s),void l();if(void 0===e.column||void 0===e.row)return;P=e.column.isHTML?void 0===e.row?null:"function"==typeof e.column.data?u(e.column.data({row:e.row,vido:t})):"function"==typeof e.row[e.column.data]?u(e.row[e.column.data]({row:e.row,vido:t})):u(e.row[e.column.data]):void 0===e.row?null:"function"==typeof e.column.data?e.column.data({row:e.row,vido:t}):"function"==typeof e.row[e.column.data]?e.row[e.column.data]({row:e.row,vido:t}):e.row[e.column.data];const r=o.get("config.list.expander");for(const t in w.style)delete w.style[t];w.style.height=e.rowData.outerHeight+"px",w.style["--height"]=e.rowData.outerHeight+"px",e.column.expander&&(w.style["--expander-padding-width"]=r.padding*(e.rowData.parents.length+1)+"px");const c=o.get("config.list.rows");for(const t of e.rowData.parents){const e=c[t];if("object"==typeof e.style&&"Object"===e.style.constructor.name&&"object"==typeof e.style.children){const t=e.style.children;for(const e in t)w.style[e]=t[e]}}if(null===(n=null==e?void 0:e.row)||void 0===n?void 0:n.style)for(const t in e.row.style)w.style[t]=e.row.style[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)y=a.getClass(m)+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const o=e.row.classNames({row:e.row,vido:t});Array.isArray(o)&&o.length&&(y=a.getClass(m)+" "+o.join(" "))}}else y=b;v&&v.change(e),x.change(e,s),l()})),i((()=>{v&&v.destroy()}));const C=a.getActions(m);C.includes(A)||C.push(A);const $=n.create(C,g);function W({classNameCurrent:t,classNameContent:e,styleMap:a,cache:o,shouldDetach:i,content:s,ListColumnRowExpander:n,slots:l,actions:r,html:c,vido:d,props:h}){return o(i||!h||!h.column||!h.row?null:l.html("outer",c`
              <div
                class=${t}
                data-gstcid=${h.row.id}
                style=${a.directive()}
                data-actions=${r()}
              >
                ${l.html("inner",c`
                    ${h.column.expander?n.html():null}
                    <div class=${e}>${l.html("content",s)}</div>
                  `)}
              </div>
            `))}let I=W;return i(o.subscribe("config.templates.list-column-row",(t=>{I=null!=t?t:W,l()}))),()=>I({classNameCurrent:y,cache:s,shouldDetach:p,styleMap:w,ListColumnRowExpander:v,classNameContent:D,slots:x,actions:$,content:P,html:r,vido:t,props:e})}
/**
 * ListColumnRowExpander component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function N(t,e){const{api:a,state:o,onDestroy:i,Actions:s,html:n,cache:l,createComponent:r,onChange:c,update:d}=t,h="list-column-row-expander",u=a.getActions(h),m=Object.assign(Object.assign({},e),{api:a,state:o,componentName:h}),g=a.getClass(h);let f;const p=o.subscribe("config.components.ListColumnRowExpanderToggle",(t=>f=t)),w=r(f,e);i((()=>{w.destroy(),p()}));const v=a.generateSlots(h,t,e);e.row&&c((function(t){if((e=t)&&e.row&&e.rowData){for(const t in e)m[t]=e[t];w.change(e),v.change(t),d()}}));const b=s.create(u,m);function D({className:t,ListColumnRowExpanderToggle:e,slots:a,actions:o,html:i,cache:s,vido:n,props:l}){return s(!l?null:a.html("outer",i`
              <div class=${t} data-gstcid=${l.row?l.row.id:""} data-action=${o()}>
                ${a.html("content",e.html())}
              </div>
            `))}let y=D;return i(o.subscribe(`config.templates.${h}`,(t=>{y=null!=t?t:D,d()}))),()=>y({className:g,ListColumnRowExpanderToggle:w,slots:v,actions:b,html:n,cache:l,vido:t,props:e})}
/**
 * ListColumnRowExpanderToggle component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function H(t,e){const{api:a,state:o,cache:i,onDestroy:s,Actions:n,update:l,html:r,onChange:c}=t,d="list-column-row-expander-toggle",h=Object.assign(Object.assign({},e),{api:a,state:o,componentName:d}),u=a.getActions(d),m=a.getClass(d),g=a.getClass(d+"-child"),f=a.getClass(d+"-open"),p=a.getClass(d+"-closed");let w,v,b,D=!1;s(o.subscribe("$data.list.expander.icons",(t=>{t&&(w=t.child,v=t.open,b=t.closed),l()})));const y=a.generateSlots(d,t,e);e.row?(c((function(t){if(e&&e.row){e=t;for(const t in e)h[t]=e[t];D=e.row.expanded,y.change(t),l()}})),s((function(){}))):s(o.subscribe("config.list.rows.*.expanded",(function(t){for(const e of t)if(e.value){D=!0;break}l()}),{bulk:!0}));const x=n.create(u,h);function P(){D=!D,e.row?o.update(`config.list.rows.${e.row.id}.expanded`,D,{data:{name:"expanded",rowId:e.row.id,expanded:D}}):o.update("config.list.rows",(t=>{for(const e in t)t[e].expanded=D;return t}),{only:["*.expanded"],data:{name:"expanded"}})}function C({className:t,classNameChild:e,classNameOpen:a,classNameClosed:o,expanded:i,iconChild:s,iconOpen:n,iconClosed:l,toggle:r,cache:c,slots:d,actions:h,html:u,vido:m,props:g}){return c(!g?null:d.html("outer",u`
              <div
                class=${t}
                data-gstcid=${g.row?g.row.id:""}
                data-action=${h()}
                @click=${r}
              >
                ${d.html("content",s?0===(null===(p=null===(f=g.rowData)||void 0===f?void 0:f.children)||void 0===p?void 0:p.length)?u` <img width="16" height="16" class=${e} src=${s} /> `:i?u` <img width="16" height="16" class=${a} src=${n} /> `:u` <img width="16" height="16" class=${o} src=${l} /> `:"")}
              </div>
            `));var f,p}let $=C;return s(o.subscribe(`config.templates.${d}`,(t=>{$=null!=t?t:C,l()}))),()=>$({className:m,classNameChild:g,iconChild:w,expanded:D,cache:i,classNameOpen:f,classNameClosed:p,iconOpen:v,iconClosed:b,toggle:P,slots:y,actions:x,html:r,vido:t,props:e})}
/**
 * ListToggle component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function V(t,e={}){const{html:a,onDestroy:o,api:i,state:s,update:n,StyleMap:l,Actions:r,onChange:c}=t,d="list-toggle",h=i.getClass(d),u=Object.assign(Object.assign({},e),{api:i,state:s,componentName:d});let m={open:"",close:""};o(s.subscribe("$data.list.toggle.icons",(t=>{t&&(m=t,n())})));const g=new l({top:"0px"});o(s.subscribe("$data.scroll.vertical.preciseOffset",(t=>{g.style.top=(-1*Math.round(t)||0)+"px"})));let f=!0;o(s.subscribe("config.list.columns.percent",(t=>f=0!==t)));let p=!1;function w(){p=!0}function v(){p&&(p=!1,s.update("config.list.columns.percent",(t=>0===t?100:0)))}c((t=>{e=t;for(const a in t)u[a]=e[a]}));const b=i.getActions(d),D=r.create(b,u),y=i.generateSlots(d,t,e);function x({className:t,styleMap:e,pointerDown:a,pointerUp:o,open:i,toggleIconsSrc:s,actions:n,slots:l,html:r,vido:c,props:d}){return l.html("outer",r`
        <div
          class=${t}
          style=${e.directive()}
          @pointerdown=${a}
          @pointerup=${o}
          actions=${n()}
        >
          ${l.html("content",r` <img src=${i?s.close:s.open} /> `)}
        </div>
      `)}let P=x;return o(s.subscribe("config.templates.list-toggle",(t=>{P=null!=t?t:x,n()}))),()=>P({className:h,styleMap:g,pointerDown:w,pointerUp:v,open:f,toggleIconsSrc:m,actions:D,slots:y,html:a,vido:t,props:e})}
/**
 * Chart component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function E(t,e={}){const{api:a,state:o,onDestroy:i,Actions:s,html:n,createComponent:l,update:r}=t,c="chart",d=[];let h,u,m;d.push(o.subscribe("config.components.ChartCalendar",(t=>h=t))),d.push(o.subscribe("config.components.ChartTimeline",(t=>u=t))),d.push(o.subscribe("config.components.ScrollBar",(t=>m=t)));const g=l(h);i(g.destroy);const f=l(u);i(f.destroy);const p=l(m,{type:"horizontal"});i(p.destroy);const w=l(m,{type:"vertical"});i(w.destroy),i((()=>{d.forEach((t=>t()))}));const v=a.getClass(c),b=a.getActions(c);let D=!1;i(o.subscribe("config.chart.time.calculatedZoomMode",(t=>D=t)));const y={handleEvent:function(t){t.type},passive:!1,capture:!1};let x,P=0;b.push((function(t){x||(x=new ResizeObserver((()=>{const e=t.offsetWidth,a=t.offsetHeight,i=e-o.get("config.scroll.horizontal.width"),s=o.get("config.headerHeight");P!==e&&(P=e,o.update("$data.chart.dimensions",(t=>(t.width=e,t.widthWithoutScrollBar=i,t.height=a,t.innerHeight=a-s,t))))})),x.observe(t),o.update("$data.elements.chart",t))})),i((()=>{x.disconnect()}));const C={api:a,state:o,componentName:c},$=s.create(b,C),W=a.generateSlots(c,t,e);function I({className:t,onWheel:e,ChartCalendar:a,ChartTimeline:o,ScrollBarVertical:i,calculatedZoomMode:s,ScrollBarHorizontal:n,actions:l,slots:r,html:c,vido:d,props:h}){return r.html("outer",c`
        <div class=${t} data-actions=${l()} @wheel=${e}>
          ${r.html("content",c`
              ${a.html()}${o.html()}${i.html()}
              ${s?null:n.html()}
            `)}
        </div>
      `)}let G=I;return i(o.subscribe("config.templates.chart",(t=>{G=null!=t?t:I,r()}))),()=>G({className:v,onWheel:y,ChartCalendar:g,ChartTimeline:f,ScrollBarVertical:w,calculatedZoomMode:D,ScrollBarHorizontal:p,actions:$,slots:W,html:n,vido:t,props:e})}
/**
 * ChartCalendar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function B(t,e){const{api:a,state:o,onDestroy:i,Actions:s,update:n,reuseComponents:l,html:r,StyleMap:c}=t,d="chart-calendar",h=a.getActions(d),u=Object.assign(Object.assign({},e),{api:a,state:o,componentName:d}),m=o.get("config.components.ChartCalendarDate"),g=a.getClass(d);let f;const p=new c({height:"","--headerHeight":"","margin-left":""});i(o.subscribe("config.headerHeight",(t=>{f=t,p.style.height=f+"px",p.style["--calendar-height"]=f+"px",n()})));let w=[],v=0;i(o.subscribe("$data.chart.time.levels",((t,e)=>{const i=o.get("$data.chart.time.levels");let s=0;if(i.length!==v){v=i.length,w.forEach((t=>t.forEach((t=>t.destroy())))),w=[];for(let t=0;t<v;t++)w.push([])}for(const t of i){if(!t.length)continue;let e="YYYY-MM-DD HH";switch(t[0].period){case"day":e="YYYY-MM-DD";break;case"week":e="YYYY-MM-ww";break;case"month":e="YYYY-MM";break;case"year":e="YYYY"}const o=a.time.date().format(e);l(w[s],t,(t=>t&&{level:s,date:t,currentDate:o,currentDateFormat:e}),m,!0),s++}n()}))),i((()=>{w.forEach((t=>t.forEach((t=>t.destroy()))))})),h.push((t=>{o.update("$data.elements.chart-calendar",t)}));const b=s.create(h,u),D=a.generateSlots(d,t,e);function y({className:t,styleMap:e,components:a,actions:o,slots:i,html:s,vido:n,props:l}){return i.html("outer",s`
        <div class=${t} data-actions=${o()} style=${e.directive()}>
          ${i.html("inner",a.length?a.map(((e,a)=>e&&e.length?s`
                        <div class=${t+"-dates "+t+`-dates--level-${a}`}>
                          ${i.html("content",e.map((t=>t.html())))}
                        </div>
                      `:null)):null)}
        </div>
      `)}let x=y;return i(o.subscribe("config.templates.chart-calendar",(t=>{x=null!=t?t:y,n()}))),()=>x({className:g,styleMap:p,components:w,actions:b,slots:D,html:r,vido:t,props:e})}
/**
 * ChartCalendarDate component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class j extends i{constructor(t,e){super(),e.state.update("$data.elements.chart-calendar-dates",(e=>(void 0===e&&(e=[]),e.includes(t)||e.push(t),e)))}}function F(t,e){const{api:a,state:o,onDestroy:i,Actions:s,update:n,onChange:l,html:r,StyleMap:c,cache:d}=t,h="chart-calendar-date",u=a.getActions(h),m=a.getClass(h);let g,f="",p="";i(o.subscribe("config.chart.time",(t=>g=t)));const w=new c({width:"0px"},{schedule:!1});let v="";function b(){if(!e||!e.date)return;const t=o.get(`config.chart.calendarLevels.${e.level}`);w.style.width=e.date.currentView.width+"px",w.style.left=e.date.currentView.leftPx+"px";const a=t.find((t=>+g.zoom<=+t.zoomTo));f=e.date.current?" gstc-current":e.date.next?" gstc-next":e.date.previous?" gstc-previous":"",p=m+"-content "+m+`-content--${e.date.period}`+f,a.classNames&&Array.isArray(a.classNames)?(p+=" "+a.classNames.join(" "),v=" "+a.classNames.join(" ")):v="",n()}let D=!1;const y=a.generateSlots(h,t,e);let x,P,C;const $={date:e.date,period:e.period,api:a,state:o,componentName:h};l(((t,a)=>{if(a.leave)return D=!0,y.change(t,a),n();D=!1,P=e.level===g.level,C=P?m+"--main-date ":m+"--non-main-date ",e=t,$.date=e.date,$.period=e.period,x&&x(),x=o.subscribeAll(["$data.chart.time","config.chart.calendarLevels"],b,{bulk:!0}),y.change(t,a)})),i((()=>{x()})),u.includes(j)||u.push(j);const W=s.create(u,$);function I({className:t,mainClass:e,additionalClass:a,formatClassName:o,finalClassName:i,styleMap:s,cache:n,shouldDetach:l,actions:r,slots:c,html:d,vido:h,props:u}){return n(l||!u||!u.date?null:c.html("outer",d`
              <div
                class=${t+" "+t+`--${u.date.period} `+e+t+`--level-${u.level}`+a+o}
                data-gstcid=${u.date.id}
                style=${s.directive()}
                data-actions=${r()}
              >
                ${c.html("content",d`<div class=${i.trim()}>${u.date.formatted}</div>`)}
              </div>
            `))}let G=I;return i(o.subscribe(`config.templates.${h}`,(t=>{G=null!=t?t:I,n()}))),()=>G({className:m,mainClass:C,additionalClass:f,formatClassName:v,styleMap:w,finalClassName:p,cache:d,shouldDetach:D,actions:W,slots:y,html:r,vido:t,props:e})}
/**
 * ChartTimeline component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function Y(t,e){const{api:a,state:o,onDestroy:i,Action:s,Actions:n,update:l,html:r,createComponent:c,StyleMap:d}=t,h="chart-timeline",u=Object.assign(Object.assign({},e),{api:a,state:o,componentName:h});let m,g,f;i(o.subscribe("config.components.ChartTimelineGrid",(t=>{m&&m.destroy(),m=c(t)}))),i((()=>{m&&m.destroy()})),i(o.subscribe("config.components.ChartTimelineItems",(t=>{g&&g.destroy(),g=c(t)}))),i((()=>{g&&g.destroy()})),i(o.subscribe("config.components.ListToggle",(t=>{f&&f.destroy(),f=c(t)}))),i((()=>{f&&f.destroy()}));const p=a.generateSlots(h,t,e),w=a.getClass(h),v=a.getClass("chart-timeline-inner");let b;i(o.subscribe("config.list.toggle.display",(t=>b=t)));const D=new d({}),y=new d({});let x,P;i(o.subscribe("config.additionalSpace",(t=>{x=t,l()}))),i(o.subscribe("config.headerHeight",(t=>{P=t,l()}))),i(o.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.scroll.vertical.offset","$data.chart.dimensions.width","$data.list.visibleRowsHeight","$data.chart.time.dates.day","config.headerHeight","config.additionalSpace"],(function(){const t=o.get("$data.chart.dimensions.width"),e=Math.round(a.getRealChartHeight(!0));D.style.height=o.get("config.innerHeight")+"px",D.style["--height"]=D.style.height,D.style.top=x.top+P+"px",t?(D.style.width=t+"px",D.style["--width"]=t+"px"):(D.style.width="0px",D.style["--width"]="0px"),y.style.height=e+"px",y.style.width=t?t+"px":"0px";const i=o.get("$data.scroll.vertical.preciseOffset")||0;y.style.transform=`translateY(${Math.round(i)}px)`,l()}),{group:!0,bulkValue:!1}));let C=[];i(o.subscribe("config.actions.chart-timeline",(t=>{C=t}))),C.push(class extends s{constructor(t){super();o.get("$data.elements.chart-timeline")!==t&&o.update("$data.elements.chart-timeline",t)}});const $=n.create(C,u);function W({className:t,classNameInner:e,styleMap:a,innerStyleMap:o,Grid:i,Items:s,showToggle:n,ListToggle:l,actions:r,slots:c,html:d,vido:h,props:u}){return c.html("outer",d`
        <div class=${t} style=${a.directive()} data-actions=${r()}>
          ${c.html("inner",d`
              <div class=${e} style=${o.directive()}>
                ${c.html("content",d` ${i.html()}${s.html()}${n?l.html():""} `)}
              </div>
            `)}
        </div>
      `)}let I=W;return i(o.subscribe("config.templates.chart-timeline",(t=>{I=null!=t?t:W,l()}))),()=>I({className:w,styleMap:D,classNameInner:v,Grid:m,innerStyleMap:y,Items:g,showToggle:b,ListToggle:f,actions:$,slots:p,html:r,vido:t,props:e})}
/**
 * ChartTimelineGrid component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class _{constructor(t,e){e.state.get("$data.elements.chart-timeline-grid")!==t&&e.state.update("$data.elements.chart-timeline-grid",t,{only:null})}destroy(t,e){e.state.update("$data.elements",(t=>(delete t["chart-timeline-grid"],t)),{only:null})}}function U(t,e){const{api:a,state:o,onDestroy:i,Actions:s,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-grid",h=a.getActions(d),u={api:a,state:o,componentName:d},m=o.get("config.components.ChartTimelineGridRow"),g=a.getClass(d);let f;i(o.subscribe("config.chart.grid.cell.onCreate",(t=>f=t)));const p=[],w={},v=new Map,b=new c({});function D(t){let e=t.month()+1;e<10&&(e="0"+e);let a=t.date();a<10&&(a="0"+a);let o=t.hour();o<10&&(o="0"+o);let i=t.minute();i<10&&(i="0"+i);let s=t.second();return s<10&&(s="0"+s),`${t.year()}-${e}-${a}T${o}-${i}-${s}`}i(o.subscribeAll(["$data.scroll.vertical.preciseOffset","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar"],(function(){const t=o.get("$data.chart.dimensions.width"),e=a.getRealChartHeight();b.style.height=Math.round(e)+"px",b.style.width=t+"px"}),{group:!0}));let y="",x=0,P=0,C="",$=0,W="",I=0,G=0;function M(){const t=a.getGridRows();r(p,t||[],(t=>t),m,!0),n()}i(o.subscribeAll(["$data.list.rowsHeight","$data.list.visibleRows","$data.list.visibleRowsHeight","$data.chart.time.levels","$data.scroll","config.list.rows;","config.list.rows.*;"],(function(e,i){const s=o.get("$data.chart.time"),n=o.get(`$data.chart.time.levels.${s.level}`),l=s.levels[s.level];if(!l||!l.length)return;const r=s.levels[s.level].map((t=>t.currentView.width)).join(",");if(!n||0===n.length)return void o.update("$data.chart.grid",{rows:{},cells:{}});const c=a.getRowsData(),d=o.get("$data.list.visibleRows"),h=d.map((t=>c[t].outerHeight)).join("|"),u=d.join("|"),m=o.get("$data.scroll");if(u===y&&x===s.leftGlobal&&P===s.rightGlobal&&h===C&&$===n.length&&W===r&&m.horizontal.handlePosPx===I&&m.vertical.handlePosPx===G)return"$data.chart.time.levels"===i.path.listener?M():void 0;I=m.horizontal.handlePosPx,G=m.vertical.handlePosPx,x=s.leftGlobal,P=s.rightGlobal,W=r,C=h;let g=0;if(u!==y)for(const t in w)delete w[t];else if($!==n.length)for(const t in w)w[t].cells.length=0;$=n.length;const p=a.getAllRows(),b=o.get("$data.chart.grid.cells");for(const t in b)delete b[t];for(const e of d){const a=p[e],o=c[e];if(!a||!o)continue;let i,s;u!==y?i=[]:(i=w[e].cells,i.length=0);for(const e of n){let s;v.has(e.leftGlobal)?s=v.get(e.leftGlobal):(s=D(e.leftGlobalDate),v.set(e.leftGlobal,s));const n=a.id+"-"+s;let l;if(b[n])l=b[n],l.id=n,l.time=e,l.row=a,l.rowData=o,l.top=g,l.vido=t,l.content=null;else{const i=Object.create(null);i.id=n,i.time=e,i.row=a,i.rowData=o,i.top=g,i.vido=t,i.content=null,l=i}for(const t of f)l.content=t(l);b[l.id]=l,i.push(l.id)}w[e]?(s=w[e],s.row=a,s.rowData=o,s.cells=i,s.top=g):s={row:a,rowData:o,cells:i,top:g},w[e]=s,g+=o.outerHeight}y=u,o.update("$data.chart.grid",{rows:w,cells:b})}),{group:!0,bulkValue:!1})),i(o.subscribe("$data.chart.grid",M,{group:!0})),i((()=>{p.forEach((t=>t.destroy()))})),h.push(_);const S=s.create(h,u),z=a.generateSlots(d,t,e);function L({className:t,styleMap:e,rowsComponents:a,actions:o,slots:i,html:s,vido:n,props:l}){return i.html("outer",s`
        <div class=${t} data-actions=${o()} style=${e.directive()}>
          ${i.html("content",a.map((t=>t.html())))}
        </div>
      `)}let R=L;return i(o.subscribe(`config.templates.${d}`,(t=>{R=null!=t?t:L,n()}))),()=>R({className:g,styleMap:b,rowsComponents:p,actions:S,slots:z,html:l,vido:t,props:e})}
/**
 * ChartTimelineGridRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class Z{constructor(t,e){let a=!1,o=e.state.get("$data.elements.chart-timeline-grid-rows");void 0===o&&(o=[],a=!0),o.includes(t)||(o.push(t),a=!0),a&&e.state.update("$data.elements.chart-timeline-grid-rows",o,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function q(t,e){const{api:a,state:o,onDestroy:i,cache:s,Actions:n,update:l,html:r,reuseComponents:c,onChange:d,StyleMap:h}=t,u="chart-timeline-grid-row",m=Object.assign(Object.assign({},e),{api:a,state:o,componentName:u});let g;i(o.subscribe("config.components.ChartTimelineGridRowCell",(t=>g=t)));const f=a.getActions(u),p=a.getClass(u),w=new h({height:e.row.height+"px"});let v=!1;const b=a.generateSlots(u,t,e),D=[];d((function(t,o){if(!t||o.leave||void 0===t.row)return v=!0,c(D,[],(t=>t),g,!0),b.change(t,o),void l();v=!1,e=t;const i=a.getGridCells(e.cells);if(c(D,i,(t=>t),g,!0),w.setStyle({}),w.style.height=e.rowData.outerHeight+"px",e.row.style)for(const t in e.row.style)w.style[t]=e.row.style[t];for(const t in e)m[t]=e[t];b.change(t,o)})),i((function(){D.forEach((t=>t.destroy()))})),-1===f.indexOf(Z)&&f.push(Z);const y=n.create(f,m);function x({className:t,styleMap:e,rowsCellsComponents:a,cache:o,shouldDetach:i,actions:s,slots:n,html:l,vido:r,props:c}){return o(i||!c||!c.row?null:n.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${s()}
                style=${e.directive()}
              >
                ${n.html("content",a.map((t=>t.html())))}
              </div>
            `))}let P=x;return i(o.subscribe(`config.templates.${u}`,(t=>{P=null!=t?t:x,l()}))),()=>P({className:p,styleMap:w,rowsCellsComponents:D,cache:s,shouldDetach:v,actions:y,slots:b,html:r,vido:t,props:e})}
/**
 * ChartTimelineGridRowCell component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class J{constructor(t,e){let a=!1,o=e.state.get("$data.elements.chart-timeline-grid-row-cells");void 0===o&&(o=[],a=!0),o.includes(t)||(o.push(t),a=!0),a&&e.state.update("$data.elements.chart-timeline-grid-row-cells",o,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-row-cells",(e=>e.filter((e=>e!==t))),{only:[""]})}}function X(t,e){const{api:a,state:o,cache:i,Actions:s,html:n,onChange:l,onDestroy:r,StyleMap:c,update:d}=t,h="chart-timeline-grid-row-cell",u=Object.assign(Object.assign({},e),{api:a,state:o,componentName:h});let m=!1;const g=a.getActions(h),f=a.generateSlots(h,t,e);let p;function w(t){p=a.getClass(h),t&&t.time&&t.time.current&&(p+=" current")}w(e);const v=new c({width:"",height:""});l((function(t,a){var o,i;if(!t||a.leave||void 0===t.row)return m=!0,f.change(t,a),void d();m=!1,e=t;for(const t in e)u[t]=e[t];if(w(e),v.setStyle({}),e&&e.row){if(v.style.width=((null===(i=null===(o=null==e?void 0:e.time)||void 0===o?void 0:o.currentView)||void 0===i?void 0:i.width)||0)+"px",e.row.style)for(const t in e.row.style)v.style[t]=e.row.style[t];f.change(e,a),d()}})),g.push(J);const b=s.create(g,u);function D({className:t,styleMap:e,cache:a,shouldDetach:o,actions:i,slots:s,html:n,vido:l,props:r}){var c;return a(o||!r||!r.id?null:s.html("outer",n`
              <div class=${t} data-gstcid=${r.id} data-actions=${i()} style=${e.directive()}>
                ${s.html("content",null!==(c=r&&r.content)&&void 0!==c?c:null)}
              </div>
            `))}let y=D;return r(o.subscribe(`config.templates.${h}`,(t=>{y=null!=t?t:D,d()}))),()=>y({className:p,styleMap:v,cache:i,shouldDetach:m,actions:b,slots:f,html:n,vido:t,props:e})}
/**
 * ChartTimelineItems component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function K(t,e={}){const{api:a,state:o,onDestroy:i,Actions:s,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-items";let h,u;i(o.subscribe(`config.actions.${d}`,(t=>h=t))),i(o.subscribe("config.components.ChartTimelineItemsRow",(t=>u=t)));const m=a.getClass(d),g=new c({});let f;i(o.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.chart.dimensions.width","$data.scroll.vertical.preciseOffset"],(function(){const t=o.get("$data.chart.dimensions.width"),e=a.getRealChartHeight();g.style.width=t+"px",g.style.height=e+"px"}),{group:!0})),i(o.subscribe("config.debug",(t=>f=t)));const p=[],w={};i(o.subscribeAll(["$data.list.visibleRows","config.list.rows","config.components.ChartTimelineItemsRow","config.chart.items","$data.chart.items"],(function t(){o.mute(t),f&&console.log("[items.ts] Updating item & rows components.");const e=o.get("$data.list.visibleRows")||[],i=a.getRows(e),s=a.getRowsData();for(const t of i)w[t.id]||(w[t.id]={}),w[t.id].row=t,w[t.id].rowData=s[t.id];for(const t in w)e.includes(t)||delete w[t];r(p,i,(t=>t?w[t.id]:null),u,!0),n(),o.unmute(t)}),{group:!0,bulkValue:!1})),i((()=>{p.forEach((t=>t.destroy()))}));const v={api:a,state:o,componentName:d},b=s.create(h,v),D=a.generateSlots(d,t,e);function y({className:t,styleMap:e,rowsComponents:a,actions:o,slots:i,html:s,vido:n,props:l}){return i.html("outer",s`
        <div class=${t} style=${e.directive()} data-actions=${o()}>
          ${i.html("content",a.map((t=>t.html())))}
        </div>
      `)}let x=y;return i(o.subscribe(`config.templates.${d}`,(t=>{x=null!=t?t:y,n()}))),()=>x({className:m,styleMap:g,rowsComponents:p,actions:b,slots:D,html:l,vido:t,props:e})}
/**
 * ChartTimelineItemsRow component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class Q{constructor(t,e){let a=!1,o=e.state.get("$data.elements.chart-timeline-items-rows");void 0===o&&(o=[],a=!0),o.includes(t)||(o.push(t),a=!0),a&&e.state.update("$data.elements.chart-timeline-items-rows",o,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function tt(t,e){const{api:a,state:o,onDestroy:i,cache:s,Actions:n,update:l,html:r,onChange:c,reuseComponents:d,StyleMap:h}=t,u="chart-timeline-items-row",m=Object.assign(Object.assign({},e),{api:a,state:o,componentName:u});let g;i(o.subscribe("config.components.ChartTimelineItemsRowItem",(t=>g=t)));let f="";const p=[],w=new h({width:"",height:""});let v=!1;function b(t=e.rowData,a=null){const i=o.get("$data.chart");v=!1,w.style.width=i.dimensions.width+"px",e?(w.style.height=t.outerHeight+"px",w.style["--row-height"]=t.outerHeight+"px",l()):v=!0}function D(t,e){if(!t||!e)return v=!0,d(p,[],(()=>null),g,!0),l();const o=e.items;if(void 0===o)return v=!0,d(p,[],(()=>null),g,!0),b(),l();const i=a.getItems(o);i.sort(((t,e)=>t.time.start-e.time.start)),d(p,i,(e=>({row:t,item:e,itemData:e?a.getItemData(e.id):null})),g,!0),b(),l()}const y=a.getClass(u),x=a.generateSlots(u,t,e);c((function(a,o){if(o.leave||!a||void 0===a.row)return v=!0,d(p,[],(()=>null),g,!0),x.change(a,o),l();e=a;for(const t in e)m[t]=e[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)f=y+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const a=e.row.classNames({row:e.row,vido:t});Array.isArray(a)&&a.length&&(f=y+" "+a.join(" "))}}else f=y;D(e.row,e.rowData),x.change(a,o),l()})),i(o.subscribe("$data.chart.dimensions.width",(()=>D(e.row,e.rowData)))),i((()=>{p.forEach((t=>t.destroy()))}));const P=a.getActions(u);P.push(Q);const C=n.create(P,m);function $({classNameCurrent:t,styleMap:e,shouldDetach:a,itemComponents:o,actions:i,slots:s,cache:n,html:l,vido:r,props:c}){return n(a||!c||!c.row?null:s.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${i()}
                style=${e.directive()}
              >
                ${s.html("content",o.map((t=>t.html())))}
              </div>
            `))}let W=$;return i(o.subscribe(`config.templates.${u}`,(t=>{W=null!=t?t:$,l()}))),()=>W({cache:s,shouldDetach:v,classNameCurrent:f,styleMap:w,itemComponents:p,actions:C,slots:x,html:r,vido:t,props:e})}
/**
 * ChartTimelineItemsRowItem component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */class et{constructor(t,e){let a=!1,o=e.state.get("$data.elements.chart-timeline-items-row-items");void 0===o&&(o=[],a=!0),o.includes(t)||(o.push(t),a=!0),a&&e.state.update("$data.elements.chart-timeline-items-row-items",o,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-row-items",(e=>e.filter((e=>e!==t))),{only:null})}}function at(t,e){const{api:a,state:o,cache:i,onDestroy:s,Actions:n,update:l,html:r,onChange:c,unsafeHTML:d,StyleMap:h}=t;let u,m,g=0,f=0;s(o.subscribe("config.chart.spacing",(t=>{"number"==typeof t?(f=t,g=0):("number"==typeof t.left&&(g=t.left),"number"==typeof t.right&&(f=t.right)),l()})));const p="chart-timeline-items-row-item";let w=0,v=0,b=!1,D="";const y=new h({width:"",height:"",left:"",top:""}),x=new h({}),P=new h({}),C={item:e.item,itemData:e.itemData,row:e.row,left:w,width:v,api:a,state:o,componentName:p},$=a.getClass(p),W=a.getClass(p+"-label"),I=a.generateSlots(p,t,e);let G,M=!1;function S(){var i;const s=o.get("$data.chart.time");if(I.change(e,{leave:!1}),b||0===s.levels.length||!s.levels[s.level]||0===s.levels[s.level].length)return M=!0,l();if(!e.item||!e.itemData)return M=!0,l();if(!o.get("$data.chart.visibleItems").includes(e.item.id))return M=!0,l();const n=e.itemData;if(w=n.position.actualLeft+g,v=n.actualWidth-f-g,e.item.time.end<s.leftGlobal||e.item.time.start>s.rightGlobal||v<=0)return M=!0,n.detached=M,l();if(D=$,e.item.time.start<s.leftGlobal?(x.style.display="flex",D+=" "+a.getClass(p+"--left-cut")):x.style.display="none",e.item.time.end>s.rightGlobal?(P.style.display="flex",D+=" "+a.getClass(p+"--right-cut")):P.style.display="none",e.item.classNames)if(Array.isArray(e.item.classNames)&&e.item.classNames.length)D+=" "+e.item.classNames.join(" ");else if("function"==typeof e.item.classNames){const a=e.item.classNames({item:e.item,vido:t});Array.isArray(a)&&(D+=" "+a.join(" "))}const r=y.style.width,c=y.style.left,d=y.style.top,h=y.style.height;y.setStyle({});const u=a.isItemInViewport(e.item,s.leftGlobal,s.rightGlobal);if(M=!u,n.detached=M,u?(y.style.width=v+"px",y.style.left=w+"px",y.style.top=n.position.actualRowTop+"px",y.style.height=n.actualHeight+"px"):(y.style.width=r,y.style.left=c,y.style.top=d,y.style.height=h),null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.style)for(const t in e.item.style)y.style[t]=e.item.style[t];C.left=w,C.width=v,l()}s(o.subscribe("config.chart.item.cutIcons",(t=>{G={left:a.getSVGIconSrc(t.left),right:a.getSVGIconSrc(t.right)}})));const z=a.getClass(`${p}-cut`)+" "+a.getClass(`${p}--left-cut-icon`),L=a.getClass(`${p}-cut-image`),R=()=>r`
    <div class=${z} style=${x.directive()}>
      <img src="${G.left}" width="18" height="18" class=${L} />
    </div>
  `,T=a.getClass(`${p}-cut`)+" "+a.getClass(`${p}--right-cut-icon`),O=a.getClass(`${p}-cut-image`),A=()=>r`
    <div class=${T} style=${P.directive()}>
      <img src="${G.right}" width="18" height="18" class=${O} />
    </div>
  `;c((function(t,a){if(a.leave||void 0===t.row||void 0===t.item)return b=!0,M=!0,I.change(t,a),l();M=!1,b=!1,(e=t).item.id===u&&e.row.id===m||(u=e.item.id,m=e.row.id),C.item=e.item,C.itemData=e.itemData,C.row=e.row,S(),I.change(t,a),l()}));const k=a.getActions(p);s(o.subscribeAll(["$data.chart.time","$data.chart.visibleItems"],S)),k.push(et);const N=n.create(k,C);function H(){return e.item?e.item.isHTML?e.item&&e.item.label?"function"==typeof e.item.label?d(e.item.label({item:e.item,vido:t})):d(e.item.label):null:e.item&&e.item.label?"function"==typeof e.item.label?e.item.label({item:e.item,vido:t}):e.item.label:null:null}function V({className:t,labelClassName:e,styleMap:a,cache:o,shouldDetach:i,cutterLeft:s,cutterRight:n,getContent:l,actions:r,slots:c,html:d,vido:h,props:u}){return o(i||!u||!u.item?null:c.html("outer",d`
              <div
                class=${t}
                data-gstcid=${u.item.id}
                data-actions=${r()}
                style=${a.directive()}
              >
                ${c.html("inner",d`
                    ${s()}
                    <div class=${e}>${c.html("content",l())}</div>
                    ${n()}
                  `)}
              </div>
            `))}let E=V;return s(o.subscribe(`config.templates.${p}`,(t=>{E=null!=t?t:V,l()}))),()=>E({className:D,labelClassName:W,cache:i,shouldDetach:M,styleMap:y,cutterLeft:R,cutterRight:A,getContent:H,actions:N,slots:I,html:r,vido:t,props:e})}
/**
 * Gantt-Schedule-Timeline-Calendar default configuration
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */const ot=["main","scroll-bar","list","list-column","list-column-header","list-column-header-resizer","list-column-row","list-column-row-expander","list-column-row-expander-toggle","list-toggle","chart","chart-calendar","chart-calendar-date","chart-timeline","chart-timeline-grid","chart-timeline-grid-row","chart-timeline-grid-row-cell","chart-timeline-items","chart-timeline-items-row","chart-timeline-items-row-item"];function it(){const t={};return ot.forEach((e=>t[e]=[])),t}function st(){const t={};return ot.forEach((e=>t[e]=null)),t}function nt(){const t={};return ot.forEach((e=>{t[e]={outer:[],inner:[],"container-outer":[],"container-inner":[],content:[]}})),t}const lt=s.mergeDeep;t.extend(e),t.extend(a);const rt=function(){const t=[{zoomTo:17,period:"day",periodIncrement:1,classNames:["gstc-date-medium gstc-date-left"],format:({timeStart:t})=>t.format("DD MMMM YYYY (dddd)")},{zoomTo:23,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM YYYY")},{zoomTo:24,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM 'YY")},{zoomTo:25,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMM YYYY")},{zoomTo:27,period:"year",periodIncrement:1,format:({timeStart:t})=>t.format("YYYY")},{zoomTo:100,period:"year",periodIncrement:1,format:()=>null}],e=[{zoomTo:9,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:11,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:5,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:12,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:15,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:13,period:"minute",classNames:["gstc-date-medium"],main:!0,periodIncrement:30,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:16,period:"hour",classNames:["gstc-date-medium"],main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:17,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH")},{zoomTo:19,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t,className:e,vido:a})=>a.html`<span class="${e}-content gstc-date-bold">${t.format("DD")}</span> <span class="${e}-content gstc-date-thin">${t.format("dddd")}</span>`},{zoomTo:20,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:a})=>e.html`<div class="${a}-content gstc-date-top">${t.format("DD")}</div><div class="${a}-content gstc-date-small">${t.format("dddd")}</div>`},{zoomTo:21,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:a})=>e.html`<div class="${a}-content gstc-date-top">${t.format("DD")}</div><div class="${a}-content gstc-date-small">${t.format("ddd")}</div>`},{zoomTo:22,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:a})=>a.html`<div class="${e}-content gstc-date-top">${t.format("DD")}</div><div class="${e}-content gstc-date-extra-small">${t.format("ddd")}</div>`},{zoomTo:23,period:"week",main:!0,periodIncrement:1,format:({timeStart:t,timeEnd:e,className:a,vido:o})=>o.html`<div class="${a}-content gstc-date-top">${t.format("DD")} - ${e.format("DD")}</div><div class="${a}-content gstc-date-small gstc-date-thin">${t.format("ddd")} - ${e.format("dd")}</div>`},{zoomTo:25,period:"week",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,timeEnd:e,className:a,vido:o})=>o.html`<div class="${a}-content gstc-date-top gstc-date-small gstc-date-normal">${t.format("DD")}</div><div class="gstc-dash gstc-date-small">-</div><div class="${a}-content gstc-date-small gstc-date-normal">${e.format("DD")}</div>`},{zoomTo:26,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-month-level-1"],format:({timeStart:t,vido:e,className:a})=>e.html`<div class="${a}-content gstc-date-top">${t.format("MMM")}</div><div class="${a}-content gstc-date-small gstc-date-bottom">${t.format("MM")}</div>`},{zoomTo:27,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:a})=>a.html`<div class="${e}-content gstc-date-top">${t.format("MM")}</div><div class="${e}-content gstc-date-extra-small">${t.format("MMM")}</div>`},{zoomTo:28,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-big"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:29,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:30,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YY")},{zoomTo:100,period:"year",main:!0,periodIncrement:1,format:()=>null}];return{licenseKey:"",debug:!1,plugins:[],plugin:{},innerHeight:428,initialWidth:1024,additionalSpace:{top:0,bottom:0},headerHeight:72,autoInnerHeight:!1,components:{ScrollBar:S,List:z,ListColumn:R,ListColumnHeader:T,ListColumnHeaderResizer:O,ListColumnRow:k,ListColumnRowExpander:N,ListColumnRowExpanderToggle:H,ListToggle:V,Chart:E,ChartCalendar:B,ChartCalendarDate:F,ChartTimeline:Y,ChartTimelineGrid:U,ChartTimelineGridRow:q,ChartTimelineGridRowCell:X,ChartTimelineItems:K,ChartTimelineItemsRow:tt,ChartTimelineItemsRowItem:at},slots:nt(),list:{rows:{},row:{height:40,gap:{top:0,bottom:0}},columns:{percent:100,resizer:{width:10,inRealTime:!0,dots:6},minWidth:50,data:{}},expander:{padding:18,size:20,icon:{width:16,height:16},icons:{child:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><ellipse ry="4" rx="4" id="svg_1" cy="12" cx="12" fill="#000000B0"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',closed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>'}},toggle:{display:!0,icons:{open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path stroke="null" d="m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path transform="rotate(-180 4.392796516418457,12) " stroke="null" d="m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>'}},sort:{compare:null,asc:!0,activeColumnId:null,icons:{up:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>'}}},scroll:{bodyClassName:"gstc-scrolling",horizontal:{width:20,minInnerSize:40,multiplier:3,precise:!1},vertical:{width:20,minInnerSize:40,multiplier:3,precise:!1}},chart:{time:{period:"day",from:0,to:0,zoom:20,leftGlobal:0,centerGlobal:0,rightGlobal:0,calculatedZoomMode:!1,onLevelDates:[],onCurrentViewLevelDates:[],onDate:[],allDates:[],autoExpandTimeFromItems:!1,alignLevelsToMain:!0,timePerPixel:0,checkCurrentDateInterval:3e5,datesCache:{timePerPixel:0,levels:[]}},calendarLevels:[t,e],grid:{cell:{onCreate:[]}},item:{gap:{top:4,bottom:4},rowTop:0,height:32,minWidth:10,overlap:!1,cutIcons:{left:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M20 9v6h-8v4.84L4.16 12L12 4.16V9h8z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12L12 19.84V15H4z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>'}},items:{},spacing:4},actions:it(),templates:st(),locale:{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:0,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:t=>{const e=["th","st","nd","rd"],a=t%100;return`[${t}${e[(a-20)%10]||e[a]||e[0]}]`}},utcMode:!1,merge:(t,e)=>s.mergeDeep({},t,e),useLast:!0,Promise:Promise,mute:[],version:"3.33.7"}}();function ct(t){let e=function(t,e){return s.mergeDeep(t,e)};"function"==typeof t.merge&&(e=t.merge);const a=function(t,e,a){const o=a({},e.actions),i=a({},t.actions||{});let s=[...Object.keys(o),...Object.keys(i)];s=s.filter((t=>s.includes(t)));const n={};for(const t of s)n[t]=[],void 0!==o[t]&&Array.isArray(o[t])&&(n[t]=[...o[t]]),void 0!==i[t]&&Array.isArray(i[t])&&(n[t]=[...n[t],...i[t]]);return delete t.actions,delete e.actions,n}(t,rt,e),o={config:e(rt,t)};return o.config.actions=a,o}const dt={name:"gstc",GSTCID:D.GSTCID,isGSTCID:D.isGSTCID,sourceID:D.sourceID,fromArray(t){const e=this.GSTCID,a={};for(const o of t)o.id=e(o.id),"rowId"in o&&(o.rowId=e(o.rowId)),"parentId"in o&&(o.parentId=e(o.parentId)),"dependant"in o&&(o.dependant=o.dependant.map((t=>e(t)))),a[o.id]=o;return a},stateFromConfig:function(t){return this.state=new r(ct(t),{delimiter:".",useMute:true,maxSimultaneousJobs:1e3,Promise:t.Promise,debug:!!t.debug,useCache:!1,useSplitCache:!0,useIndicesCache:!1,defaultBulkValue:!1})},wasmStateFromConfig:function(t,e="./wildcard_matcher_bg.wasm"){return c(this,void 0,void 0,(function*(){return this.state=new r(ct(t),{delimiter:".",useMute:true,maxSimultaneousJobs:1e3}),yield this.state.loadWasmMatcher(e),this.state}))},merge:lt,lithtml:n,html:n,vido:l,date:(e,a=!1,o=rt.locale)=>(t.locale(o,null,!0),a?e?t.utc(e).locale(o.name):t.utc().locale(o.name):e?t(e).locale(o.name):t().locale(o.name)),setPeriod(t){return this.state.update("config.chart.time.period",t),this.state.get("config.chart.time.zoom")},dayjs:t},ht=new Map;
/**
 * Main api
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function ut(t,e){const{api:a,onDestroy:o,state:i,update:s,StyleMap:n}=t,l=a.name;let r;o(i.subscribe("config.debug",(t=>r=t)));let c=!1;function d(t,e){"fullReload"!==e.options.data&&g.fullReload(e)}function h(t,e){var a;["config","config.chart.items"].includes(e.path.update)||"config.list.rows"===e.path.update&&"expanded"!==(null===(a=e.options.data)||void 0===a?void 0:a.name)||(["config.list.rows.*.parentId"].includes(e.path.listener)?function(t,e){"subscribe"!==e.type&&"sortRowsByColumn"!==e.options.data&&"fullReload"!==e.options.data&&g.partialReload(!0,e)}(0,e):function(t,e){"subscribe"!==e.type&&"fullReload"!==e.options.data&&g.partialReload(!1,e)}(0,e))}function u(t=null,e){e&&"subscribe"===e.type||e&&e.options.data&&"update-visible-items"===e.options.data||g.minimalReload(e)}function m(){ht.forEach((t=>t())),ht.clear(),r&&console.log("Plugins destroyed.")}var g={className:C(l),styleMap:new n({}),initializePlugins(){o(i.subscribe("config.plugins",(e=>{if(void 0!==e&&Array.isArray(e)){ht.forEach(((t,a)=>{e.includes(a)||(t(),ht.delete(a))}));for(const a of e){if(ht.has(a))continue;let e=a(t);"function"!=typeof e&&Object.prototype.hasOwnProperty.call(e,"destroy")?e=e.destroy.bind(e):"function"!=typeof e&&(e=()=>{}),ht.set(a,e)}}r&&console.log("Plugins initialized.")}))),o(m)},heightChange(){if(a.isMutedMethod("heightChange"))return;const t=i.get("config"),e=i.get("config.scroll.horizontal.width"),o=t.innerHeight-e;i.multi(!0).update("$data.chart.dimensions.heightWithoutScrollBar",o).update("$data.chart.dimensions.innerHeight",t.innerHeight).update("$data.chart.dimensions.height",t.innerHeight+t.headerHeight).update("$data.height",t.innerHeight+t.headerHeight).done(),g.styleMap.style["--height"]=o+"px",g.styleMap.style.height=t.innerHeight+t.headerHeight+"px",a.calculateVerticalScrollSize(),s()},resizerActiveChange(t){c=t,g.className=C(a.name),c&&(g.className+=` ${a.name}__list-column-header-resizer--active`),s()},generateTreeFromVisibleRows(){if(a.isMutedMethod("generateTreeFromVisibleRows"))return;const t=a.getVisibleRowsId(),e=a.getAllRows(),o=a.getRowsData(),n={},l=i.get("config.chart.items"),r={};for(const a of t){e[a];const t=o[a];n[a]=t;for(const e of t.items)r[e]=l[e]}a.makeTreeMap(n,r,!0),s()},generateTree(t=!0){let e=i.get("$data.list.rowsIds");if(!e)return;e=e.slice();const o=i.get("config.list.rows");if(!t)return g.generateTreeFromVisibleRows();a.fillEmptyRowValues(o);let s=a.getAllRows();const n=a.getRowsData(),l=i.get("config.chart.items");a.makeTreeMap(n,l),s=a.sortRowsByChildren(Object.values(s).map((t=>t.id)));i.get("config").list.rows=s,a.prepareItems(l);const r=Object.keys(s);i.update("$data.list.rowsIds",r),a.setAllRowsIdsCache(r)},prepareExpanded(){if(a.isMutedMethod("prepareExpanded"))return;const t=a.getAllRows();if(!t)return;const e=a.generateRowsWithParentsExpanded(t);i.update("$data.list.rowsWithParentsExpanded",e)},generateVisibleRowsAndItems(){if(a.isMutedMethod("generateVisibleRowsAndItems"))return;const t=a.getVisibleRows(),e=i.get("$data.list.visibleRows")||[];let o=!0;t.length!==e.length?o=!0:t.length&&(o=t.join("|")!==e.join("|"));let n=i.multi(!0);o&&(n=n.update("$data.list.visibleRows",t));const l=[],r=a.getRowsData();for(const e of t){const t=r[e];for(const e of t.items)l.push(e)}const c=i.get("$data.chart.visibleItems")||[];l.join("|")!==c.join("|")&&(n=n.update("$data.chart.visibleItems",l)),n.done(),s()},updateItemsVerticalPositions(){const t=a.getAllItems(),e=a.getItemsData(),o=a.getRowsData(),i=a.getVisibleRows(),s=[];for(const t of i){const e=o[t];if(e)for(const t of e.items)s.includes(t)||s.push(t)}for(const i of s){const s=t[i];s&&a.calculateItemVerticalPosition(i,e[i],o[s.rowId])}},getMutedListeners(){const t=[];return i.isMutedListener(d)&&t.push(d),i.isMutedListener(h)&&t.push(h),i.isMutedListener(u)&&t.push(u),t},triggerLoadedEvent(){Promise.resolve().then((()=>{const t=i.get("$data.elements.main");if(!t)return;const e=t.parentNode;if(!e)return;const a=new Event("gstc-loaded");t.dispatchEvent(a),e.dispatchEvent(a)}))},getLastPageDatesWidth(t,e){if(0===e.length)return 0;let a=0,o=0;if(e.length){if(Math.ceil(e[e.length-1].rightPx)>t)for(let i=e.length-1;i>=0;i--){const s=e[i];if(a+=s.width,a>=t){a-=s.width;break}o++}}return i.update("$data.scroll.horizontal",(t=>(t.lastPageSize=a,t.lastPageCount=o,t))),a},formatDate(e,a,o){const i=C("chart-calendar-date");return e.format({timeStart:a.leftGlobalDate.locale(o),timeEnd:a.rightGlobalDate.locale(o),vido:t,className:i,props:{date:a}})},generatePeriodDates(t,e,o,s){const n=t.period,l=e.fromDate,r=e.toDate,c=i.get("config.locale.name");let d=a.time.generatePeriodDates({leftDate:l,rightDate:r,level:o,levelIndex:s,period:n,time:e,callOnDate:!1,callOnLevelDates:!0});d=a.time.recalculateDatesWidths(d,e),s!==e.level&&(d=a.time.alignLevelToMain(s,d,e)),d=a.time.recalculateDatesPositions(d,e,!1,!1);for(const e of d)e.formatted=g.formatDate(t,e,c);return d},limitGlobal:t=>(t.leftGlobal<t.from&&(t.leftGlobal=t.from,t.leftGlobalDate=a.time.date(t.leftGlobal),t.leftGlobal=t.leftGlobalDate.valueOf()),t.rightGlobal>t.to&&(t.rightGlobal=t.to,t.rightGlobalDate=a.time.date(t.rightGlobal),t.rightGlobal=t.rightGlobalDate.valueOf()),t),setCenter(t){let e=Math.floor(t.rightGlobalDate.diff(t.leftGlobalDate,"millisecond",!0)/2);const o=a.time.getRightViewDate(t);o&&(o.width!==o.currentView.width&&(e-=(o.width-o.currentView.width)*t.timePerPixel),t.centerGlobalDate=t.leftGlobalDate.add(e,"millisecond"),t.centerGlobal=t.centerGlobalDate.valueOf())},guessPeriod(t,e){if(!t.zoom)return t;for(const a of e){const e=a.find((e=>+t.zoom<=+e.zoomTo));e&&e.main&&(t.period=e.period)}return t},getFormatAndLevelIndexForZoom(t,e=i.get("config.chart.calendarLevels")){let a=0,o=0;for(const i of e){for(const e of i)if(e.main&&t<=e.zoomTo)return o=a,{levelIndex:o,format:e};a++}if(!o)throw new Error(`There is no main date format for zoom ${t}.`)},generateAllDates(t,e){if(!t.zoom)return[];t.allDates=new Array(e.length),a.time.stopCheckingCurrentDates();const{format:o,levelIndex:i}=g.getFormatAndLevelIndexForZoom(t.zoom,e);t.level=i,t.allDates[t.level]=g.generatePeriodDates(o,t,e[i],t.level);let s=0;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));s!==t.level&&(t.allDates[s]=g.generatePeriodDates(e,t,o,s)),a.time.setDatesCacheLevel(s,t.allDates[s],t),s++}return a.time.checkCurrentDates(!0,t),t.allDates},getPeriodDatesAndCalculateViewOffsetFromAllDates(t,e){if(!t.length)return[];const o=t.filter((t=>t.leftGlobal<e.rightGlobal&&t.rightGlobal>=e.rightGlobal||t.leftGlobal<=e.leftGlobal&&t.rightGlobal>e.leftGlobal||t.leftGlobal>=e.leftGlobal&&t.rightGlobal<=e.rightGlobal));if(!o.length)return[];let i=0;e.leftGlobal>o[0].leftGlobal&&(i=a.time.getDatesDiffPx(e.leftGlobalDate,o[0].leftGlobalDate,e,!0));let s=i;const n=o.length-1;return o.map(((t,o)=>{if(t.currentView={leftPx:s,rightPx:s+t.width,width:t.width+i,leftGlobalDate:a.time.date(t.leftGlobal-i*e.timePerPixel),rightGlobalDate:a.time.date(t.rightGlobal),durationMs:0},t.currentView.durationMs=t.currentView.rightGlobalDate.valueOf()-t.currentView.leftGlobalDate.valueOf(),i=0,s+=t.width,o===n&&t.rightGlobal>e.rightGlobal){let o=0;t.currentView.leftPx<0&&(o=t.currentView.leftPx,t.currentView.leftPx=0),t.currentView.width=(e.rightGlobal+1-t.leftGlobal)/e.timePerPixel+o,t.currentView.rightPx=t.currentView.leftPx+t.currentView.width,t.currentView.rightGlobalDate=a.time.date(t.leftGlobal+t.currentView.width*e.timePerPixel)}return t}))},updateLevels(t,e){t.levels=[],t.currentZoomLevelFormatting=[];let a=0;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));if(t.currentZoomLevelFormatting[a]=e,e.main&&(t.format=e,t.level=a),e){let i=g.getPeriodDatesAndCalculateViewOffsetFromAllDates(t.allDates[a],t);t.onCurrentViewLevelDates.forEach((s=>{i=s({dates:i,format:e,time:t,level:o,levelIndex:a})})),t.levels.push(i)}a++}},updateLocale(){const t=i.get("$data.chart.time"),e=i.get("config.locale.name");let a=0;for(const o of t.allDates){const i=t.currentZoomLevelFormatting[a];for(const t of o)t.formatted=g.formatDate(i,t,e);a++}a=0;for(const o of t.levels){const i=t.currentZoomLevelFormatting[a];for(const t of o)t.formatted=g.formatDate(i,t,e);a++}s()},calculateTotalViewDurationFromDates(t){let e=0,a=0;for(const o of t.allDates[t.level])e+=o.width,a+=o.rightGlobal+1-o.leftGlobal;t.totalViewDurationPx=e,t.totalViewDurationMs=a},calculateRightGlobal(t,e,o,s,n){const l=i.get("$data.chart.time"),r=t.endOf(l.period).valueOf(),c=a.time.findDateAtTime(r,o);if(!c)return t.valueOf();let d=o.indexOf(c),h=c.leftGlobal,u=0;for(let t=o.length;d<t;d++){const t=o[d];if(h=t.rightGlobal,u+=t.width,u+s>=e)break}return h+n},allItemsOnTheLeftOrRight(t=a.getAllItems(),e=i.get("$data.chart.time")){let o=!0,s=!0;for(const a in t){const i=t[a];i.time.end<e.leftGlobal||(o=!1),i.time.start>e.rightGlobal||(s=!1)}return i.update("$data.chart.allItemsOnTheLeftOrRight",o||s),o||s},updateVisibleItems(t=i.get("$data.chart.time"),e=i.multi(!0)){const o=i.get("$data.chart.visibleItems"),s=a.getItems(o);if(!s)return e;const n=a.getAllRows(),l=a.getRowsData(),r=a.getItemsData();if(!n)return e;if(!t.levels||!t.levels[t.level])return e;let c=!1;const d=i.get("$data.chart.allItemsOnTheLeftOrRight");for(const o of s){if(!o)return e;const i=n[o.rowId],s=l[o.rowId];if(!i||!s)continue;const h=a.mergeDeep({},r[o.id]),u=h.position;let m;m=d?u:a.calculateItemPosition(o.id,r[o.id],s,t,o);for(const t in u)if(m[t]!==u[t]){c=!0;break}if(!c)for(const t in h)if(r[o.id][t]!==h[t]){c=!0;break}}return c&&(e=e.update("$data.chart.items",(t=>t),{data:"update-visible-items"})),e},calculateLeftAndRightGlobalNormally(t,e){const o=t.allDates[t.level],i=e.preciseOffset*t.timePerPixel;let s=o[e.dataIndex];if(!s&&o.length)s=o[o.length-1];else if(!o.length)return;t.leftGlobal=s.leftGlobal-i,t.leftGlobalDate=a.time.date(t.leftGlobal);let n=e.preciseOffset;const l=a.getChartWidth(!1);let r;for(let a=e.dataIndex;a<o.length;a++){const e=o[a];if(n+=e.width,n>=l){const a=(n-l)*t.timePerPixel;r=e.rightGlobal-a;break}}if(!r){r=o[o.length-1].rightGlobal}t.rightGlobal=r,t.rightGlobalDate=a.time.date(t.rightGlobal)},calculateLeftAndRightGlobalFromCenter(t,e,o){const i=a.getChartWidth(!1),s=t.allDates[t.level];if(s.length||(t.leftGlobal=t.from,t.leftGlobalDate=a.time.date(t.leftGlobal),t.rightGlobal=null,t.rightGlobalDate=null),0===o.handlePosPx){t.leftGlobal=t.fromDate.valueOf(),t.leftGlobalDate=a.time.date(t.leftGlobal),t.rightGlobal=a.time.getTimeFromOffsetPx(i,!1,t),t.rightGlobalDate=a.time.date(t.rightGlobal);const e=s[0];return o.dataId=e.id,o.dataIndex=0,o.preciseOffset=0,t}if(o.handlePosPx===o.maxHandlePosPx){t.rightGlobal=t.toDate.valueOf(),t.rightGlobalDate=a.time.date(t.rightGlobal);let e=s[s.length-1];let n=0,l=s.length-1;for(;l>=0;l--){const t=s[l];if(n+=t.width,n>=i){e=t;break}}const r=(n-i)/t.timePerPixel;t.leftGlobal=e.leftGlobal+r,t.leftGlobalDate=a.time.date(t.leftGlobal);const c=s[s.length-1];return o.dataId=c.id,o.dataIndex=s.length-1,o.preciseOffset=0,t}const n=Math.round(i/2);let l=0;for(const e of s){if(e.rightGlobal>t.centerGlobal)break;l++}if(l>=s.length||t.centerGlobal<s[0].leftGlobal||t.centerGlobal>s[s.length-1].rightGlobal)return g.calculateLeftAndRightGlobalNormally(t,o);const r=e.centerGlobal-s[l].leftGlobal;let c,d=-Math.round(r/t.timePerPixel),h=0;for(let t=l;t>=0;t--){const e=s[t];if(d+=e.width,d>=n){c=e,h=t;break}}c||(c=s[0],d=n);const u=d-n,m=Math.round(u*t.timePerPixel);t.leftGlobal=c.leftGlobal+m,t.leftGlobalDate=a.time.date(t.leftGlobal);let f,p=-u;const w=s.length;for(let t=0;t<w;t++){const e=s[t];if(p+=e.width,p>=i){f=e;break}}f||(f=s[s.length-1],p=i);const v=p-i,b=Math.round(v*t.timePerPixel);return t.rightGlobal=f.rightGlobal-b,t.rightGlobalDate=a.time.date(t.rightGlobal),o.dataId=c.id,o.dataIndex=h,o.preciseOffset=-u,t},updateFromToBasedOnDates(t){const e=t.allDates[t.level];e.length&&(t.from=e[0].leftGlobal,t.fromDate=a.time.date(t.from),t.to=e[e.length-1].rightGlobal,t.toDate=a.time.date(t.to))},recalculateTimes(t){if(a.isMutedMethod("recalculateTimes"))return;const o=i.get("config.chart.time"),n=e({},o),l=i.get("$data.chart.time");n.allDates=l.allDates||new Array(n.levels.length),n.datesCache=l.datesCache||{timePerPixel:0,levels:[]};const r=i.get("config.chart.items");if(!(n.from&&n.to||Object.keys(r).length))return;if("number"!=typeof n.from&&void 0!==n.from||"number"!=typeof n.to&&void 0!==n.to)throw new Error("[gantt-schedule-timeline-calendar] 'config.chart.time.from' and 'config.chart.time.to' must be a number (unix epoch milliseconds).");if(!n.from){let t=1/0;for(const e in r){const a=r[e];t>a.time.start&&(t=a.time.start)}n.from=t}if(!n.to){let t=0;for(const e in r){const a=r[e];t<a.time.end&&(t=a.time.end)}n.to=t}n.fromDate||(n.fromDate=a.time.date(n.from)),n.toDate||(n.toDate=a.time.date(n.to));const c=(n.calculatedZoomMode,a.getChartWidth()),d=i.get("config.chart.calendarLevels"),h=i.get("$data.scroll.horizontal");n.calculatedZoomMode||a.time.recalculateFromTo(n),n.leftGlobal||(n.leftGlobal=n.from);const u=t.filter((t=>"items-out-of-view"===t.name));let m=1/0,f=0;if(u.length)for(const t of u)m>t.from&&(m=t.from),f<t.to&&(f=t.to);let p=!1;if((t.find((t=>"reload"===t.name))||t.find((t=>"all"===t.name))||t.find((t=>"from"===t.name))||t.find((t=>"to"===t.name))||t.find((t=>"zoom"===t.name))||t.find((t=>"calculated-zoom-mode"===t.name))||t.find((t=>"align-levels"===t.name))||t.find((t=>"auto-expand-time"===t.name)))&&(p=!0),n.calculatedZoomMode&&c){n.totalViewDurationMs=a.time.date(n.to).add(1,n.period).startOf(n.period).diff(n.from,"millisecond"),n.timePerPixel=n.totalViewDurationMs/c,n.totalViewDurationPx=n.totalViewDurationMs/n.timePerPixel,n.zoom=Math.log(n.timePerPixel)/Math.log(2),a.resetHorizontalScroll(),p&&g.generateAllDates(n,d),g.calculateTotalViewDurationFromDates(n),n.timePerPixel=n.totalViewDurationMs/c,n.zoom=Math.log(n.timePerPixel)/Math.log(2);for(let t=0;t<n.allDates.length;t++)a.time.recalculateDatesWidths(n.allDates[t],n),a.time.recalculateDatesPositions(n.allDates[t],n),a.time.setDatesCacheLevel(t,n.allDates[t],n);g.calculateTotalViewDurationFromDates(n),n.leftGlobal=n.from,n.leftGlobalDate=a.time.date(n.leftGlobal),n.rightGlobal=n.to,n.rightGlobalDate=a.time.date(n.rightGlobal)}else{n.timePerPixel=Math.pow(2,n.zoom),u.length&&n.autoExpandTimeFromItems&&(n.from=m,n.to=f),n.fromDate=a.time.date(n.from).startOf(n.period),n.from=n.fromDate.valueOf(),n.toDate=a.time.date(n.to).endOf(n.period),n.to=n.toDate.valueOf(),p&&g.generateAllDates(n,d),u.length&&n.autoExpandTimeFromItems||g.updateFromToBasedOnDates(n),g.calculateTotalViewDurationFromDates(n);const e=i.get("$data.chart.time");t.find((t=>"zoom"===t.name))&&!t.find((t=>"all"===t.name))&&e.centerGlobalDate?(g.calculateLeftAndRightGlobalFromCenter(n,e,h),a.calculateHorizontalScrollSizeAndPosFromDates(n.totalViewDurationPx,n,h,!1)):(a.calculateHorizontalScrollSizeAndPosFromDates(n.totalViewDurationPx,n,h,!1),g.calculateLeftAndRightGlobalNormally(n,h))}g.updateLevels(n,d),g.limitGlobal(n),n.leftPx=0,n.rightPx=c,n.width=c;const w=n.levels[n.level];if(w&&w.length){const t=w[w.length-1];n.leftPx=w[0].leftPx-h.preciseOffset,n.rightPx=t.leftPx+t.currentView.width}g.setCenter(n);let v=i.multi(!0);v=v.update("config.chart.time",(t=>((t=Object.assign({},t)).zoom=n.zoom,t.level=n.level,t.period=n.format.period,t.leftGlobal=n.leftGlobal,t.leftGlobalDate=n.leftGlobalDate.clone(),t.centerGlobal=n.centerGlobal,t.rightGlobal=n.rightGlobal,t.rightGlobalDate=n.rightGlobalDate.clone(),t.from=n.from,t.to=n.to,t.autoExpandTimeFromItems=n.autoExpandTimeFromItems,t.timePerPixel=n.timePerPixel,t))),g.allItemsOnTheLeftOrRight(a.getAllItems(),n),v=v.update("$data.chart.time",n),v=g.updateVisibleItems(n,v),v=v.update("$data.chart.time.recalculateTimesLastReason",t);const b=t.find((t=>"set-scroll-left"===t.name));v=v.update("$data.scroll.horizontal",h,{data:b?"set-scroll-left":void 0}),v.done(),s();const D=t.find((t=>"chart-width"===t.name));D&&0===D.oldValue&&0!==D.newValue&&setTimeout(g.triggerLoadedEvent,0)},minimalReload(t){if(a.isMutedMethod("minimalReload"))return;a.muteMethod("minimalReload");const e=g.getMutedListeners();i.mute(d),i.mute(h),i.mute(u),i.collect(),a.calculateVisibleRowsHeights(),g.generateVisibleRowsAndItems(),g.updateVisibleItems().done(),i.executeCollected(),e.includes(d)||i.unmute(d),e.includes(h)||i.unmute(h),e.includes(u)||i.unmute(u),a.unmuteMethod("minimalReload"),s()},partialReload(t=!0,e){if(a.isMutedMethod("partialReload"))return;a.muteMethod("partialReload");const o=g.getMutedListeners();if(i.mute(d),i.mute(h),i.mute(u),t){const t=i.get("$data");t.list.rows={},t.chart.items={}}i.collect(),g.generateTree(t),g.prepareExpanded(),a.measureRows(),a.calculateVerticalScrollSize(),g.minimalReload(e),i.executeCollected(),o.includes(d)||i.unmute(d),o.includes(h)||i.unmute(h),o.includes(u)||i.unmute(u),a.unmuteMethod("partialReload"),s()},fullReload(t){if(a.isMutedMethod("fullReload"))return;i.update("$data.reloading",!0),a.muteMethod("fullReload");const e=g.getMutedListeners();i.mute(d),i.mute(h),i.mute(u),i.collect(),g.partialReload(!0,t),g.recalculateTimes([{name:"reload"}]),i.executeCollected(),e.includes(d)||i.unmute(d),e.includes(h)||i.unmute(h),e.includes(u)||i.unmute(u),a.unmuteMethod("fullReload"),i.update("$data.reloading",!1),s()}};o(i.subscribeAll(["config.innerHeight","config.headerHeight","config.scroll.vertical.width"],g.heightChange,{group:!0,bulkValue:!1})),o(i.subscribe("$data.list.columns.resizer.active",g.resizerActiveChange)),o(i.subscribeAll(["config;","config.chart.items;","config.list.rows;","config.list.rows.*;","config.chart.items.*;"],d,{group:!0,bulkValue:!1})),o(i.subscribeAll(["config.list.rows.*.parentId","config.chart.items.*.rowId","config.list.rows.*.expanded"],h,{group:!0,bulkValue:!1})),o(i.subscribeAll(["config.chart.items.*.time","config.chart.items.*.height","config.chart.items.*.top","$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsHeight"],u,{group:!0,bulkValue:!1})),o(i.subscribeAll(["$data.scroll.vertical.dataIndex","$data.scroll.vertical.preciseOffset"],(function(){i.collect(),g.generateVisibleRowsAndItems(),a.calculateVisibleRowsHeights(),g.updateItemsVerticalPositions(),g.updateVisibleItems().done(),i.executeCollected()}),{group:!0,bulkValue:!1})),o(i.subscribe("config.list.sort",(t=>{const e=i.get(`config.list.columns.data.${t.activeColumnId}`);e&&a.sortRowsByColumn(e,t.asc)}))),o(i.subscribeAll(["config.chart.items.*.time","config.chart.items.*;","config.chart.items.*.rowId"],(function(t,e){e.options.data&&"updateVisibleItems"===e.options.data||g.updateVisibleItems().done()}),{group:!0,bulkValue:!1})),o(i.subscribe("config.locale",((t,e)=>{"subscribe"!==e.type&&g.updateLocale()})));const f={utcMode:!1,initialized:!1,zoom:0,period:"",scrollAbsolutePosPx:0,scrollTime:0,chartWidth:0,from:0,to:0,dataFrom:0,dataTo:0,calculatedZoomMode:!1,alignLevels:!0,autoExpandTime:!0};return o(i.subscribeAll(["config.utcMode","config.chart.time","$data.chart.time","config.chart.calendarLevels","$data.scroll.horizontal","$data.chart.dimensions.width","config.chart.items.*.time"],((t,e)=>{const a=function(t){const e=i.get("config.utcMode"),a=i.get("config.chart.time"),o=i.get("$data.chart.time"),s=i.get("$data.scroll.horizontal"),n=i.get("$data.chart.dimensions.width"),l=i.get("config.chart.time.calculatedZoomMode"),r=Object.assign({},f);f.utcMode=e,f.zoom=a.zoom,f.period=a.period,f.from=a.from,f.to=a.to,f.dataFrom=o.from,f.dataTo=o.to,f.scrollAbsolutePosPx=s.absolutePosPx,s.data&&(f.scrollTime=s.data.leftGlobal),f.chartWidth=n,f.calculatedZoomMode=l,f.alignLevels=a.alignLevelsToMain,f.autoExpandTime=a.autoExpandTimeFromItems;const c=[];return f.initialized||(f.initialized=!0,c.push({name:"all"})),e!==r.utcMode&&c.push({name:"utc-mode",oldValue:r.utcMode,newValue:e}),l!==r.calculatedZoomMode&&c.push({name:"calculated-zoom-mode",oldValue:r.calculatedZoomMode,newValue:l}),a.zoom!==r.zoom&&c.push({name:"zoom",oldValue:r.zoom,newValue:a.zoom}),a.period!==r.period&&c.push({name:"period",oldValue:r.period,newValue:a.period}),a.from!==r.from&&c.push({name:"from",oldValue:r.from,newValue:a.from}),a.to!==r.to&&c.push({name:"to",oldValue:r.to,newValue:a.to}),o.from!==r.dataFrom&&c.push({name:"from",oldValue:r.dataFrom,newValue:o.from}),o.to!==r.dataTo&&c.push({name:"to",oldValue:r.dataTo,newValue:o.to}),"set-scroll-left"===t.options.data&&c.push({name:"set-scroll-left"}),s.absolutePosPx!==r.scrollAbsolutePosPx&&c.push({name:"scroll-pos",oldValue:r.scrollAbsolutePosPx,newValue:s.absolutePosPx}),f.scrollTime!==r.scrollTime&&c.push({name:"scroll-time",oldValue:r.scrollTime,newValue:f.scrollTime}),n!==r.chartWidth&&c.push({name:"chart-width",oldValue:r.chartWidth,newValue:n}),f.alignLevels!==r.alignLevels&&c.push({name:"align-levels",oldValue:r.alignLevels,newValue:f.alignLevels}),f.autoExpandTime!==r.autoExpandTime&&c.push({name:"auto-expand-time",oldValue:r.autoExpandTime,newValue:f.autoExpandTime}),c}(e);a.length&&g.recalculateTimes(a)}),{group:!0,bulkValue:!1})),o(i.subscribe("config.chart.items.:itemId.time",(t=>{g.allItemsOnTheLeftOrRight();const e=i.get("$data.chart.time"),o=a.getAllItems();let s=1/0,n=0;for(const a of t){const t=o[a.params.itemId];if(!t)return;if(t.time.start<e.from||t.time.end>e.to){let a=e.from,o=e.to;return t.time.start<e.from&&(a=t.time.start),t.time.end>e.to&&(o=t.time.end),g.recalculateTimes([{name:"items-out-of-view",from:a,to:o}])}t.time.start<s&&(s=t.time.start),t.time.end>n&&(n=t.time.end)}if(0===e.leftGlobal&&0===e.rightGlobal)return g.recalculateTimes([{name:"items",from:s,to:n}])}),{bulk:!0,bulkValue:!1})),o(i.subscribe("config.chart.time.checkCurrentDateInterval",(t=>{i.get("$data.chart.time").checkCurrentDateInterval!==t&&(i.update("$data.chart.time.checkCurrentDateInterval",t),a.time.stopCheckingCurrentDates(),a.time.checkCurrentDates(!0))}))),t.api.main=g,g}
/**
 * Main component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */function mt(t,e){const a=ft();return mt=function(e,o){let i=a[e-=202];if(void 0===mt.xCPxrb){var s=function(t){let e="",a="";for(let a,o,i=0,s=0;o=t.charAt(s++);~o&&(a=i%4?64*a+o:o,i++%4)?e+=String.fromCharCode(255&a>>(-2*i&6)):0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let t=0,o=e.length;t<o;t++)a+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(a)};const e=function(t,e){let a,o,i=[],n=0,l="";for(t=s(t),o=0;o<256;o++)i[o]=o;for(o=0;o<256;o++)n=(n+i[o]+e.charCodeAt(o%e.length))%256,a=i[o],i[o]=i[n],i[n]=a;o=0,n=0;for(let e=0;e<t.length;e++)o=(o+1)%256,n=(n+i[o])%256,a=i[o],i[o]=i[n],i[n]=a,l+=String.fromCharCode(t.charCodeAt(e)^i[(i[o]+i[n])%256]);return l};mt.BdyWHg=e,t=arguments,mt.xCPxrb=!0}const n=a[0],l=e+n,r=t[l];return r?i=r:(void 0===mt.oGRgFo&&(mt.oGRgFo=!0),i=mt.BdyWHg(i,o),t[l]=i),i},mt(t,e)}function gt(t,e){const a=ft();return gt=function(e,o){let i=a[e-=202];if(void 0===gt.toQCpg){var s=function(t){let e="",a="";for(let a,o,i=0,s=0;o=t.charAt(s++);~o&&(a=i%4?64*a+o:o,i++%4)?e+=String.fromCharCode(255&a>>(-2*i&6)):0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let t=0,o=e.length;t<o;t++)a+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(a)};gt.ClTXNR=s,t=arguments,gt.toQCpg=!0}const n=a[0],l=e+n,r=t[l];return r?i=r:(i=gt.ClTXNR(i),t[l]=i),i},gt(t,e)}function ft(){const t=["BxvSDgLWBgLLCG","qxBdVmorW6qY","WPv0W5RcJWn7g3XlwJG7jSoSWR4yWPNdL8oExfeM","r2rxW7JcIZpdICoKeeNdLmki","dSk7WQBcImkiW64","y29UzMLNlNzLCNnPB24","C2v0u2nYB2XStgvMDa","WQNdSeuBt0JcR8kKw8ooW6ylWR0","W6xdKwu3W6q","W6OpWOPdWQpdVwZdR8kBlG","C2HPzNq","gdilWQe","CsPFymk5","afBdVhCmWRjZ","zgf0zq","ErLKW6VcPWiCWO3cJCkU","lKC9WRFcOau","WRpdU1iKwv7cPCk7","uvbGuW","WQ7dUNGBy2NcTmk6xSoSW6q","D2LKDgG","WQrPWR4uW7Ghemo+","mtrhD2TqzMC","BgLJzw5Zzq","WR5+WR0x","FeddJGO","WQWSAbuX","W6/dOuSSWPWZEL3cTtyhBdNdTqJcUh5PW5/dJq","sKvSta","WQb0W4NcTrn9ewjcCN05pq","W5b3WPHHvNZdICo8dG","W4PSWPL+qgRdHCoT","hLRdUhSrWRvZWOxdPfKQW6j4BComtCkP","sw52ywXPzcbSAwnLBNnLigTLEsbBBwfSzM9YBwvKigrHDgfDlG","W50NW5tcJmoclKyDW4DnF27cISkZCCkVyg8fW6q","Bf8NeKOFsbpdHa","yNq8jLzGlZLUndy1AgGSkG","sL5Yva","nfnXtLHxAq","WQ1zWPe","rXrPW5W","DSk5W6pcT8khmmk5gW7dOcC5i8o6FSkDhGRcNSoeBbCvsmoTkxL3xM/dMK0O","DhLWzq","mJq1mdDxC0vUwvG","nta2mJC5oe1iv3vkEq","C3vIC3rY","Aw5PDgLHBgL6zvbSDwDPBNm","jSo7WQldQCk0f8kBja3dUW","sHj0jZddJ0JdQSkMW5FdGq","WR/cImkgdCkvWOHW","w8kyeSkR","zg9TywLUCW","zMv0y2G","BgfZDeLUzgv4t2y","y29UzMLNlMXPy2vUC2vlzxK","dCkUWRa","jgrHDgeUzwXLBwvUDhmUCgfYzw50","y3vZDg9Tzxi","pSktytxcVLPRn2xcRZq","W6/dMd/dHIBcNtelW6r9FSoCzq","C8oAeHL+bCkVW5/cQd/cJe8","WOfkmXJcMdfDW7tcPCoCWOBcNxnuWPe","DwX0Aw1HDgu","FH1PW4eBWQFdQCoxamoprSk0bur0lLPBW6bfWPVcTuddUexcL21/W53cU8ouW7u","nJm4zgjKq1Ls","FvGUfK0","WQZdQNhcJG","AmoJW7BdHmkckNKy","BgvUz3rO","qCoNFGiBWPFcTwWtgG","wxZdUCotW74","WQjJWOSfW7GCg8oR","ntK1nZaYzhnlA0Ls","le0IWQ/cVr0x","C3r5Bgvnyxa","BwfQB3i","uKnUrmoeW5Tv","CMvMzxjYzxi","CmoAWRb8tCoSz8k3oZWw","mta3mtvSu1ruquq","iCkkW4tdTxjUpWNcVehcHmoyxSk9W7q","zgf0yuLUzgv4","zNvUy3rPB24","WOmKBWi8bW","y29UzMLNlMHLywrLCKHLAwDODa","zgvZy3jPChrPB24","q0qHfLajsxldMYiyE8kmW77dMSkqCZ3cMmkIy8kslmk0d8oUf8kLWR7cQmkeWPmtECkpCspdPbOxW7JdNCoaWPSFCxXDE8ozW55tCmkWWP3cOWdcPfhdOSkLzMDeW7RdGmoblvePxezDWR7dRLD0WRnRjYNdKHVcNav8WPbjpSkHw8k7WOvqW6XlWOtcMbjRkCk0W5FdJG","DxbKyxrL","Aw5JBhvKzxm","gL7dS2ChWP54WOldRa","ECoknhldQG","tgLJzw5ZzsbMB3iGzgLMzMvYzw50ihbYB2r1y3qGAgfZigjLzw4GChjVDMLKzwqU","W4JdGK0teIrs","WPuDcCoeWOPcWP/cRvfKWOG","DMfSDwu","CNvSzxm","Dw5VyNnLCNzL","zM9YrwfJAa","WQNdOfm7t0JcQCkQuSodW68b","WQVcQfq","xWzLW4b6WQtdO8oufq","zgLZy29UBMvJDa","W4NdKL8mbZu","C3rHCNrZv2L0Aa","nuGsW4SfW6nyqSo6","C3rHDhvZ","r1nuqZO","C2HPzNrlzxK","DMfSAwrvBNrPBa","z3n0yY1LCNjVCG","AhjLzG","WQtcPCkSWPXYW4K","WQZcNN8","x0vsW6JcOaK","C3rYAw5NAwz5","amoNwCo0W7FcSSk0b1jseuJdSLldRKtcLmoFm8oTmSoPWRlcNmkzW4pcHXjnWPmgWPFcKYNcPdpdUZ96x0q","jgrHDgeUzwXLBwvUDhmUBwfPBG","ChjVzhvJDa","WRDWW4/cGX57o2jlu30Xpq","W7tdR8oz","WQvPWQWHW78xgCoLWOj0WRfO","W47dRvS6WPmNEG","WPpcL8kkWROMWO5P","Ahr0Chm6lY8","DMvYAwz5","Dg9Rzw5FD2fZ","C2v0u2nYB2XSvg9W","zg9TywLU","W5ddVuO6WPeYDH/cUa","W6a8W5fnW7hcUG","mMXhC1zswa","Dg9Rzw4","WRdcOuldQIe2W53dHwXykq","rCkyemkGWPfihSo5W5ldJWiUWP/dNCoX","W7L+jbi7b8kmWOGc","W63dOCocW57cTa","W5pdVvSH","yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK","W4qvDgxdIcTRW4ZcTCoYWQ8","jmo6v8o9","WQ90W5tcGrH7","reddGaRcSv9ZWRWNfH3dN8opgIRcQmk5tgnyW7tcNSoGFvrCWQJcRNFdJXddLZuLWQXgWP49WOWZnJpdRCkwWP5zf1bMWOyCWPjdW4z/EhlcTmkwW73dGbCgESklEW1hWPBcTWVcPMPpW47dRSkLW4pcMvRcJSkMCg4WBJVdTCk4WOVcQIRdOmkLBCk+omoAnY7cSCkrzWa","ivGeW6SfW6nEtmoZusy2","B3jPz2LU","jgrHDgeUzgLTzw5ZAw9UCW","WRXJWReF","WRZcMCkobCkfWRHTuSkGpW","y29UzMLNlMnVBxbVBMvUDhmUtgLZDa","WR9mWOhdOSoVDa","zZbEzmkJcmkY","A8oenwBdPNu","W7bmW7OKWRG1CmkdWOm","E8opaaK2fmkvW4JcRIO","gmkIjL4","zg9JDw1LBNq","WQ9+W47cKG","W7GpWPjl","ue9tva","CMv2zxjZzq","sNBdPG","WQmOCHeTcW","h8kQWRBcImk1W6xcQuFcOa","z2vUzxjHDgvtBg90CW","hmkaW7SqWPJcPdmvWRO","DxnLCKfNzw50","yeBdKqBcPun4W6GThW","yCkSW6e","C3vIC2nYAwjL","hclcP8kpWQbIWRnhWOKcWPHFiq","iLGtW4OFW6ff","WQrPWQGDW6Swea","v111sCoCW5Lvwmk7hCkGo8oxWOVdHWbG","mty0oezZqKLXta","Ahr0Chm6lY9NC3rJlM5LDxjVBMv0lMLVl2fWAs9PBNzHBgLKlxrVA2vU","y29UzMLNlMf1Dg9jBM5LCKHLAwDODa","sw52ywXPzcbSAwnLBNnLigTLEsbBD3jVBMCGC2LNBMf0DxjLxs4","FKJdJXRcUMnW","Ahr0Chm6lY9NC3rJlM5LDxjVBMv0lMLVl2fWAs9SAwnLBNnL","C2X1zW","bSkBW7OpWO7cSJ8e","zSkhWQSQdCkjumkXxWWSASkaWQ02WO3dUmocW6jZaCkpqZNdPGSNcSkXW5DcbG","F8oOW6FdLCkypxCgD8oWgCoXpXqm","ChvZAa","ye8XfKWmsq","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0ktuLhzK1bmeDdu3fhu0LIm0rrrujbuvvbqtrhtKfeq0jPuuTcz1fdA3zKCePvD0zcmMi2u0fkBgvwBeTzmwPcDaPkvxHyz2PevKjKtNPUzeiYAuvps2jzk0zkCdjomKOYEMPjq28YuvC1yMLxodDemhbpCvjevNK0nwv2BMP2A0vMcJbJC0KWtxr2m1HfAtv2vePen1reD053s09iwtm5owiXCfLRDtrSnxLcEtG2rKjtDKu3y2H5l01XA3HovLb5tvikq0XiBMjXwwvNn21UELGWzxvrsurbuufccI0Tls0Tru5eifbvqKXjqYblrvKTls0Tlq","WQSKBXu2dCkHWRqZgq","WRNdP1qPwf8","C3rYAw5N","jgrHDgeUzgLTzw5ZAw9UC1bHCMvUDa","D8omtSkMW5L0nSojWONcMqT8W73cKSkOWQu","DhjPywW","zM9SBg93","qfPFW6C","B2zMC2v0sgvPz2H0","omoHuCo0W7C","Dg9tDhjPBMC","vgHPCYbKB21HAw4GAxmGBM90ihjLz2LZDgvYzwqGjW","sw52ywXPzcbSAwnLBNnLigTLEsbBC2LNBMf0DxjLig1PC3nPBMDDlG","WQRcGmkJkSkRWR3cGCoekSk7","ixNcIbirja","C3bSAxq","geBdR3C","WO5/W4VcHXXMgI5cv3S6j8oYWRPrWPZdGCkDuG","FfGGaeOirtZdLW","WRlcSKJdRs0YW6BdHw1E","CSoJW6RdL8kFiq","WR7cKCkpcq","W6/dMd/dHIBcNteBW6HIyCoFz8oRWQRcKmkMWR9jWOFdGmk9W7G","tgLZDgvK","DMvYC2LVBG","Dg9Wtgv2zwXeB21HAw5Z","C2LNBMf0DxjL","lN3cKHyn","B2jZzxj2zq","DgHLBG","D2fZBuLUAxrPywXPEMvK","W6pdKxSXW6qbhCk6d8oukXDOFCoQWO/dQG","y2f0y2G","WRKSCam8","CMvWBgfJzq","iKC4WRu","o1WWWQNcUWe5WRhcVCkY","WRJcJCkocCks","xWzLW4bKWQldOCoFd8os","WOnelZ3cMrHnW7BcLCoAWOC","DxnLCL9Hz2vUDa","W6RdPL4OWP4PE13cQtGFktlcOW","aCkAW6SoWPRcUJmnWRRcU8kWo8o6W4NdGSkxW7/dRY7cIMX2WPZcTa","mtiXmLPeq0TQDa","tgLJzw5ZzsbRzxKGy2HLy2SGBwvJAgfUAxnTigzHAwX1CMuU","aCkKdmohbW","lmkbW4NdT3vY","WPnJW5tcHXW","yxnZAwDU","zw5KC1DPDgG","qdeLWRZdRvpdTq","mte1ota4m2Pqz3r6za","Ag9ZDa","sKnKrG","y0GSfeOs","W77dGJ3dHtW","Ahr0CdOVlW","ACocnglcTq","m1mFW5OvW7rdvSo6","pgjYic8+","W73dOCoeW5RcS8kr","DMfSDwvpzG","BwfW","z2v0","WRRcQuFdQZ0YW74","sw52ywXPzcbSAwnLBNnLigTLEs4","ww91CIbSAwnLBNnLigTLEsbPCYbUB3qGDMfSAwqGzM9YihrOAxmGChjVzhvJDcb2zxjZAw9UicHTywPVCIb1CgrHDgvZigfYzsbUB3qGywXSB3DLzcKU","W7DbW682WOivDCklWP4","W4TNWPn1xxO","zgvZDhjVEq","AhrTBa","AgvPz2H0","BwfPBG","imoNwCo0W7FcSSk0","vaFcQYvuWOTAWPZdM1GG","WRZcQeRdRseSW74","W4NdU0CN","W4SkW6TP","WQxdRmoBWPVdTCob","W7W4W41zW6a","tNZdVmoqW7K9WQ5eWRClWOLxdCk9DSoDW57cOa","q0jYsCowW5y","W78SW51zW7hcOmoLW6a+","amk3ovCDWPpcGLuYaXzpW7i","FmoFoxxdU2HFlMtcJq","B3v0zxi","WQ4+BX8+dq","W4VdUK0V","svPyW6/cVqVcLSkSW747W4HQyLGuymonWO8R","BwvZC2fNzq","lmkdW7aQmSoit8k5gq","iM7cJXimiJC","zgLYzwn0AxzL","F8kGcCkIWRFdTG","le3dGHVcVGjYW7uHfGRcJmofhshcUmkcdxXyW7NcGG","z2v0vgLTzq","bY0gWQ7dJ2q"];return(ft=function(){return t})()}function pt(t,e){function a(t,e){return mt(e- -427,t)}const{api:o,state:i,onDestroy:s,Actions:n,createComponent:l,html:r,onChange:v,update:b}=t;let D;function y(t,e){return gt(t-341,e)}const x=ut(t,d);x[y(570,488)]();const P=O("UZre",295);let C;s(i[N(1309,1298)](q(-235,"iy!W"),(t=>C=t)));const $=r`
    <br />
    If you are using trial version, please generate key
    <a href="https://gstc.neuronet.io/free-key" target="_blank">here</a>. Otherwise, please contact with your developer
    or send mail to us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
  `,W=r`
    <div class="gstc-error">
      <div style="font-weight: bold;margin-bottom:10px;">[ Connection error ]</div>
      An error occurred while trying to connect with license services for
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar" target="_blank"
        >gantt-schedule-timeline-calendar</a
      >
      component.<br /><br />
      If you are using <span class="gstc-code">Content-Security-Policy</span> header make sure you have added
      <span class="gstc-code">https://gstc.neuronet.io</span> address after space.<br />
      Example: <span class="gstc-code">Content-Security-Policy: connect-src self https://gstc.neuronet.io</span><br />
      More info
      <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank"
        >here</a
      >
      and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank">here</a><br /><br />
      If that doesn't help please contact your developer, search for similar
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar/issues">issues here</a> or create one. You
      can also contact us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
    </div>
  `;function I(t,e){return mt(t-214,e)}function G(t,e){return gt(e-111,t)}function M(t,e){return gt(t- -471,e)}const S=r`
    <div class="gstc-error">
      <div style="font-weight:bold; margin-bottom: 10px;">
        The gantt-schedule-timeline-calendar component will not work with local files (protocol file: ///)
      </div>
      <br /><br />
      Files needs to be served from http server like
      <a href="https://www.npmjs.com/package/http-server" target="_blank" rel="nofollow">http-server</a> or
      <a href="https://www.npmjs.com/package/sirv-cli" target="_blank" rel="nofollow">sirv-cli</a>
    </div>
  `,z=[];let L,R;function T(t,e){return mt(t- -923,e)}function O(t,e){return mt(e-72,t)}z[G(534,476)](i[O("1A!1",383)](y(671,784),(t=>L=t))),z[M(-106,-132)](i[T(-710,"uRUr")](q(-301,"698I"),(t=>R=t)));const A=l(L);s((()=>{var t,e;A&&A[(t=-291,e=-360,y(e- -1138,t))]()}));const k=l(R);function N(t,e){return gt(t-959,e)}s((()=>{var t,e;k&&k[(t=-328,e=-239,y(e- -1017,t))]()})),s((()=>{var t,e;z[(t=1115,e=1063,M(t-1306,e))]((t=>t()))}));const{onDestroy:H,state:V,update:E,html:B,unsafeHTML:j}=t;var F=!0;const Y=B`<strong>[gantt-schedule-timeline-calendar component]</strong><br /><br />`;function _(t,e=""){const a=it(430- -862,409);var o,i;return B` <div class="${a}">${Y}${t}${e?B`<br />${typeof e===(o=-60,i=-2,N(o- -1389,i))?j(e):e}`:null}</div> `}function U(t){return c(this,void 0,void 0,(function*(){function a(t,e){return gt(t-615,e)}function s(t,e){return mt(t-917,e)}function n(t,e){return gt(e- -238,t)}function l(t){function e(t,e){return gt(e-399,t)}return(t=String(t))[e(704,801)]((a=1137,o=1089,gt(a-713,o)),"")[e(689,801)](gt(308-2,276),"");var a,o}function r(t){const e=(t=l(t))[(a=-262,o=-320,gt(a- -498,o))](":");var a,o,i,s;function n(t,e){return mt(t- -160,e)}function r(t,e){return gt(t- -396,e)}function c(t,e){return mt(e-702,t)}e>-1&&(t=t[(i="%[dx",s=-372,mt(s- -758,i))](0,e));const d=m(t);return d[n(224,"0VTF")]===g[n(106,"OcaS")]&&d[r(-86,-204)]&&d[r(-3,-106)]&&(t=d[c("lX^X",1035)]+"."+d[(h=-343,u=-344,gt(u- -737,h))][c("Fabn",1030)](".")),t;var h,u}function c(t,e){return mt(e-452,t)}let d=location[c("C5V)",790)];function v(t,e){return mt(t- -648,e)}const b=function(){function t(t,e){return mt(e-389,t)}if(void 0!==location[(e="(3[I",a=524,mt(a-261,e))])return[...location[t("kGXV",753)]];var e,a;const o=[];let i=window;function s(t,e){return gt(e-657,t)}for(;i!==window[t("@E5R",671)];){if(i[s(885,994)][s(802,917)])try{const e=new URL(i[s(997,994)][t("Fabn",593)]);o[(d=-600,h=-488,gt(h- -853,d))](e[(r=492,c=536,gt(c-210,r))])}catch(t){}i=i[(n=1074,l="fnNF",mt(n-780,l))]}var n,l,r,c,d,h;return o}();function y(t,e){return mt(t- -635,e)}if(i[s(1381,"oID0")](v(-189,"Ft2#"),[d,...b]),b[s(1383,"IiEQ")]&&(d=String(b[b[y(-221,"(3[I")]-1])),d[M(842,903)](y(-210,"lX^X")))return F=!1,void(D=S);if(d=l(d),t[v(-244,"sJb6")](c("fnNF",757))){let l,h,u;if(e&&e[M(954,959)]&&typeof e[x(-224,-233)]===n(82,27))h=yield e[n(253,160)]()[s(1312,"Ft2#")]((t=>{F=!1;const e=c("X*hn",1166-390);l=_(e)}));else{F=!1;const t=c("%[dx",721);l=_(t)}if(l)return F=!1,void(D=l);try{const e=y(-272,"&zDm");u=h[c("@lDk",851)](t,e)}catch(t){F=!1;const e=M(989,848);return void(D=_(e,t[G(-469,-337)]))}if(!u.ok){F=!1;const t=y(-250,"C5V)");return void(D=_(t,u[a(1072,1e3)]))}const m=u[v(-309,"vnhu")];if(i[n(166,32)](n(58,-32),m),m[C(159,"Dy!x")][G(-565,-590)]!==v(-203,"S5^d")){F=!1;const t=x(-348,-302);return void(D=_(t))}const g=o[y(-246,"*G5I")][M(1035,930)]()[s(1276,"X*hn")]();if(m[v(-241,"SH!S")][y(-363,"0VTF")]<g){F=!1;const t=y(-418,"LQ*E");return void(D=_(t))}if(m[y(-387,"%[dx")][s(1400,"Dy!x")]){d=r(d);const t=b[x(-192,-130)]((t=>r(t)));if(t[y(-323,"S5^d")])for(const e of m[s(1340,"698I")][a(849,794)]){const o=e[n(141,145)](">")[a(956,859)]()[y(-333,"EgL]")]((t=>r(t))),i=o[M(1031,1060)](),l=r(location[c("Dy!x",672)]);if(!o[s(1339,"%[dx")]||!t[v(-260,"kGXV")]||o[c("Ft2#",834)]!==t[n(0,13)]||l!==i)continue;let d=0,h=0;for(const e of o){e===t[h]&&d++,h++}if(d===b[s(1260,"OcaS")])return}}if(!m[n(52,40)][a(849,852)][c("uI^^",814)](d)){let t=!1;for(const e of m[s(1394,"[L!i")][c("[L!i",784)])if(e[M(973,846)](".*")){const o=e[C(350,"S5^d")](0,e[a(851,784)](".*")+1);if(d[y(-183,"lX^X")](o)){t=!0;break}}if(!t){F=!1;const t=M(935,1068)+d+"'.";return void(D=_(t,v(-181,"C5V)")+m[x(-344,-206)][M(790,752)][c("RJg9",685)](", ")+C(149,"698I")))}}if(!m[y(-230,"*G5I")][C(132,"*G5I")][G(-668,-623)]){if(i[M(987,880)](a(1085,1187))[y(-222,"R@IS")](".")[0]!==m[x(-322,-257)][G(-534,-659)][G(-543,-558)](".")[0]){F=!1;const t=x(-188,-132);return void(D=_(t))}}return}function x(t,e){return gt(t- -622,e)}const P=G(-707,-600);function C(t,e){return mt(t- -100,e)}const I=n(11,129);function G(t,e){return gt(t- -926,e)}function M(t,e){return gt(t-556,e)}const z=w;if(t){if(t[x(-336,-436)](n(-90,51)))return function(){function e(t,e){return n(e,t- -25)}let o=null;function l(t,e){return a(t- -182,e)}function r(t,e){return y(t-1142,e)}try{const a=t[u(-531,-469)](5),s=h[w(242,"vaD[")](a,P)[w(144,"Fabn")](f);o=JSON[w(337,"S5^d")](s),o&&i[x("iy!W",824)](v(477,357),{for:o[e(-23,81)],domains:[...o[u(-354,-463)]],type:Object[r(961,"OcaS")]({},o[e(-38,24)]),validUntil:Object[u(-210,-281)]({},o[l(724,789)])})}catch(t){}if(!o||!o[r(981,"vnhu")]||!o[x("*G5I",857)][v(548,641)]){F=!1;const t=u(-490,-481);return void(D=_(t,$))}function u(t,e){return a(e- -1312,t)}if(!o[v(665,703)]){F=!1;const t=e(117,141);return void(D=_(t,$))}function w(t,e){return c(e,t- -562)}function v(t,e){return n(e,t-509)}const b=function(t){const e=Object[(a=923,o="Dy!x",c(o,a-22))]({},t);var a,o,i,s,n,l,r,d;return delete e[(i=-446,s=-488,G(i-86,s))],delete e[(r="%[dx",d=-486,C(d- -604,r))],JSON[(n=799,l=891,M(l-38,n))](e)}(o);if(!function(t,e){if(!t||!e)return!1;const a=new z({});return a[(s=523,n="Fabn",c(n,s- -232))](I),a[(o=1141,i=1099,G(o-1760,i))](e,t,p);var o,i,s,n}(o[u(-388,-303)],b)){F=!1;const t=e(95,213);return void(D=_(t,$))}function x(t,e){return s(e- -389,t)}const W=(new Date)[S(1396,1394)]();if(o[v(562,458)][w(163,"lX^X")]<W){F=!1;const t=x("1A!1",738);D=_(t,$)}else{if(o[v(496,539)][r(908,"OcaS")]===v(516,375)||o[S(1158,1109)][r(980,"@lDk")]===w(244,"Dy!x")){const t=d[e(-27,-157)](":");t>-1&&(d=d[x("MX&S",813)](0,t));const a=m(d);a[S(1158,1185)]===g[u(-362,-306)]&&a[S(1243,1158)]&&a[e(130,223)]&&(d=a[w(318,"EgL]")]+"."+a[L("SH!S",474)][L("iy!W",605)]("."))}if(o[r(839,"[L!i")][l(704,660)](d));else{F=!1;const t=w(136,"UZre")+d+w(185,"698I");D=_(t,$)}}function S(t,e){return a(t-318,e)}function L(t,e){return c(t,e- -222)}}();const e=c("n[5H",913),l=encodeURIComponent,r=(new Date)[v(-446,"ihT!")](),w=h[v(-216,"@E5R")](r,P),b=C(272,"RJg9"),S=u(r+d,b,{keySize:16})[a(993,1117)](),L=[l(x(-416,-346))+"="+l(t),l(x(-202,-233))+"="+l(d),l(s(1124,"Fabn"))+"="+l(location[y(-214,"Dy!x")]),l(C(218,"EgL]"))+"="+l(w),l(c("uya#",690))+"="+l(e),l(x(-214,-105))+"="+l(navigator[G(-579,-557)])][s(1393,"oID0")]("&"),R=G(-566,-434);window[x(-387,-364)](R,{method:x(-282,-324),redirect:C(381,"sJb6"),headers:{"Content-Type":x(-302,-196)},body:L})[n(256,159)]((t=>{return 200!==t[(o=249,i=237,G(o-887,i))]&&(F=!1,D=W),t[(e="1A!1",a=-99,s(a- -1460,e))]();var e,a,o,i}))[G(-529,-543)]((a=>{function r(t,e){return s(e- -1212,t)}function h(t,e){return v(e-1422,t)}function u(t,e){return y(t-641,e)}function m(t,e){return G(t-1236,e)}function g(t,e){return n(e,t- -579)}function f(t,e){return c(t,e-10)}if(a&&a.ok)if(a[h("n[5H",1151)]&&a[g(-503,-509)]===S)F=!0,i[r("E8u@",36)](h("0VTF",1252),(()=>{function t(t,e){return g(t-1610,e)}function e(t,e){return g(e-1712,t)}var i,n;var l,r,c,d,h,u;function m(t,e){return s(t-360- -464,e)}return{registeredDomains:a[m(1028,"0VTF")],validUntil:{text:a[e(1277,1186)],value:o[m(1021,"X*hn")][e(1348,1374)](a[(h=-222,u=-89,g(u-437,h))])[t(1222,1256)]()},type:null!==(i=a[t(1018,938)])&&void 0!==i?i:{text:m(1228,"C5V)"),value:(c=-577,d=-588,g(c- -133,d))},for:null!==(n=a[(l=560,r=536,g(r-1113,l))])&&void 0!==n?n:""}}));else{F=!1;const o=r("1A!1",114);D=_(o,$);const i=g(-461,-360),s=[l(f("n[5H",903))+"="+l(t),l(g(-397,-406))+"="+l(d),l(m(603,724))+"="+l(location[r("1A!1",160)]),l(f("vA99",811))+"="+l(e),l((p=-14,w=15,M(w- -849,p)))+"="+l(String(a[f("IiEQ",715)])),l(u(322,"RJg9"))+"="+l(S),l(h("UZre",1180))+"="+l(navigator[u(289,"UZre")])][r("sJb6",108)]("&");window[m(545,473)](i,{method:m(650,703),redirect:g(-443,-392),headers:{"Content-Type":h("vA99",998)},body:s})}else if(a){F=!1;const t=j(a[u(310,"1A!1")][f("Fabn",815)](/\n/gi,r("EgL]",151)));let e=null;a[g(-549,-414)]&&(e=j(a[m(578,513)][u(281,"MX&S")](/\n/gi,g(-390,-313))));const o=f("oW9J",797);D=B` <div class="${o}"><strong>${Y} ${t}</strong><br />${e}<br />${$}</div> `}else F=!1,D=W;var p,w;E()}))[x(-222,-167)]((()=>{F=!1,D=W,E()}))}else{F=!1;const t=v(-350,"n[5H"),e=x(-330,-361);D=B` <div class="${e}">${Y} ${t}${$}</div> `}}))}H(V[q(-345,"uI^^")](it(1237,1132),(t=>{function e(t,e){return y(t-332,e)}var o,i;U(t)[e(1070,947)]((()=>{E()}))[(o=-773,i="OcaS",a(i,o- -555))]((t=>{F=!1;const a=e(280- -805,242);D=_(a),E()})),E()})));const Z={width:0,height:0};function q(t,e){return mt(t- -691,e)}const J={width:0,height:0};let X,K,Q,tt;function et(t){function e(t,e){return M(e- -94,t)}function a(t,e){return y(e- -844,t)}const o=t[n(78,"P1w2")];const s=t[n(90,"oW9J")];function n(t,e){return q(t-538,e)}var l,r;(Z[a(-348,-300)]!==o||Z[a(-124,-64)]!==s)&&(Z[(l=298,r=330,N(l- -864,r))]=o,Z[e(-166,-126)]=s,i[n(311,"oID0")](e(-132,-238),Z))}class at{constructor(t){var e,a,o,s;!X&&(X=new ResizeObserver((()=>{et(t)})),X[(o=1167,s="%[dx",I(o-587,s))](t),i[(e=-59,a=38,N(a- -1191,e))](y(893-253,830),t),et(t))}[N(1229,1199)](){}[N(1396,1283)](t){var e,o;X[(e="vaD[",o=1414,a(e,o-1415))](t)}}function ot(t){function e(t,e){return M(t- -175,e)}const a=t[(s=578,n="@E5R",T(s-1186,n))],o=t[h(325,363)];var s,n,l,r,c,d;function h(t,e){return N(e- -972,t)}(J[h(106,190)]!==a||J[e(-207,-134)]!==o)&&(J[e(-443,-353)]=a,J[(c="C5V)",d=458,O(c,d-63))]=o,i[(l=-537,r=-514,it(r- -1784,l))](G(543,631-149),J))}function it(t,e){return gt(t-1e3,e)}!C[O("uRUr",286)](at)&&C[I(533,"1A!1")](at);class st{constructor(t){function e(t,e){return M(t-1189,e)}var a,o;t=t[(a="C5V)",o=736,T(o-1358,a))],!K&&(K=new ResizeObserver((()=>{ot(t)})),K[e(1114,1251)](t),i[e(988,893)](y(-58- -638,83),t),ot(t))}[N(1229,1193)](){}[N(1396,1307)](t){var e,a,o,i;K[(o=19,i=103,N(o- -1219,i))](t[(e=1265,a="TM$y",I(e-600,a))])}}!C[a("ihT!",55)](st)&&C[y(706,715)](st),s((()=>{var t,e,o,i;K[(t=1078,e=1182,N(e- -61,t))](),X[(o=368,i="OcaS",a(i,o-427))]()})),s(i[T(-642,"ihT!")]([G(467,482),y(698,593)],(()=>{function t(t,e){return y(t-263,e)}function e(t,e){return a(t,e- -548)}function o(t,e){return q(t-95,e)}if(i[e("E8u@",-753)](y(746-48,707))){const a=i[t(1035,1045)](e("X*hn",-513));if(!a)return;i[o(-127,"uya#")](o(-148,"IiEQ"),(()=>{function e(t,e){return o(t-1273,e)}return a[e(1113,"uRUr")]-i[e(1019,"IiEQ")](t(537- -334,616))}))}}),{group:!0})),s(i[O("vaD[",359)](O("698I",314),(t=>{var e,a,o,i;function s(t,e){return O(t,e-473)}Q=t[(o="X*hn",i=443,q(i-786,o))][(e=-171,a=-33,N(e- -1595,a))],tt=t[s("kGXV",795)][s("@E5R",932)]})));const nt={handleEvent(t){const e=o[d("uI^^",416)](t);if(t[r(-158,-80)]||e.x){const t=e.x?e.x:e.y,n=o[d("C5V)",218)]();return void(t>0?o[r(217,101)](n[l(-292,-220)]+Q):o[c("ihT!",-160)](n[(i=277,s="uya#",a(s,i-360))]-Q))}var i,s;const n=o[d("vaD[",331)]();function l(t,e){return y(e- -825,t)}function r(t,e){return N(e- -1329,t)}function c(t,e){return I(e- -846,t)}function d(t,e){return a(t,e-433)}var h,u;e.y>0?o[l(-160,-175)](n[c("&zDm",-174)]+tt):o[(h=560,u=451,N(u- -817,h))](n[d("L*rs",340)]-tt)},passive:!0},lt=Object[G(620,527)](Object[M(-55,-47)]({},e),{api:o,state:i,componentName:P});v((t=>{for(const e in t)lt[e]=t[e]}));const rt=n[O("ihT!",441)](C,lt),ct=o[it(1345,1206)](M(-31,0),t,e);return s(ct[q(-435,"sJb6")]),()=>F?ct[it(1438,1395)](N(1412,1364),r`
            <div
              data-info-url="https://github.com/neuronetio/gantt-schedule-timeline-calendar"
              class=${x[I(649,"L*rs")]}
              style=${x[y(598,518)][G(457,571)]()}
              data-actions=${rt()}
              @wheel=${nt}
            >
              ${ct[T(-601,"n[5H")](q(-248,"@E5R"),r` ${A[a("TM$y",-91)]()}${k[T(-712,"Dy!x")]()} `)}
            </div>
          `):D}let wt;!function(t,e){function a(t,e){return gt(e- -505,t)}function o(t,e){return mt(t- -971,e)}function i(t,e){return gt(t-315,e)}function s(t,e){return gt(t-950,e)}function n(t,e){return gt(e-675,t)}const l=ft();function r(t,e){return mt(e-997,t)}for(;;)try{if(418526===-parseInt(n(1011,930))/1*(parseInt(i(628,728))/2)+-parseInt((c="IiEQ",d=51,mt(d- -300,c)))/3*(-parseInt(a(-252,-284))/4)+-parseInt(o(-650,"SH!S"))/5*(parseInt(r("vA99",1227))/6)+parseInt(r("lX^X",1238))/7*(parseInt(s(1305,1334))/8)+-parseInt(s(1176,1307))/9*(parseInt(r("TM$y",1249))/10)+-parseInt(i(562,580))/11*(-parseInt(o(-710,"&zDm"))/12)+-parseInt(a(-395,-278))/13*(-parseInt(n(936,880))/14))break;l.push(l.shift())}catch(t){l.push(l.shift())}var c,d}();const vt=new Array(32).fill(void 0);function bt(t){return vt[t]}vt.push(void 0,null,!0,!1);let Dt=vt.length;function yt(t){const e=bt(t);return function(t){t<36||(vt[t]=Dt,Dt=t)}(t),e}let xt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});xt.decode();let Pt=null;function Ct(){return null!==Pt&&Pt.buffer===wt.memory.buffer||(Pt=new Uint8Array(wt.memory.buffer)),Pt}function $t(t,e){return xt.decode(Ct().subarray(t,t+e))}function Wt(t){Dt===vt.length&&vt.push(vt.length+1);const e=Dt;return Dt=vt[e],vt[e]=t,e}let It=0,Gt=new TextEncoder("utf-8");const Mt="function"==typeof Gt.encodeInto?function(t,e){return Gt.encodeInto(t,e)}:function(t,e){const a=Gt.encode(t);return e.set(a),{read:t.length,written:a.length}};function St(t,e,a){if(void 0===a){const a=Gt.encode(t),o=e(a.length);return Ct().subarray(o,o+a.length).set(a),It=a.length,o}let o=t.length,i=e(o);const s=Ct();let n=0;for(;n<o;n++){const e=t.charCodeAt(n);if(e>127)break;s[i+n]=e}if(n!==o){0!==n&&(t=t.slice(n)),i=a(i,o,o=n+3*t.length);const e=Ct().subarray(i+n,i+o);n+=Mt(t,e).written}return It=n,i}let zt=null;function Lt(){return null!==zt&&zt.buffer===wt.memory.buffer||(zt=new Int32Array(wt.memory.buffer)),zt}async function Rt(t){const e={wbg:{}};e.wbg.__wbindgen_object_drop_ref=function(t){yt(t)},e.wbg.__wbindgen_string_new=function(t,e){return Wt($t(t,e))},e.wbg.__wbindgen_json_parse=function(t,e){return Wt(JSON.parse($t(t,e)))},e.wbg.__wbg_new_693216e109162396=function(){return Wt(new Error)},e.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,e){var a=St(bt(e).stack,wt.__wbindgen_malloc,wt.__wbindgen_realloc),o=It;Lt()[t/4+1]=o,Lt()[t/4+0]=a},e.wbg.__wbg_error_09919627ac0992f5=function(t,e){try{console.error($t(t,e))}finally{wt.__wbindgen_free(t,e)}},e.wbg.__wbindgen_throw=function(t,e){throw new Error($t(t,e))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:a,module:o}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const a=await t.arrayBuffer();return await WebAssembly.instantiate(a,e)}{const a=await WebAssembly.instantiate(t,e);return a instanceof WebAssembly.Instance?{instance:a,module:t}:a}}(await t,e);return wt=a.exports,Rt.__wbindgen_wasm_module=o,wt}var Tt=Object.freeze({__proto__:null,parse_license_key:function(t,e){var a=St(t,wt.__wbindgen_malloc,wt.__wbindgen_realloc),o=It,i=St(e,wt.__wbindgen_malloc,wt.__wbindgen_realloc),s=It;return yt(wt.parse_license_key(a,o,i,s))},default:Rt});
/**
 * Gantt-Schedule-Timeline-Calendar component
 *
 * @copyright NEURONET - Rafal Pospiech
 * @author    Rafal Pospiech <neuronet.io@gmail.com>
 * @module    gantt-schedule-timeline-calendar
 * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar
 * @link      https://gantt-schedule-timeline-calendar.neuronet.io
 * @version   3.33.7
 * @released  2022-08-03
 * @license   SEE LICENSE IN LICENSE FILE
 */
const Ot=async function(t={}){let{importHook:e,serverPath:a}=t,o=new URL("assets/43748c9e.wasm",import.meta.url).href;return null!=a&&(o=a+/[^\/\\]*$/.exec(o)[0]),null!=e&&(o=e(o)),await Rt(o),Tt};function At(t){const e=t.state,a=new M(e),o={treeMap:{},itemRowMap:{},list:{visibleRows:[],rowsIds:[],rows:{},visibleRowsHeight:0,rowsWithParentsExpanded:[],rowsHeight:0,width:0},dimensions:{width:0,height:0},chart:{items:{},grid:{cells:{},rows:{}},dimensions:{width:0,widthWithoutScrollBar:0,height:0,innerHeight:0,heightWithoutScrollBar:0},visibleItems:[],time:{zoom:0,format:{period:"day",periodIncrement:1,zoomTo:0,format:()=>""},level:0,levels:[],currentZoomLevelFormatting:[],allDates:[],timePerPixel:0,totalViewDurationMs:0,totalViewDurationPx:0,leftGlobal:0,rightGlobal:0,leftPx:0,rightPx:0,period:"day",leftGlobalDate:void 0,rightGlobalDate:void 0,centerGlobal:0,centerGlobalDate:void 0,from:0,to:0,fromDate:void 0,toDate:void 0,autoExpandTimeFromItems:!1,datesCache:{timePerPixel:0,levels:[]}},allItemsOnTheLeftOrRight:!1},scroll:{horizontal:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,dataId:"",data:null,preciseOffset:0,visible:!1,percent:0},vertical:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,dataId:"",data:null,preciseOffset:0,visible:!1,percent:0}},elements:{},initializedPlugins:new Set};"boolean"==typeof t.debug&&t.debug&&(globalThis.state=e),e.update("",(t=>({config:t.config,$data:o})));const i=v(e,a),s=i.lithtml;a.setVido(i),a.setMergeDeep(d);const n=i.createApp({component:pt,props:{wasmInitialized:Ot},element:t.element}),l=n.vidoInstance.api;const r={state:e,api:l,component:n,destroy:function(){n.destroy(),e.destroy()},reload:function(){r.component.destroy(),r.component=i.createApp({component:pt,props:{wasmInitialized:Ot},element:t.element}),r.api=n.vidoInstance.api,r.component.update()},lithtml:s,Vido:v};return r}const kt=document.createTextNode("");document.createTextNode=function(t){const e=kt.cloneNode(!0);return e.textContent=t,e}.bind(document);const Nt=document.createElement("div"),Ht=document.createElement.bind(document);document.createElement=function(t,...e){if("div"!==t)return Ht(t,...e);return Nt.cloneNode(!0)}.bind(document),At.api=dt,At.lithtml=n,At.Vido=v;export{At as default};