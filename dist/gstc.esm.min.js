import{d as t,u as e,S as o,A as s,h as i,l as a,v as n,D as l,_ as r,m as c,p as d,P as u,a as h,b as m,c as g,J as f,e as p,V as w}from"./vendor.esm.min.js";class v{constructor(o,s){this.utcMode=!1,this.unsubs=[],this.state=o,this.api=s,this.unsubs.push(o.subscribe("config.utcMode",(o=>{this.utcMode=o,this.utcMode?(t.extend(e),this.dayjs=t.utc):this.dayjs=t}))),this.locale=o.get("config.locale"),this.resetCurrentDate(),t.locale(this.locale,null,!0)}destroy(){for(const t of this.unsubs)t()}resetCurrentDate(){const e=t();this.currentDate={timestamp:e.valueOf(),second:e.startOf("second"),minute:e.startOf("minute"),hour:e.startOf("hour"),day:e.startOf("day"),week:e.startOf("week"),month:e.startOf("month"),year:e.startOf("year")}}date(t){return void 0!==t?this.dayjs(t).locale(this.locale.name):this.dayjs().locale(this.locale.name)}addAdditionalSpace(t){if(!t.additionalSpaceAdded&&t.additionalSpaces&&t.additionalSpaces[t.period]){t.additionalSpaceAdded=!0;const e=t.additionalSpaces[t.period];e.before&&(t.from=this.date(t.from).subtract(e.before,e.period).valueOf()),e.after&&(t.to=this.date(t.to).add(e.after,e.period).valueOf()),t.additionalSpaceAdded=!0}return t}recalculateFromTo(t){const e=t.period;(t=Object.assign({},t)).from=+t.from,t.to=+t.to,t.fromDate=this.date(t.from),t.toDate=this.date(t.to).endOf(e);let o=Number.MAX_SAFE_INTEGER,s=0;const i=this.state.get("config.chart.items");if(Object.keys(i).length>0&&(0===t.from||0===t.to)){for(const t in i){const e=i[t];e.time.start<o&&e.time.start&&(o=e.time.start),e.time.end>s&&(s=e.time.end)}0===t.from&&(t.from=this.date(o).startOf(e).valueOf()),0===t.to&&(t.to=this.date(s).endOf(e).valueOf()),t.fromDate=this.date(t.from),t.toDate=this.date(t.to).endOf(e)}return t.from=t.fromDate.startOf(e).valueOf(),t.to=t.toDate.endOf(e).valueOf(),t.additionalSpaceAdded||((t=this.addAdditionalSpace(t)).additionalSpaceAdded=!0),t}getCenter(t){return t.leftGlobal+Math.round((t.rightGlobal-t.leftGlobal)/2)}isInCurrentView(t,e=this.state.get("$data.chart.time")){const o=t.valueOf();return!(o<=e.leftGlobal||o>=e.rightGlobal)}getGlobalOffsetPxFromDates(t,e=this.state.get("$data.chart.time")){const o=t.valueOf();if(!e.allDates||0===e.allDates.length)return-100;const s=e.allDates[e.level],i=this.state.get("$data.scroll.horizontal.preciseOffset");if(!s)return-1;let a;for(let t=0,e=s.length;t<e;t++){const e=s[t];if(o<=e.rightGlobal){a=e;break}}return a?o<a.leftGlobal?a.leftPx+i:a.rightPx-(a.rightGlobal-o)/e.timePerPixel+i:o<=e.leftGlobal?0:o>=e.rightGlobal?e.totalViewDurationPx+(o-e.rightGlobal)/e.timePerPixel+i:-1}getViewOffsetPxFromDates(t,e=!0,o=this.state.get("$data.chart.time")){const s=this.getGlobalOffsetPxFromDates(t,o)-o.leftPx;return e&&this.limitOffsetPxToView(s),s}limitOffsetPxToView(t,e=this.state.get("$data.chart.time")){if(t<0)return 0;if(!e.levels.length)return e.width;const o=e.levels[e.level];if(!o.length)return e.width;const s=o[o.length-1];return t>s.currentView.rightPx?s.currentView.rightPx:t}findDateAtViewOffsetPx(t,e){return e.find((e=>e.currentView.rightPx>=t))}findDateAtTime(t,e){if(!e){const t=this.state.get("$data.chart.time");e=t.allDates[t.level]}return e.find((e=>e.rightGlobal>=t))}getMainDateFromRelativePosition(t,e){const o=t.leftPx+e,s=this.state.get("$data.chart.time"),i=s.allDates[s.level];for(const t of i)if(t.rightPx>=o)return t}getTimeFromOffsetPx(t,e=!0,o=this.state.get("config.chart.time")){let s=t;if(e){const t=this.state.get("$data.scroll.horizontal");s+=o.leftPx-t.preciseOffset}const i=o.allDates[o.level];if(s<0){let t,e=o.fromDate.subtract(1,o.period),i=0;for(let a=0;a<1e3;a++){const a=this.generatePeriodDates({leftDate:e,rightDate:e.add(1,o.period),period:o.period,time:o,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!1});if(a.length&&(t=a[0],i-=t.width,i<=s))return t.leftGlobal+(s-i)*o.timePerPixel;e=e.subtract(1,o.period).startOf(o.period)}}else if(s>o.totalViewDurationPx){let t,e,i=o.toDate.startOf("day").add(1,"day"),a=o.rightPx;for(let n=0;n<1e3;n++){const n=this.generatePeriodDates({leftDate:i,rightDate:i.add(1,o.period),period:o.period,time:o,level:this.state.get(`config.chart.calendarLevels.${o.level}`),levelIndex:o.level,callOnDate:!0,callOnLevelDates:!1});if(n.length&&(t=n[0],a+=t.width,a>=s))return e&&(t=e),t.rightGlobal-(a-s)*o.timePerPixel;i=i.add(1,o.period).startOf(o.period),e=t}}for(let t=0,e=i.length;t<e;t++){const e=i[t];if(e.rightPx>s){return e.rightGlobal-(e.rightPx-s)*o.timePerPixel}}return 0}getCurrentFormatForLevel(t,e){return t.find((t=>+e.zoom<=+t.zoomTo))}generatePeriodDates({leftDate:t,rightDate:e,period:o,level:s,levelIndex:i,time:a,callOnDate:n,callOnLevelDates:l}){if(!a.timePerPixel)return[];const r=this.getCurrentFormatForLevel(s,a);let c=0;t=t.startOf(o),e=e.endOf(o);const d=Math.ceil(e.diff(t,o,!0));let u=[];const h=t.clone();for(let n=0;n<d;n++){let n=r.periodIncrement;n||(n=1),"function"==typeof n&&(n=n({currentDates:u,date:t,leftDate:h,rightDate:e,period:o,level:s,levelIndex:i,time:a,vido:this.api.vido,api:this.api}));const l=t.add(n-1,o).endOf(o);if(l.valueOf()>e.valueOf())break;const d={leftGlobal:t.valueOf(),leftGlobalDate:t,rightGlobalDate:l,rightGlobal:l.valueOf(),width:0,leftPx:0,rightPx:0,period:o,formatted:null,current:t.valueOf()===this.currentDate[o].valueOf(),previous:t.add(1,o).valueOf()===this.currentDate[o].valueOf(),next:t.subtract(1,o).valueOf()===this.currentDate[o].valueOf()},m=d.rightGlobal-d.leftGlobal;d.width=m/a.timePerPixel,d.leftPx=c,c+=d.width,d.rightPx=c,u.push(d),t=t.add(n||1,o)}if(n)for(let t=0,e=a.onDate.length;t<e;t++)u=u.map((e=>a.onDate[t]({date:e,format:r,time:a,level:s,levelIndex:i}))).filter((t=>null!==t));if(l)for(let t=0,e=a.onLevelDates.length;t<e;t++)u=a.onLevelDates[t]({dates:u,format:r,time:a,level:s,levelIndex:i});return u}getDatesDiffPx(t,e,o,s=!0){if(t.valueOf()===e.valueOf())return 0;const i=o.allDates[o.level];if(0===i.length)return 0;let a=0,n=!1;if(e.valueOf()<t.valueOf()){const o=t;t=e,e=o,n=!0}let l=[...i];if(t.valueOf()<i[0].leftGlobal){const e=i[0].period,s=o.level,a=this.state.get(`config.chart.calendarLevels.${s}`);l=[...this.generatePeriodDates({leftDate:t,rightDate:i[0].leftGlobalDate,period:e,level:a,levelIndex:s,time:o,callOnDate:!0,callOnLevelDates:!1}),...l]}const r=i[i.length-1].leftGlobalDate;if(e.valueOf()>r.valueOf()){const t=i[0].period,s=o.level,a=this.state.get(`config.chart.calendarLevels.${s}`),n=this.generatePeriodDates({leftDate:e,rightDate:r,period:t,level:a,levelIndex:s,time:o,callOnDate:!0,callOnLevelDates:!1});l=[...l,...n]}const c=this.state.get(`config.chart.calendarLevels.${o.level}`),d=this.getCurrentFormatForLevel(c,o);for(const t of o.onLevelDates)l=t({dates:l,time:o,format:d,level:c,levelIndex:o.level});let u,h,m=!1;for(const o of l)if(o.rightGlobal>t.valueOf()&&o.leftGlobal<=t.valueOf()&&(m=!0,h=o),m&&(a+=o.width),o.rightGlobal>=e.valueOf()){u=o;break}if(s){const s=h?h.leftGlobal:t.valueOf(),i=t.valueOf()-s,l=((u?u.rightGlobal:e.valueOf())-e.valueOf()+i)/o.timePerPixel;return n?-(a-l):a-l}return n?-a:a}getLeftViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length)return null;const e=t.levels[t.level];return e.length?e[0]:null}getRightViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length||!t.levels[t.level])return null;const e=t.levels[t.level];return e.length?e[e.length-1]:null}getLowerPeriod(t){switch(t){case"year":return"month";case"month":return"week";case"week":return"day";case"day":return"hour";case"hour":return"minute";case"minute":return"second";case"second":return"millisecond";default:return t}}getHigherPeriod(t){switch(t){case"month":return"year";case"week":return"month";case"day":return"week";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second";default:return t}}}var b=new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return`gstcid-${t}`}isGSTCID(t){return t.startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substr(7):t}};class y extends o{constructor(t,e,o){super(e,o),this.subs=[],this.name=t,this.subs.push(e.state.subscribe(`config.slots.${t}`,this.setComponents,{queue:!0}))}destroy(){this.subs.forEach((t=>t())),super.destroy()}getName(){return this.name}}function x(t,e,o){return new y(t,e,o)}const W="gstc";function D(t,e=""){let o=`gstc__${t}`;return t===W&&(o=W),e?`${o} ${o}--${e.replace(":","-")}`:o}function P(t,e){let o=`gstc__${t}`;return t===W&&(o=W),`${o}--${e}`}let C=0;const $=new Map;function S(t){return $.get(t.apiId)}class M{constructor(t){this.apiId=0,this.name=W,this.debug=!1,this.plugins={},this.pluginsPositions=new Set,this.iconsCache={},this.unsubscribes=[],this.mutedMethods=new Set,this.mergeDeep=null,this.generateSlots=x,this.getClass=D,this.getId=P,this.GSTCID=b.GSTCID,this.isGSTCID=b.isGSTCID,this.sourceID=b.sourceID,this.allActions=[],this.keysToKeep=["id","parents","children","allChildren","parentId"],this.apiId=++C,$.set(this.apiId,{rowsDataWithParentsExpanded:[],rowsIdsWithParentsExpanded:[],rowsWithParentsExpanded:[],rowsWithParentsExpandedAsMap:new Map,rowsPositionsMap:{id:"",dataIndex:0,keys:[]},allRowsIds:[],allRowsAsArray:[],rowsWithParentsExpandedDataIndexMap:new Map,itemsAsArray:[],itemsDataAsArray:[]}),this.state=t,this.time=new v(this.state,this),this.unsubscribes.push(this.state.subscribe("config.debug",(t=>this.debug=t))),this.debug&&(window.state=t)}render(){return this.vido.update()}getListenerPosition(t){for(const e of this.state.getListeners().values())for(const o of e.listeners)if(o[1].fn===t)return o[0]}setVido(t){this.vido=t}setMergeDeep(t){this.mergeDeep=t}log(...t){this.debug&&console.log.call(console,...t)}pluginInitialized(t){this.pluginsPositions.add(t)}pluginDestroyed(t){this.pluginsPositions.delete(t)}clearPluginsPositions(){this.pluginsPositions.clear()}isPluginInitialized(t){return this.pluginsPositions.has(t)}getPluginPosition(t){return[...this.pluginsPositions].indexOf(t)}getPluginsPositions(){const t={};let e=0;for(const o of this.pluginsPositions)t[o]=e++;return t}isPluginInitializedBefore(t,e){return this.getPluginPosition(t)<this.getPluginPosition(e)}getActions(t){this.allActions.includes(t)||this.allActions.push(t);let e=this.state.get("config.actions."+t);return void 0===e&&(e=[]),e.slice()}isItemInViewport(t,e,o){if(!e||!o){const t=this.state.get("config.chart.time");e=t.leftGlobal,o=t.rightGlobal}return t.time.start<=o&&t.time.end>=e}getChildrenLinkedItemsIds(t,e,o=[]){const s=e[t];if(s.linkedWith&&s.linkedWith.length){o.includes(t)||o.push(t);for(const t of s.linkedWith){if(o.includes(t))continue;o.push(t);const s=e[t];s.linkedWith&&s.linkedWith.length&&this.getChildrenLinkedItemsIds(t,e,o)}}return o}collectAllLinkedItems(t,e){for(const o in t){const s=t[o];e[s.id].linkedWith=s.linkedWith||[]}const o=new Map;for(const t in e){if(o.has(t))continue;const s=this.getChildrenLinkedItemsIds(t,e);e[t].linkedWith.splice(e[t].linkedWith.length,0,...s);const i=Array.from(new Set(e[t].linkedWith));e[t].linkedWith=i.filter((e=>e!==t)),o.set(t,!0);for(const t of i)e[t].linkedWith=i.filter((e=>e!==t)),o.set(t,!0)}}getChildrenDependantItemsIds(t,e,o=[]){if(t.dependant&&t.dependant.length)for(const s of t.dependant){if(o.includes(s))continue;o.push(s);const i=e[s];if(!i)throw new Error(`Dependant item not found [id:'${s}'] found in item [id:'${t.id}']`);i.dependant&&i.dependant.length&&this.getChildrenDependantItemsIds(i,e,o)}return o}calculateItemVerticalPosition(t,e=null,o=null,s=null){if(s||(s=this.getItem(t)),e||(e=this.getItemData(t)),o||(o=this.getRowData(s.rowId)),s.gap&&e||(this.prepareItem(s),e=this.getItemData(t)),!o)return e.position;const i=o.position.top+s.gap.top,a=e.position.rowTop+s.gap.top,n=this.getRowViewTop(o.id);let l=n+e.position.actualRowTop;return n===1/0?l=1/0:-1===n&&(l=-1),e.position.top=i,e.position.actualRowTop=a,e.position.viewTop=l,e.position}calculateItemHorizontalPosition(t,e=null,o=null,s=this.state.get("$data.chart.time"),i=this.state.get("config.chart.spacing"),a=null){if(a||(a=this.getItem(t)),e||(e=this.getItemData(t)),o||(o=this.getRowData(a.rowId)),!o)return e.position;const n=e.time.startDate.valueOf()===a.time.start?e.time.startDate:this.time.date(a.time.start),l=e.time.endDate.valueOf()===a.time.end?e.time.endDate:this.time.date(a.time.end),r=this.time.getViewOffsetPxFromDates(n,!1,s),c=this.time.getViewOffsetPxFromDates(l,!1,s);i=i||0,e.position.left=r,e.position.actualLeft=this.time.limitOffsetPxToView(r,s),e.position.right=c,e.position.actualRight=this.time.limitOffsetPxToView(c,s),e.width=c-r-i,e.actualWidth=e.position.actualRight-e.position.actualLeft-i;const d=this.state.get("config.chart.item.minWidth");return"number"==typeof d&&e.actualWidth<d&&(e.actualWidth=d),e.position}calculateItemPosition(t,e=null,o=null,s=this.state.get("$data.chart.time"),i=this.state.get("config.chart.spacing"),a=null){return e||(e=this.state.get(`$data.chart.items.${t}`)),a||(a=this.state.get(`config.chart.items.${t}`)),o||(o=this.state.get(`$data.list.rows.${a.rowId}`)),this.calculateItemHorizontalPosition(t,e,o,s,i,a),this.calculateItemVerticalPosition(t,e,o,a),e.position}getItemPosition(t,e=null,o=null,s=this.state.get("$data.chart.time"),i=this.state.get("config.chart.spacing"),a=null){return a||(a=this.getItem(t)),e||(e=this.getItemData(t)),0===e.position.left&&0===e.position.right&&this.calculateItemPosition(t,e,o,s,i,a),e.position}getRow(t){return this.state.get(`config.list.rows.${t}`)}getRows(t){if(!t.length)return[];const e=this.getAllRows(),o=[];for(const s of t)e[s]&&o.push(e[s]);return o}getAllRows(){return this.state.get("config.list.rows")}getVisibleRowsId(){return this.state.get("$data.list.visibleRows")}getRowsData(){return this.state.get("$data.list.rows")}setRowsData(t){this.state.update("$data.list.rows",t)}getRowData(t){return this.state.get(`$data.list.rows.${t}`)}setRowData(t,e){this.state.update(`$data.list.rows.${t}`,e)}getItem(t){return this.state.get(`config.chart.items.${t}`)}getItems(t=[]){const e=[],o=this.getAllItems();for(const s of t)o[s]&&e.push(o[s]);return e}getAllItemsAsArray(){return S(this).itemsAsArray}getAllItemsDataAsArray(){return S(this).itemsDataAsArray}getAllItems(){return this.state.get("config.chart.items")}getItemData(t){return this.state.get(`$data.chart.items.${t}`)}getItemsData(){return this.state.get("$data.chart.items")}setItemData(t,e){this.state.update(`$data.chart.items.${t}`,(t=>{for(const o in e)t[o]=e[o];return t}))}setItemsData(t){this.state.update("$data.chart.items",t)}prepareDependantItems(t,e){return this.getChildrenDependantItemsIds(t,e).filter((e=>e!==t.id))}prepareItem(t,e=this.state.get("config.chart.item.height"),o=this.getItemsData(),s=this.getAllItems()){let i=t.id;i=String(i),t.id=i,o[t.id]||(o[t.id]={id:t.id,actualHeight:0,outerHeight:0,time:null,position:{left:0,actualLeft:0,right:0,actualRight:0,rowTop:t.rowTop||0,actualRowTop:t.actualRowTop||0,top:0,viewTop:0},width:-1,actualWidth:-1,detached:!1,linkedWith:[],dependant:this.getChildrenDependantItemsIds(t,s)}),t.time||console.error("There is something wrong with this item.",t),t.time.start=+t.time.start,t.time.end=+t.time.end,t.id=String(t.id);const a=this.state.get("config.chart.item");"number"!=typeof t.height&&(t.height=e),o[t.id].time={startDate:this.time.date(t.time.start),endDate:this.time.date(t.time.end)},o[t.id].actualHeight=t.height,void 0===t.overlap&&(t.overlap=a.overlap),"number"!=typeof t.top&&(t.top=0),t.gap||(t.gap={}),"number"!=typeof t.gap.top&&(t.gap.top=a.gap.top),"number"!=typeof t.gap.bottom&&(t.gap.bottom=a.gap.bottom),"number"!=typeof t.minWidth&&(t.minWidth=a.minWidth),o[t.id].outerHeight=o[t.id].actualHeight+t.gap.top+t.gap.bottom,o[t.id].position.actualRowTop=o[t.id].position.rowTop+t.gap.top}prepareItems(t){const e=this.state.get("config.chart.item.height"),o=this.getItemsData(),s=S(this);s.itemsAsArray.length=0,s.itemsDataAsArray.length=0;for(const i in t){const a=t[i];this.prepareItem(a,e,o,t),s.itemsAsArray.push(t[i]),s.itemsDataAsArray.push(o[i])}return this.collectAllLinkedItems(t,o),t}sortRowsByChildren(t,e={},o=this.state.get("config.list.rows"),s=this.state.get("$data.list.rows")){for(const i of t){const t=o[i],a=s[i],n=t.parentId&&e[t.parentId]||!t.parentId;!e[i]&&n&&(e[i]=t),a.children.length&&this.sortRowsByChildren(a.children,e,o,s)}return e}getSortableValue(t,e){return"string"==typeof t?e[t]:"function"==typeof t?t({row:e,vido:this.vido}):""}sortRowsByColumn(t,e=!0){const o=this.state.get("config.list.sort.compare");let s=this.getAllRows();const i=S(this);if(0===i.allRowsIds.length)return s;const a=i.allRowsAsArray;o?a.sort(o(t)):a.sort(((o,s)=>{const i=this.getSortableValue(t.sortable,o),a=this.getSortableValue(t.sortable,s);return"number"==typeof i?e?i-a:a-i:"string"==typeof i?e?i.localeCompare(a):a.localeCompare(i):void 0}));const n=a.map((t=>t.id)),l=this.getRowsData();for(const t of n){const e=l[t];e.children&&e.children.length&&e.children.sort(((t,e)=>n.indexOf(t)-n.indexOf(e)))}s=this.sortRowsByChildren(n),this.state.update("config.list.rows",s,{data:"sortRowsByColumn"});const r=this.getScrollTop();return this.setScrollTop(r.dataIndex,r.preciseOffset),s}fillEmptyRowValues(t){const e=this.state.get("config.list.row.height"),o=this.getRowsData();let s=0;for(let i in t){const a=t[i];let n=o[i];i=String(i),a.id=i,o[i]||(n={id:a.id,parentId:a.parentId,parents:[],children:[],allChildren:[],position:{top:0,bottom:0},items:[],actualHeight:0,outerHeight:0,parentsExpanded:!0,inView:!0}),"number"!=typeof a.height&&(a.height=e),n.actualHeight=a.height,"boolean"!=typeof a.expanded&&(a.expanded=!1),n.position.top=s,"object"!=typeof a.gap&&(a.gap={}),"number"!=typeof a.gap.top&&(a.gap.top=0),"number"!=typeof a.gap.bottom&&(a.gap.bottom=0),n.outerHeight=n.actualHeight+a.gap.top+a.gap.bottom,o[i]=n,s+=n.outerHeight}return t}itemsOnTheSameLevel(t,e){const o=this.getItemData(t.id),s=this.getItemData(e.id),i=o.position.rowTop+o.outerHeight,a=s.position.rowTop+s.outerHeight;return s.position.rowTop<=o.position.rowTop&&a>o.position.rowTop||(s.position.rowTop>=o.position.rowTop&&s.position.rowTop<i||s.position.rowTop>=o.position.rowTop&&a<i)}itemsOverlaps(t,e){return!!this.itemsOnTheSameLevel(t,e)&&(e.time.start>=t.time.start&&e.time.start<=t.time.end||(e.time.end>=t.time.start&&e.time.end<=t.time.end||(e.time.start>=t.time.start&&e.time.end<=t.time.end||e.time.start<=t.time.start&&e.time.end>=t.time.end)))}itemOverlapsWithOthers(t,e){for(let o=0,s=e.length;o<s;o++){const s=e[o],i=s.time.start&&t.time.start&&s.time.end&&t.time.end;if(t.id!==s.id&&this.itemsOverlaps(t,s)&&i)return s}return null}fixOverlappedItems(t){if(this.isMutedMethod("fixOverlapped"))return;if(0===t.length)return;let e=0;const o=this.getItemsData();for(const s of t){if(s.overlap)continue;const i=o[s.id];if(!i)continue;i.position.rowTop=s.top,i.position.actualRowTop=i.position.rowTop+s.gap.top;let a=this.itemOverlapsWithOthers(s,t);if(e&&a){const e=this.getItemData(a.id);for(;a=this.itemOverlapsWithOthers(s,t);)i.position.rowTop+=e.outerHeight,i.position.actualRowTop=i.position.rowTop+s.gap.top}e++}}makeChildren(t,e={parents:[]}){if("object"!=typeof t)return[];t.children||(t.children=[]),t.allChildren||(t.allChildren=[]),t.parents||(t.parents=[...e.parents]),t.parentId&&"undefined"!==t.parentId&&t.parents.push(t.parentId);for(const e in t)if("id"!==e&&"parentId"!==e&&"children"!==e&&"allChildren"!==e&&"parents"!==e){"undefined"!==e&&(t.children.push(e),t.allChildren.push(e));const o=t[e];if("object"!=typeof o)continue;const s=this.makeChildren(o,t);t.allChildren.splice(t.allChildren.length,0,...s)}return t.allChildren}clearNested(t){for(const e in t)"object"!=typeof t[e]||Array.isArray(t[e])||this.clearNested(t[e]),this.keysToKeep.includes(e)||delete t[e],"parentId"===e&&"undefined"===t[e]&&(t[e]=void 0);return t}fastTree(t,e=null){var o,s;if(!e){e={undefined:{},id:"undefined"};for(const s in t){const i=t[s];e[i.id]||(e[i.id]={parentId:null!==(o=i.parentId)&&void 0!==o?o:"undefined",id:i.id})}}for(const t in e){const o=e[t];e[null!==(s=o.parentId)&&void 0!==s?s:"undefined"][o.id]=o}this.makeChildren(e[void 0]),delete e[void 0],delete e.id,delete e.parents,delete e.children,delete e.allChildren;for(const t in e)e[t]=this.clearNested(e[t]);return e}updateItemRowMapForItem(t,e,o=this.state.get("$data.itemRowMap"),s=this.state.get("$data.list.rows")){if(!s[e])return;s[e].items||(s[e].items=[]);const i=o[t];i&&s[i]&&(s[i].items=s[i].items.filter((e=>e!==t))),o[t]=e,s[e].items.includes(t)||s[e].items.push(t)}makeTreeMap(t,e,o=!1){let s=this.state.get("$data.treeMap");if(!o||!s){s=this.fastTree(t);for(const e in t){const o=t[e],i=s[e];for(const t in i)o[t]=i[t]}}const i=this.state.get("$data.reloading")?{}:this.state.get("$data.itemRowMap");for(const t in e){const o=e[t];this.updateItemRowMapForItem(t,o.rowId,i)}return this.state.update("$data.itemRowMap",i),o||this.state.update("$data.treeMap",s),t}_updateRowsWithParentsExpandedCache(t){const e=S(this);e.rowsIdsWithParentsExpanded.length=0,e.rowsIdsWithParentsExpanded.splice(0,0,...t),e.rowsWithParentsExpanded.length=0,e.rowsDataWithParentsExpanded.length=0,e.rowsWithParentsExpandedDataIndexMap.clear();const o=this.state.get("config.list.rows"),s=this.state.get("$data.list.rows");e.rowsWithParentsExpandedAsMap.clear();let i=0;for(const t of e.rowsIdsWithParentsExpanded){const a=o[t];a&&(e.rowsWithParentsExpanded.push(a),e.rowsWithParentsExpandedAsMap.set(t,a),e.rowsDataWithParentsExpanded.push(s[t]),e.rowsWithParentsExpandedDataIndexMap.set(t,i),i++)}}generateRowsWithParentsExpanded(t){const e=[],o=this.getRowsData();t:for(const s in t){if(!o[s]||!o[s].parents)return[];for(const e of o[s].parents){const o=t[e];if(!o||!o.expanded)continue t}e.push(s)}return this._updateRowsWithParentsExpandedCache(e),e}getRowInfoFromTop(t){const e=this.state.get("config.list.rows"),o=this.state.get("$data.list.rows"),s=this.getRowPositionMapNode(t);return{dataIndex:s.dataIndex,row:e[s.id],rowData:o[s.id]}}getRowViewTop(t,e=this.state.get("$data.list.rows"),o=this.state.get("$data.scroll.vertical")){return e[t].position.top-o.absolutePosPx-o.preciseOffset}parentsExpanded(t){return S(this).rowsWithParentsExpandedAsMap.has(t)}setAllRowsIdsCache(t){const e=S(this);e.allRowsIds=t;const o=this.state.get("config.list.rows");e.allRowsAsArray.length=0;for(const s of t)e.allRowsAsArray.push(o[s])}recalculateRowHeight(t,e){if(!e||!t||!t.gap)return 0;let o=0;const s=this.getItemsData();if(!s)return 0;const i=this.getItems(e.items);this.fixOverlappedItems(i);for(const t of i){const e=s[t.id];o=Math.max(o,e.position.rowTop+e.outerHeight)}return o<t.height&&(o=t.height),e.actualHeight=o,e.outerHeight=e.actualHeight+t.gap.top+t.gap.bottom,e.outerHeight}calculateVisibleRowsHeights(){if(this.isMutedMethod("calculateVisibleRowsHeights"))return;const t=this.state.get("$data.list.visibleRows");let e=0;const o=this.getAllRows(),s=this.getRowsData();for(const i of t)e+=this.recalculateRowHeight(o[i],s[i]);this.state.update("$data.list.visibleRowsHeight",e)}getRealChartHeight(t=!0){const e=this.state.get("$data.scroll.vertical.preciseOffset")||0,o=t?this.state.get("config.innerHeight"):this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),s=this.state.get("config.additionalSpace");return o-s.top-s.bottom+-1*e}getLastRowId(t=S(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t[this.getLastRowIndex(t,e)]}getLastRowIndex(t=S(this).rowsIdsWithParentsExpanded,e=this.state.get("$data.scroll.vertical")){return t.length-e.lastPageCount}generateRowsPositionsMap(t,e=0,o={id:"",dataIndex:0,keys:[]}){if(0===t.length)return o;if(1===t.length)return o[t[0].position.top]={id:t[0].id,dataIndex:e,keys:[]},o.keys=[t[0].position.top],o;const s=Math.floor(t.length/2),i=e,a=e+s,n=t.slice(1,s),l=t.slice(s+1);o.keys.push(t[0].position.top),o.keys.push(t[s].position.top);const r=o[t[0].position.top]={id:t[0].id,dataIndex:i,keys:[]},c=o[t[s].position.top]={id:t[s].id,dataIndex:a,keys:[]};return this.generateRowsPositionsMap(n,i+1,r),this.generateRowsPositionsMap(l,a+1,c),o}getRowPositionMapNode(t,e=S(this).rowsPositionsMap){return t>=e.keys[1]?this.getRowPositionMapNode(t,e[e.keys[1]]):t>=e.keys[0]?this.getRowPositionMapNode(t,e[e.keys[0]]):e}measureRows(){if(this.isMutedMethod("measureRows"))return;const t=this.state.get("$data.scroll.vertical"),e=this.state.get("config.list.rows"),o=this.getRealChartHeight(),s=this.getRowsData(),i=S(this);if(void 0===t.dataIndex)return[];const a=this.state.get("$data.list.rowsIds");let n=0;if(t.data&&(n=i.rowsWithParentsExpandedDataIndexMap.get(t.data.id),-1===n)){const e=this.getLastRowId(i.rowsIdsWithParentsExpanded,t);n=i.rowsWithParentsExpandedDataIndexMap.get(e)}let l=0,r=0,c=0;for(let d=a.length;c<d;c++){const d=a[c],u=i.rowsWithParentsExpandedAsMap.has(d),h=this.getRowViewTop(d,s,t),m=c>=n&&h<=o,g=s[d];if(!g)return[];this.recalculateRowHeight(e[d],g),g.inView=m,g.parentsExpanded=u,g.position.top=l,r=l+g.outerHeight,g.position.bottom=r,u&&(l+=g.outerHeight)}return i.rowsPositionsMap=this.generateRowsPositionsMap(i.rowsDataWithParentsExpanded),this.state.update("$data.list.rows",s),this.state.update("$data.list.rowsHeight",r),this.state.update("$data.scroll.vertical.absoluteSize",r),r}getVisibleRows(){const t=this.state.get("$data.scroll.vertical"),e=S(this),o=e.rowsIdsWithParentsExpanded,s=this.getRowsData();if(!t.data)return[];const i=this.getRealChartHeight();if(!i)return[];let a=e.rowsWithParentsExpandedDataIndexMap.get(t.data.id);-1!==a&&void 0!==a||(a=o.length-t.lastPageCount);const n=[];let l,r;for(let e=a,c=o.length;e<c;e++){const a=o[e];if(s[a]&&(r=s[a],l=this.getRowViewTop(a,s,t),l>=0&&l<=i?(n.push(a),r.parentsExpanded=!0):r.parentsExpanded=!1,l>i))break}return n}normalizeMouseWheelEvent(t){let e=t.deltaX||0,o=t.deltaY||0,s=t.deltaZ||0;const i=t.deltaMode,a=this.state.get("config.list.rowHeight");let n=1;switch(i){case 1:a&&(n=a);break;case 2:n=window.height}return e*=n,o*=n,s*=n,{x:e,y:o,z:s,event:t}}resetHorizontalScroll(){const t=this.state.get("$data.scroll.horizontal");t.data=null,t.dataIndex=0,t.handlePosPx=0,t.absolutePosPx=0;const e=this.state.get("$data.chart.time");if(!e.allDates||!e.allDates.length)return;const o=e.allDates[e.level];if(!o||!o.length)return;const s=o[0];t.data=Object.assign({},s)}setScrollLeft(t,e=0){void 0===t&&(t=0);const o=this.state.get("$data.chart.time");if(!o.allDates||!o.allDates.length)return;const s=o.allDates[o.level];if(!s||!s.length)return;let i=s[t];i||(i=s[t=0]);let a=0;return this.state.update("$data.scroll.horizontal",(n=>{const l=o.allDates[o.level].length-n.lastPageCount;return t>l&&(i=s[t=l]),n.data=Object.assign({},i),a=i.leftPx-e,n.dataIndex=t,n.handlePosPx=a?Math.round(a/n.absoluteSizeWithoutLastPage*n.maxHandlePosPx):0,n.preciseOffset=e,n.handlePosPx>n.maxHandlePosPx&&(n.handlePosPx=n.maxHandlePosPx),n.absolutePosPx=a,n})),a}scrollToTime(t,e=!0){const o=this.state.get("$data.chart.time");if(!o.allDates)return 0;const s=this.time.findDateAtTime(t,o.allDates[o.level]);if(!s)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;let i=0,a=0;if(e){const e=this.state.get("$data.chart.dimensions.widthWithoutScrollBar")/2,n=this.time.getMainDateFromRelativePosition(s,-e);if(!n)return console.warn(`[gstc.api.scrollToTime] Time out of bounds (${t} -> ${this.time.date(t).format("YYYY-MM-DD HH:mm:ss")}).`),0;a=e-(s.leftPx-n.leftPx),i=o.allDates[o.level].indexOf(n)}else i=o.allDates[o.level].indexOf(s);if(-1===i)return 0;let n=0;return this.state.get("config.scroll.horizontal").precise&&(n=Math.round(a)),this.setScrollLeft(i,n)}getScrollLeft(){return this.state.get("$data.scroll.horizontal")}getScrollSize(t){const e=this.state.get("$data.chart.dimensions.widthWithoutScrollBar"),o=this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),s=this.state.get("config.additionalSpace");return"horizontal"===t?e:o-s.top-s.bottom}getLastPageDatesWidth(t,e){let o=0,s=0;if(0===e.length)return{lastPageSize:o,lastPageCount:s};for(let i=e.length-1;i>=0;i--){const a=e[i];if(o+=a.width,o>=t){o-=a.width;break}s++}return{lastPageSize:o,lastPageCount:s}}calculateInitialChartWidth(t=!1){const e=this.state.get("config.initialWidth"),o=this.state.get("config.list.columns.data");let s=0;for(const t in o){s+=o[t].width}let i=e-s;return t&&(i-=this.state.get("config.scroll.horizontal.width")||0),i}getChartWidth(t=!1){let e=t?this.state.get("$data.chart.dimensions.widthWithoutScrollBar"):this.state.get("$data.chart.dimensions.width");return e||(e=this.calculateInitialChartWidth(t)),e}calculateHorizontalScrollSize(){const t=this.state.get("$data.chart.time");if(!t.allDates.length)return;const e=t.allDates[t.level],o=e[e.length-1].rightPx,s=this.getChartWidth(!0),{lastPageSize:i,lastPageCount:a}=this.getLastPageDatesWidth(s,e),n=this.state.get("config.scroll.horizontal"),l=this.getScrollSize("horizontal");let r=i/o*l;r<n.minInnerSize&&(r=n.minInnerSize);const c=!(a===e.length||l===r),d=l?l-r:0;this.state.update("$data.scroll.horizontal",(t=>(t.absoluteSize=o,t.absoluteSizeWithoutLastPage=o-i,t.innerHandleSize=r,t.maxHandlePosPx=d,t.scrollSize=c?l:0,t.lastPageCount=a,t.lastPageSize=i,t.visible=c,t)))}getLastPageRowsHeight(t,e){let o=0,s=0;const i=this.state.get("config.additionalSpace"),a=t-i.top-i.bottom;if(0===e.length)return{lastPageSize:o,lastPageCount:s};const n=this.getRowsData();for(let t=e.length-1;t>=0;t--){const i=n[e[t]];if(o+=i.outerHeight,o>=a){o-=i.outerHeight;break}s++}return{lastPageSize:o,lastPageCount:s}}calculateVerticalScrollSize(){const t=this.state.get("$data.list.rowsWithParentsExpanded"),e=this.state.get("$data.list.rowsHeight"),o=this.state.get("$data.chart.dimensions.heightWithoutScrollBar"),{lastPageSize:s,lastPageCount:i}=this.getLastPageRowsHeight(o,t),a=this.state.get("config.scroll.vertical"),n=this.getScrollSize("vertical");let l=s/e*n;l<a.minInnerSize&&(l=a.minInnerSize);const r=!(i===t.length||n===l),c=n-l;this.state.update("$data.scroll.vertical",(o=>{if(o.absoluteSize=e,o.absoluteSizeWithoutLastPage=e-s,o.innerHandleSize=l,o.maxHandlePosPx=c,o.scrollSize=r?n:0,o.lastPageCount=i,o.lastPageSize=s,o.handlePosPx>c&&(o.handlePosPx=c),o.dataIndex>t.length-i){const e=this.getAllRows(),s=this.getRowsData();o.dataIndex=t.length-i;const a=t[o.dataIndex];e&&a?(o.data=e[a],o.absolutePosPx=s[a].position.top):(o.dataIndex=0,o.data=null,o.handlePosPx=0,o.absolutePosPx=0),o.preciseOffset=0}return o.visible=r,o}))}setScrollTop(t=0,e=0){const o=S(this),s=o.rowsIdsWithParentsExpanded;let i,a,n=0;if("string"==typeof t){const e=t;if(i=this.getRow(e),a=this.getRowData(i.id),this.parentsExpanded(e))n=s.indexOf(e);else for(const t of a.parents)this.parentsExpanded(t)&&(n=s.indexOf(t));if(!i)throw new Error(`Row with id: '${e}' not found. Maybe use GSTC.api.GSTCID(id) or check if row exists.`)}else{if("number"!=typeof t)throw new Error("[gstc.api.setScrollTop] Wrong dataIndex value. Must be `string` (for `rowId`) or `number` (for array index) only.");if(n=t,o.rowsWithParentsExpanded[n]||0===n||(n=0),!o.rowsWithParentsExpanded[n])return;i=o.rowsWithParentsExpanded[n],a=this.getRowData(i.id)}let l=0;return this.state.update("$data.scroll.vertical",(t=>{const s=o.rowsWithParentsExpanded.length-t.lastPageCount;return n>s&&(n=s,i=o.rowsWithParentsExpanded[n],a=this.getRowData(i.id)),l=a.position.top-e,t.data=o.rowsWithParentsExpanded[n],t.preciseOffset=e,t.handlePosPx=l?Math.round(l/t.absoluteSizeWithoutLastPage*t.maxHandlePosPx):0,t.handlePosPx>t.maxHandlePosPx&&(t.handlePosPx=t.maxHandlePosPx),t.dataIndex=n,t.absolutePosPx=l,t})),l}getScrollTop(){return this.state.get("$data.scroll.vertical")}getCurrentCalendarLevels(){return this.state.get("$data.chart.time.levels")}getGridCells(t){const e=this.state.get("$data.chart.grid.cells");if(!e)return[];if(void 0!==t){const o=[];for(const s of t)o.push(e[s]);return o}const o=[];for(const t in e){const s=e[t];o.push(s)}return o}getAllGridCells(){return this.state.get("$data.chart.grid.cells")}getGridRows(t){const e=this.state.get("$data.chart.grid.rows");return void 0!==t?e?Object.values(e).filter((e=>t.includes(e.row.id))):[]:e?Object.values(e):[]}getAllGridRows(){return this.state.get("$data.chart.grid.rows")}getGridCell(t){return this.state.get(`$data.chart.grid.cells.${t}`)}getGridRow(t){return this.state.get(`$data.chart.grid.rows.${t}`)}muteMethod(t){this.mutedMethods.add(t)}unmuteMethod(t){this.mutedMethods.delete(t)}isMutedMethod(t){return this.mutedMethods.has(t)}getSVGIconSrc(t){return"string"==typeof this.iconsCache[t]||(this.iconsCache[t]="data:image/svg+xml;base64,"+btoa(t)),this.iconsCache[t]}destroy(){for(const t of this.unsubscribes)t();this.unsubscribes=[],this.debug&&delete window.state}}function I(t,e){const{onDestroy:o,state:i,cache:a,api:n,html:l,StyleMap:r,Actions:c,update:d}=t,u="scroll-bar";let h,m,g="",f="";o(i.subscribe("config.classNames",(()=>{h=n.getClass(u),m=n.getClass("scroll-bar-inner")})));const p="horizontal"===e.type?"height":"width",w="height"===p?"width":"height",v="horizontal"===e.type?"left":"top",b=new r({}),y=new r({}),x={maxPosPx:0,innerHandleSize:0,sub:0,scrollSize:0};o(i.subscribeAll("horizontal"===e.type?[`config.scroll.${e.type}`,`$data.scroll.${e.type}`,"$data.chart.time"]:[`config.scroll.${e.type}`,`$data.scroll.${e.type}`,"$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsWithParentsExpanded","$data.list.rowsHeight","config.additionalSpace"],(function(){const t=i.get(`config.scroll.${e.type}`),o=i.get(`$data.scroll.${e.type}`),s=n.getScrollSize(e.type),a=o.innerHandleSize,l=o.maxHandlePosPx,r=i.get("config.additionalSpace"),c=i.get("config.chart.time");c.allDates&&c.allDates.length&&c.allDates[c.level]&&(o.visible?b.style.display="flex":b.style.display="none",b.style[p]=t.width+"px",b.style[w]=s+"px","vertical"===e.type&&(b.style.top=i.get("config.headerHeight")+r.top+"px"),o.lastPageSize&&o.absoluteSize&&s&&(y.style[p]="100%",y.style[w]=a+"px",function(t,e,o){const s=x.maxPosPx!==t||x.innerHandleSize!==e||x.scrollSize!==o;return s&&(x.maxPosPx=t,x.innerHandleSize=e,x.scrollSize=o),s}(l,a,s)&&("horizontal"===e.type?n.setScrollLeft(o.dataIndex,o.preciseOffset):n.setScrollTop(o.dataIndex,o.preciseOffset)),d()))}),{group:!0,bulkValue:!1}));let W=0;o(i.subscribe(`$data.scroll.${e.type}.handlePosPx`,(t=>{t!==W&&(y.style[v]=t+"px",W=t,d())})));const D=n.getActions(u);D.push(class extends s{constructor(t){super();const o=`$data.elements.scroll-bar--${e.type}`;i.get(o)||i.update(o,t,{only:null})}update(){}destroy(){}});const P={api:n,state:i,props:e,componentName:u},C=c.create(D,P),$=[class extends s{constructor(t){super(),this.moving=!1,this.initialPointerPos=0,this.initialHandlePos=0,this.currentPos=0,this.currentPointerPos=0,this.lastDataIndex=0,this.lastOffset=0,this.dataIndex=0,this.previousRowId="",i.update(`$data.elements.scroll-bar-inner--${e.type}`,t,{only:null}),this.bodyClassName=i.get("config.scroll.bodyClassName"),this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this);const o=this.pointerMove.bind(this);this.pointerMove=o,this.unsubscribe=i.subscribe(`$data.scroll.${e.type}`,this.dataChanged.bind(this)),this.destroy=this.destroy.bind(this),t.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove),document.addEventListener("pointerup",this.pointerUp)}destroy(t){this.unsubscribe(),t.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}dataChanged(){const t=i.get(`$data.scroll.${e.type}`),o=i.get("$data.chart.time");if(!o.allDates.length)return;const s=o.allDates[o.level],a=t.dataIndex;if(this.lastDataIndex=a,"horizontal"===e.type&&s&&s.length){const e=s[a];if(!e)return;if(this.lastDate&&this.lastDate.leftPx===e.leftPx)return;this.currentPos=this.limitPosition(e.leftPx/t.absoluteSizeWithoutLastPage*t.maxHandlePosPx),d()}else if("vertical"===e.type){const e=i.get("$data.list.rowsWithParentsExpanded");if(!e.length)return;const o=e[a],s=n.getRow(o),l=n.getRowData(o);if(!s)return;if(this.previousRowId===l.id)return;l.position.top&&t.absoluteSizeWithoutLastPage&&t.maxHandlePosPx&&(this.currentPos=Math.round(l.position.top/t.absoluteSizeWithoutLastPage*t.maxHandlePosPx)),d()}}limitPosition(t){return Math.max(Math.min(t,i.get(`$data.scroll.${e.type}.maxHandlePosPx`)),0)}pointerDown(t){t.stopPropagation(),t.preventDefault(),n.muteMethod("calculateRowsHeight"),document.body.classList.add(this.bodyClassName),requestAnimationFrame((()=>{this.moving=!0,this.initialPointerPos="horizontal"===e.type?t.screenX:t.screenY,this.initialHandlePos=i.get(`$data.scroll.${e.type}.handlePosPx`),f=" "+n.getClass(u)+"-inner--active",g=" "+n.getClass(u)+"--active",d()}))}pointerUp(t){this.moving&&(n.unmuteMethod("calculateRowsHeight"),t.preventDefault(),t.stopPropagation(),document.body.classList.remove(this.bodyClassName)),this.moving=!1,f="",g="",d()}pointerMoveRead(t){this.currentPointerPos="horizontal"===e.type?t.screenX:t.screenY}pointerMoveWrite(){const t=i.get(`config.scroll.${e.type}`),o=i.get(`$data.scroll.${e.type}`),s=this.currentPointerPos-this.initialPointerPos;this.currentPos=this.limitPosition(this.initialHandlePos+s);const a=i.get("$data.chart.time");if(!a.allDates.length)return;const l=a.allDates[a.level],r=this.currentPos/o.maxHandlePosPx,c=Math.round(r*o.absoluteSizeWithoutLastPage);if("horizontal"===e.type){let e,o=0,s=0,i=0;for(let t=l.length;o<t&&(e=l[o],i=Math.round(e.rightPx),!(i>c));o++);if(t.precise&&i!==c&&(s=Math.round(e.leftPx)-c),o||(o=0),this.dataIndex=o,o===this.lastDataIndex&&s===this.lastOffset)return;this.lastDate=l[o],n.setScrollLeft(o,s),this.lastDataIndex=o,this.lastOffset=s}else{const{dataIndex:e,row:o,rowData:s}=n.getRowInfoFromTop(c);let i=0;if(t.precise&&s.position.top!==c&&(i=s.position.top-c),this.dataIndex=e,e===this.lastDataIndex&&i===this.lastOffset)return;this.previousRowId=o.id,n.setScrollTop(e,i),this.lastDataIndex=e,this.lastOffset=i}}pointerMove(t){this.moving&&(t.stopPropagation(),t.preventDefault(),requestAnimationFrame((()=>{this.pointerMoveRead(t)})),requestAnimationFrame((()=>{this.pointerMoveWrite()})))}}],S=c.create($,P),M=n.generateSlots(u,t,e);function I({classNameOuter:t,classNameOuterActive:e,classNameInner:o,classNameInnerActive:s,styleMapInner:i,styleMapOuter:a,innerActions:n,outerActions:l,slots:r,cache:c,html:d,vido:u,props:h}){return c(!h||!h.type?null:r.html("outer",d`
              <div
                data-actions=${l()}
                class=${t+" "+t+"--"+h.type+e}
                style=${a.directive()}
              >
                ${r.html("inner",d`
                    <div
                      data-actions=${n()}
                      class=${o+" "+o+"--"+h.type+s}
                      style=${i.directive()}
                    >
                      ${r.html("content")}
                    </div>
                  `)}
              </div>
            `))}let z=I;return o(i.subscribe("config.templates.scroll-bar",(t=>{z=null!=t?t:I,d()}))),()=>z({innerActions:S,outerActions:C,classNameOuter:h,classNameOuterActive:g,classNameInner:m,classNameInnerActive:f,cache:a,styleMapInner:y,styleMapOuter:b,slots:M,html:l,vido:t,props:e})}function z(t,e={}){const{api:o,state:s,onDestroy:i,Actions:a,update:n,reuseComponents:l,html:r,StyleMap:c,cache:d}=t,u="list",h=o.getActions(u);let m,g;const f=Object.assign(Object.assign({},e),{list:m,percent:g,api:o,state:s,componentName:u});let p;const w=s.subscribe("config.components.ListColumn",(t=>p=t));!function(){const t=s.get("config.list.expander.icons"),e={};for(const s in t){const i=t[s];e[s]=o.getSVGIconSrc(i)}s.update("$data.list.expander.icons",e)}(),function(){const t={open:"",close:""},e=s.get("config.list.toggle.icons");for(const s in e){const i=e[s];t[s]=o.getSVGIconSrc(i)}s.update("$data.list.toggle.icons",t)}();const v=o.getClass(u),b=o.generateSlots(u,t,e);i(s.subscribe("config.list",(function(){m=s.get("config.list"),g=m.columns.percent,f.list=m,f.percent=g,n()})));const y=[];i(s.subscribe("config.list.columns.data",(function(t){const e=Object.values(t).filter((t=>!t.hidden)).sort(((t,e)=>"number"==typeof t.position&&"number"==typeof e.position?t.position-e.position:0));l(y,e,(t=>({column:t})),p,!0),n()})));const x=new c({height:"","--expander-padding-width":"","--expander-size":""});let W;function D(t){W||(W=t.offsetWidth,0===g&&(W=0),s.update("$data.list.width",W))}i(s.subscribeAll(["$data.height","config.list.expander"],(()=>{const t=s.get("config.list.expander");x.style.height=s.get("$data.height")+"px",x.style["--expander-padding-width"]=t.padding+"px",x.style["--expander-size"]=t.size+"px",n()}),{group:!0})),i((()=>{y.forEach((t=>t.destroy())),w()}));h.push(class{constructor(t,e){e.state.update("$data.elements.list",t),D(t)}update(t){return D(t)}});const P=a.create(h,f);function C({className:t,styleMap:e,list:o,listColumns:s,actions:i,slots:a,html:n,cache:l,vido:r,props:c}){return a.html("outer",l(o.columns.percent>0?n`
              <div class=${t} data-actions=${i()} style=${e.directive()}>
                ${a.html("content",s.map((t=>t.html())))}
              </div>
            `:""))}let $=C;return i(s.subscribe("config.templates.list",(t=>{$=null!=t?t:C,n()}))),()=>$({list:m,className:v,actions:P,styleMap:x,listColumns:y,slots:b,cache:d,html:r,vido:t,props:e})}class R{constructor(t,e){let o=!1,s=e.state.get("$data.elements.list-columns");void 0===s&&(s=[],o=!0),s.includes(t)||(s.push(t),o=!0),o&&e.state.update("$data.elements.list-columns",s,{only:null})}destroy(t,e){e.state.update("$data.elements.list-columns",(e=>e.filter((e=>e!==t))),{only:null})}}function k(t,e){const{api:o,state:s,onDestroy:i,onChange:a,cache:n,Actions:l,update:r,createComponent:c,reuseComponents:d,html:u,StyleMap:h}=t,m=[];let g,f;m.push(s.subscribe("config.components.ListColumnRow",(t=>g=t))),m.push(s.subscribe("config.components.ListColumnHeader",(t=>f=t)));const p=Object.assign(Object.assign({},e),{api:o,state:s,componentName:"list-column"}),w={column:e.column,state:s,api:o,componentName:"list-column-headers"},v={api:o,state:s,componentName:"list-column-rows"},b="list-column",y="list-column-rows",x=o.getActions(b),W=o.getActions(y),D=o.getClass(b,e.column.id),P=o.getClass("list-column-rows-offset",e.column.id),C=o.getClass(y,e.column.id);let $,S=o.getId(b,e&&e.column?e.column.id:"");const M=new h({width:"","--width":""}),I=new h({height:""}),z=new h({"margin-top":"0px"});let k=s.get("config.additionalSpace");const L=o.generateSlots(b,t,e);let A;function O(){if(!e||!e.column)return;const t=s.get("config.list");if(!t.columns.data[e.column.id])return;$=t.columns.data[e.column.id].width*t.columns.percent*.01,A=$;const i=Math.round(o.getRealChartHeight());M.style.width=A+"px",M.style["--width"]=A+"px",z.style.height=i+"px",I.style.top=s.get("config.headerHeight")+k.top+"px"}i(s.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar","$data.list.width","$data.list.visibleRowsHeight","config.additionalSpace.top"],O,{group:!0}));const G=c(f,e);i(G.destroy);const H=[],T={};function N(){var t;if(!e||!e.column)return;s.mute(N);const i=s.get("$data.list.visibleRows")||[],a=o.getRows(i),n=o.getRowsData();for(const o of a){const s=T[o.id]=null!==(t=T[o.id])&&void 0!==t?t:{};s.column=e.column,s.row=o,s.rowData=n[o.id],s.width=A}for(const t in T)i.includes(t)||delete T[t];d(H,a,(t=>t&&T[t.id]),g,!0),L.change(e),s.unmute(N)}a((t=>{if((e=t)&&e.column&&e.column.id){S=o.getId(b,e&&e.column?e.column.id:"");for(const t in e)p[t]=e[t];O(),G.change(e),N()}})),i(s.subscribeAll(["$data.list.visibleRows","$data.list.visibleRowsHeight","$data.list.rows","config.list.rows","config.chart.items.*.height","config.chart.items.*.rowId","config.chart.items.*.time"],N,{group:!0,bulkValue:!1})),i(s.subscribe("$data.scroll.vertical.preciseOffset",(t=>{z.style.transform=`translateY(${Math.round(t)||0}px)`,r()}))),i(s.subscribe("config.additionalSpace",(t=>{k=t}))),i((()=>{H.forEach((t=>t.destroy())),m.forEach((t=>t()))})),x.push(R);const V=l.create(x,w),B=l.create(W,v);function E({className:t,classNameOffset:e,classNameContainer:o,containerStyleMap:s,offsetStyleMap:i,widthStyleMap:a,visibleRows:n,rowActions:l,elId:r,headerActions:c,ListColumnHeader:d,html:u,cache:h,vido:m,props:g}){return h(g&&g.column?L.html("outer",u`
              <div
                class=${t}
                data-gstcid=${g.column.id}
                data-actions=${c()}
                style=${a.directive()}
              >
                ${L.html("inner",u` ${d.html()}${L.html("container-outer",u`
        <div
          class=${o}
          data-gstcid=${g.column.id}
          data-actions=${l()}
          style=${s.directive()}
        >
          ${L.html("container-inner",u`
        <div class=${e} data-gstcid=${g.column.id} style=${i.directive()}>
          ${L.html("content",n.map((t=>t.html())))}
        </div>
      `)}
        </div>
      `)} `)}
              </div>
            `):null)}let j=E;return i(s.subscribe("config.templates.list-column",(t=>{j=null!=t?t:E,r()}))),()=>j({classNameOffset:P,offsetStyleMap:z,visibleRows:H,classNameContainer:C,containerStyleMap:I,rowActions:B,className:D,elId:S,headerActions:V,widthStyleMap:M,ListColumnHeader:G,html:u,cache:n,vido:t,props:e})}function L(t,e){const{api:o,state:s,onDestroy:i,cache:a,onChange:n,Actions:l,update:r,createComponent:c,html:d,StyleMap:u}=t,h="list-column-header",m=Object.assign(Object.assign({},e),{api:o,state:s,componentName:h}),g=o.getActions(h),f=[];let p;f.push(s.subscribe("config.components.ListColumnHeaderResizer",(t=>p=t)));const w=c(p,e);let v;f.push(s.subscribe("config.components.ListColumnRowExpander",(t=>v=t)));const b=c(v,e);i((()=>{w.destroy(),b.destroy(),f.forEach((t=>t()))}));const y=o.generateSlots(h,t,e),x=o.getClass(h),W=o.getClass(h+"-content");let D=o.getId(h,e.column.id);n((t=>{e=t;for(const t in e)m[t]=e[t];D=o.getId(h,e.column.id),w.change(e),b.change(e),y.change(t)}));const P=new u({height:"","--height":"","--paddings-count":""});i(s.subscribe("config.headerHeight",(()=>{const t=s.get("config");P.style.height=t.headerHeight+"px",P.style["--height"]=t.headerHeight+"px",P.style["--paddings-count"]="1",r()})));const C=l.create(g,m);function $({className:t,contentClass:e,styleMap:o,elId:s,cache:i,ListColumnRowExpander:a,ListColumnHeaderResizer:n,actions:l,slots:r,html:c,vido:d,props:u}){return i(!u||!u.column?null:r.html("outer",c`
              <div
                class=${t}
                data-gstcid=${u.column.id}
                style=${o.directive()}
                data-actions=${l()}
              >
                ${r.html("content",u.column.expander?c`
        <div class=${e}>${a.html()}${n.html(u.column)}</div>
      `:c` <div class=${e}>${n.html(u.column)}</div> `)}
              </div>
            `))}let S=$;return i(s.subscribe(`config.templates.${h}`,(t=>{S=null!=t?t:$,r()}))),()=>S({className:x,contentClass:W,cache:a,styleMap:P,elId:D,ListColumnRowExpander:b,ListColumnHeaderResizer:w,actions:C,slots:y,html:d,vido:t,props:e})}function A(t,e){const{api:o,state:s,onDestroy:i,cache:a,update:n,html:l,Actions:r,onChange:c,PointerAction:d,StyleMap:u,unsafeHTML:h}=t,m="list-column-header-resizer",g=o.getActions(m),f=o.getActions(m+"-dots"),p={up:"",down:""};let w,v,b,y;i(s.subscribe("config.list.sort.icons",(t=>{p.up=o.getSVGIconSrc(t.up),p.down=o.getSVGIconSrc(t.down)}))),w=o.getClass(m),v=o.getClass(m+"-container"),b=o.getClass(m+"-dots"),y=o.getClass(m+"-dots-dot");const x=o.getClass(m+"-sort-icon");let W;const D=new u({});let P=!1;const C=o.generateSlots(m,t,e);let $=!0,S=0;const M={componentName:m,column:e.column,api:o,state:s,pointerOptions:{axis:"x",onMove:function({movementX:t,event:o}){if(!$)return;t&&(o.preventDefault(),o.stopPropagation());let i=s.get("config.list.columns.minWidth");"number"==typeof e.column.minWidth&&(i=e.column.minWidth),S+=t,S<i&&(S=i),P&&s.update(`config.list.columns.data.${e.column.id}.width`,S)}}};function I(){if(!e||!e.column||!e.column.id)return;M.column=e.column,w=o.getClass(m,e.column.id),v=o.getClass(m+"-container",e.column.id),b=o.getClass(m+"-dots",e.column.id),y=o.getClass(m+"-dots-dot",e.column.id),$=!("resizer"in e.column)||e.column.resizer;const t=s.get("config.list");W=S=e.column.width*t.columns.percent*.01,D.style["--width"]=t.columns.resizer.width+"px",P=t.columns.resizer.inRealTime,s.update("$data.list.width",W),C.change(e),n()}c((t=>{e=t,I()})),i(s.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","config.list.columns.resizer.inRealTime"],I,{group:!0}));let z=[1,2,3,4,5,6,7,8];i(s.subscribe("config.list.columns.resizer.dots",(t=>{z=[];for(let e=0;e<t;e++)z.push(e);n()})));let R=!0;function k(){e.column.sortable&&(R=!R,s.update("config.list.sort",(t=>(t.activeColumnId=e.column.id,t.asc=R,t))))}let L=!1;i(s.subscribe("config.list.sort",(t=>{if(t.activeColumnId===e.column.id)return R=t.asc,void(L=!0);L=!1}))),f.push(d);const A=r.create(g,M),O=r.create(f,M);function G({className:t,containerClass:e,iconClass:o,dotsClass:s,dotClass:i,dotsStyleMap:a,dots:n,onLabelClick:l,dotsActions:r,resizer:c,icons:d,sortActive:u,cache:h,asc:m,actions:g,slots:f,html:p,unsafeHTML:w,vido:v,props:b}){const y=!b||!b.column;function x(){return b.column.sortable&&u?m?p` <img src="${d.down}" class=${o} /> `:p` <img src="${d.up}" class=${o} /> `:null}function W(){return y?null:"function"==typeof b.column.header.content?b.column.header.content({column:b.column,vido:v}):b.column.header.content}return h(y?null:f.html("outer",p`
              <div class=${t} data-gstcid=${b.column.id} data-actions=${g()}>
                ${f.html("container-outer",c?y?null:p`
        <div class=${e} @click=${l}>
          ${f.html("content",b.column.header.html?w(b.column.header.html):W())}
          ${x()}
        </div>
        <div class=${s} style=${a.directive()} data-actions=${r()}>
          ${n.map((()=>p` <div class=${i} /> `))}
        </div>
      `:y?null:p`
        <div class=${e} @click=${l}>
          ${f.html("content",b.column.header.html?w(b.column.header.html):W())}
          ${x()}
        </div>
      `)}
              </div>
            `))}let H=G;return i(s.subscribe(`config.templates.${m}`,(t=>{H=null!=t?t:G,n()}))),()=>H({className:w,containerClass:v,onLabelClick:k,iconClass:x,cache:a,dotsClass:b,dotsStyleMap:D,dotsActions:O,dots:z,dotClass:y,resizer:$,icons:p,sortActive:L,asc:R,actions:A,slots:C,html:l,unsafeHTML:h,vido:t,props:e})}class O{constructor(t,e){let o=e.state.get("$data.elements.list-column-rows"),s=!1;void 0===o&&(s=!0,o=[]),o.includes(t)||(o.push(t),s=!0),s&&e.state.update("$data.elements.list-column-rows",o,{only:null})}destroy(t,e){e.state.update("$data.elements.list-column-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function G(t,e){const{api:o,state:s,onDestroy:i,cache:a,Actions:n,update:l,html:r,createComponent:c,onChange:d,StyleMap:u,unsafeHTML:h}=t,m="list-column-row",g=Object.assign(Object.assign({},e),{api:o,state:s,componentName:m});let f,p=!1;i(s.subscribe("config.components.ListColumnRowExpander",(t=>f=t)));const w=new u(e.column.expander?{height:"",top:"","--height":"","--expander-padding-width":"","--expander-size":""}:{height:"",top:"","--height":""}),v=c(f,{row:e.row}),b=o.getClass(m),y=o.getClass(m+"-content");let x=o.getClass(m);const W=o.generateSlots(m,t,e);let D;d((function(i,a){var n;if(a.leave||!i||void 0===i.row||void 0===i.column)return p=!0,W.change(i,a),void l();p=!1,e=i;for(const t in e)g[t]=e[t];if(!e.column||!e.row||!e.rowData)return p=!0,W.change(i,a),void l();if(void 0===e.column||void 0===e.row)return;D=e.column.isHTML?void 0===e.row?null:"function"==typeof e.column.data?h(e.column.data({row:e.row,vido:t})):"function"==typeof e.row[e.column.data]?h(e.row[e.column.data]({row:e.row,vido:t})):h(e.row[e.column.data]):void 0===e.row?null:"function"==typeof e.column.data?e.column.data({row:e.row,vido:t}):"function"==typeof e.row[e.column.data]?e.row[e.column.data]({row:e.row,vido:t}):e.row[e.column.data];const r=s.get("config.list.expander");for(const t in w.style)delete w.style[t];w.style.height=e.rowData.outerHeight+"px",w.style["--height"]=e.rowData.outerHeight+"px",e.column.expander&&(w.style["--expander-padding-width"]=r.padding*(e.rowData.parents.length+1)+"px");const c=s.get("config.list.rows");for(const t of e.rowData.parents){const e=c[t];if("object"==typeof e.style&&"Object"===e.style.constructor.name&&"object"==typeof e.style.children){const t=e.style.children;for(const e in t)w.style[e]=t[e]}}if(null===(n=null==e?void 0:e.row)||void 0===n?void 0:n.style)for(const t in e.row.style)w.style[t]=e.row.style[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)x=o.getClass(m)+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const s=e.row.classNames({row:e.row,vido:t});Array.isArray(s)&&s.length&&(x=o.getClass(m)+" "+s.join(" "))}}else x=b;v&&v.change(e),W.change(e,a),l()})),i((()=>{v&&v.destroy()}));const P=o.getActions(m);P.includes(O)||P.push(O);const C=n.create(P,g);function $({classNameCurrent:t,classNameContent:e,styleMap:o,cache:s,shouldDetach:i,content:a,ListColumnRowExpander:n,slots:l,actions:r,html:c,vido:d,props:u}){return s(i||!u||!u.column||!u.row?null:l.html("outer",c`
              <div
                class=${t}
                data-gstcid=${u.row.id}
                style=${o.directive()}
                data-actions=${r()}
              >
                ${l.html("inner",c`
                    ${u.column.expander?n.html():null}
                    <div class=${e}>${l.html("content",a)}</div>
                  `)}
              </div>
            `))}let S=$;return i(s.subscribe("config.templates.list-column-row",(t=>{S=null!=t?t:$,l()}))),()=>S({classNameCurrent:x,cache:a,shouldDetach:p,styleMap:w,ListColumnRowExpander:v,classNameContent:y,slots:W,actions:C,content:D,html:r,vido:t,props:e})}function H(t,e){const{api:o,state:s,onDestroy:i,Actions:a,html:n,cache:l,createComponent:r,onChange:c,update:d}=t,u="list-column-row-expander",h=o.getActions(u),m=Object.assign(Object.assign({},e),{api:o,state:s,componentName:u}),g=o.getClass(u);let f;const p=s.subscribe("config.components.ListColumnRowExpanderToggle",(t=>f=t)),w=r(f,e);i((()=>{w.destroy(),p()}));const v=o.generateSlots(u,t,e);e.row&&c((function(t){if((e=t)&&e.row&&e.rowData){for(const t in e)m[t]=e[t];w.change(e),v.change(t),d()}}));const b=a.create(h,m);function y({className:t,ListColumnRowExpanderToggle:e,slots:o,actions:s,html:i,cache:a,vido:n,props:l}){return a(!l||!l.row?null:o.html("outer",i`
              <div class=${t} data-gstcid=${l.row.id} data-action=${s()}>
                ${o.html("content",e.html())}
              </div>
            `))}let x=y;return i(s.subscribe(`config.templates.${u}`,(t=>{x=null!=t?t:y,d()}))),()=>x({className:g,ListColumnRowExpanderToggle:w,slots:v,actions:b,html:n,cache:l,vido:t,props:e})}function T(t,e){const{api:o,state:s,cache:i,onDestroy:a,Actions:n,update:l,html:r,onChange:c}=t,d="list-column-row-expander-toggle",u=Object.assign(Object.assign({},e),{api:o,state:s,componentName:d}),h=o.getActions(d),m=o.getClass(d),g=o.getClass(d+"-child"),f=o.getClass(d+"-open"),p=o.getClass(d+"-closed");let w,v,b,y=!1;a(s.subscribe("$data.list.expander.icons",(t=>{t&&(w=t.child,v=t.open,b=t.closed),l()})));const x=o.generateSlots(d,t,e);e.row?(c((function(t){if(e&&e.row){e=t;for(const t in e)u[t]=e[t];y=e.row.expanded,x.change(t),l()}})),a((function(){}))):a(s.subscribe("config.list.rows.*.expanded",(function(t){for(const e of t)if(e.value){y=!0;break}l()}),{bulk:!0}));const W=n.create(h,u);function D(){y=!y,e.row?s.update(`config.list.rows.${e.row.id}.expanded`,y,{data:{name:"expanded",rowId:e.row.id,expanded:y}}):s.update("config.list.rows",(t=>{for(const e in t)t[e].expanded=y;return t}),{only:["*.expanded"]})}function P({className:t,classNameChild:e,classNameOpen:o,classNameClosed:s,expanded:i,iconChild:a,iconOpen:n,iconClosed:l,toggle:r,cache:c,slots:d,actions:u,html:h,vido:m,props:g}){return c(!g||!g.rowData||!g.row?null:d.html("outer",h`
              <div class=${t} data-gstcid=${g.row.id} data-action=${u()} @click=${r}>
                ${d.html("content",a?0===(null===(p=null===(f=g.rowData)||void 0===f?void 0:f.children)||void 0===p?void 0:p.length)?h` <img width="16" height="16" class=${e} src=${a} /> `:i?h` <img width="16" height="16" class=${o} src=${n} /> `:h` <img width="16" height="16" class=${s} src=${l} /> `:"")}
              </div>
            `));var f,p}let C=P;return a(s.subscribe(`config.templates.${d}`,(t=>{C=null!=t?t:P,l()}))),()=>C({className:m,classNameChild:g,iconChild:w,expanded:y,cache:i,classNameOpen:f,classNameClosed:p,iconOpen:v,iconClosed:b,toggle:D,slots:x,actions:W,html:r,vido:t,props:e})}function N(t,e={}){const{html:o,onDestroy:s,api:i,state:a,update:n,StyleMap:l,Actions:r,onChange:c}=t,d="list-toggle",u=i.getClass(d),h=Object.assign(Object.assign({},e),{api:i,state:a,componentName:d});let m={open:"",close:""};s(a.subscribe("$data.list.toggle.icons",(t=>{t&&(m=t,n())})));const g=new l({top:"0px"});s(a.subscribe("$data.scroll.vertical.preciseOffset",(t=>{g.style.top=(-1*Math.round(t)||0)+"px"})));let f=!0;s(a.subscribe("config.list.columns.percent",(t=>f=0!==t)));let p=!1;function w(){p=!0}function v(){p&&(p=!1,a.update("config.list.columns.percent",(t=>0===t?100:0)))}c((t=>{e=t;for(const o in t)h[o]=e[o]}));const b=i.getActions(d),y=r.create(b,h),x=i.generateSlots(d,t,e);function W({className:t,styleMap:e,pointerDown:o,pointerUp:s,open:i,toggleIconsSrc:a,actions:n,slots:l,html:r,vido:c,props:d}){return l.html("outer",r`
        <div
          class=${t}
          style=${e.directive()}
          @pointerdown=${o}
          @pointerup=${s}
          actions=${n()}
        >
          ${l.html("content",r` <img src=${i?a.close:a.open} /> `)}
        </div>
      `)}let D=W;return s(a.subscribe("config.templates.list-toggle",(t=>{D=null!=t?t:W,n()}))),()=>D({className:u,styleMap:g,pointerDown:w,pointerUp:v,open:f,toggleIconsSrc:m,actions:y,slots:x,html:o,vido:t,props:e})}function V(t,e={}){const{api:o,state:s,onDestroy:i,Actions:a,html:n,createComponent:l,update:r}=t,c="chart",d=[];let u,h,m;d.push(s.subscribe("config.components.ChartCalendar",(t=>u=t))),d.push(s.subscribe("config.components.ChartTimeline",(t=>h=t))),d.push(s.subscribe("config.components.ScrollBar",(t=>m=t)));const g=l(u);i(g.destroy);const f=l(h);i(f.destroy);const p=l(m,{type:"horizontal"});i(p.destroy);const w=l(m,{type:"vertical"});i(w.destroy),i((()=>{d.forEach((t=>t()))}));const v=o.getClass(c),b=o.getActions(c);let y=!1;i(s.subscribe("config.chart.time.calculatedZoomMode",(t=>y=t)));const x={handleEvent:function(t){t.type},passive:!1,capture:!1};let W,D=0;b.push((function(t){W||(W=new ResizeObserver((()=>{const e=t.offsetWidth,o=t.offsetHeight,i=e-s.get("config.scroll.horizontal.width"),a=s.get("config.headerHeight");D!==e&&(D=e,s.update("$data.chart.dimensions",(t=>(t.width=e,t.widthWithoutScrollBar=i,t.height=o,t.innerHeight=o-a,t))))})),W.observe(t),s.update("$data.elements.chart",t))})),i((()=>{W.disconnect()}));const P={api:o,state:s,componentName:c},C=a.create(b,P),$=o.generateSlots(c,t,e);function S({className:t,onWheel:e,ChartCalendar:o,ChartTimeline:s,ScrollBarVertical:i,calculatedZoomMode:a,ScrollBarHorizontal:n,actions:l,slots:r,html:c,vido:d,props:u}){return r.html("outer",c`
        <div class=${t} data-actions=${l()} @wheel=${e}>
          ${r.html("content",c`
              ${o.html()}${s.html()}${i.html()}
              ${a?null:n.html()}
            `)}
        </div>
      `)}let M=S;return i(s.subscribe("config.templates.chart",(t=>{M=null!=t?t:S,r()}))),()=>M({className:v,onWheel:x,ChartCalendar:g,ChartTimeline:f,ScrollBarVertical:w,calculatedZoomMode:y,ScrollBarHorizontal:p,actions:C,slots:$,html:n,vido:t,props:e})}function B(t,e){const{api:o,state:s,onDestroy:i,Actions:a,update:n,reuseComponents:l,html:r,StyleMap:c}=t,d="chart-calendar",u=o.getActions(d),h=Object.assign(Object.assign({},e),{api:o,state:s,componentName:d}),m=s.get("config.components.ChartCalendarDate"),g=o.getClass(d);let f;const p=new c({height:"","--headerHeight":"","margin-left":""});i(s.subscribe("config.headerHeight",(t=>{f=t,p.style.height=f+"px",p.style["--calendar-height"]=f+"px",n()})));let w=[],v=0;i(s.subscribe("$data.chart.time.levels",((t,e)=>{const i=s.get("$data.chart.time.levels");let a=0;if(i.length!==v){v=i.length,w.forEach((t=>t.forEach((t=>t.destroy())))),w=[];for(let t=0;t<v;t++)w.push([])}for(const t of i){if(!t.length)continue;let e="YYYY-MM-DD HH";switch(t[0].period){case"day":e="YYYY-MM-DD";break;case"week":e="YYYY-MM-ww";break;case"month":e="YYYY-MM";break;case"year":e="YYYY"}const s=o.time.date().format(e);l(w[a],t,(t=>t&&{level:a,date:t,currentDate:s,currentDateFormat:e}),m,!0),a++}n()}))),i((()=>{w.forEach((t=>t.forEach((t=>t.destroy()))))})),u.push((t=>{s.update("$data.elements.chart-calendar",t)}));const b=a.create(u,h),y=o.generateSlots(d,t,e);function x({className:t,styleMap:e,components:o,actions:s,slots:i,html:a,vido:n,props:l}){return i.html("outer",a`
        <div class=${t} data-actions=${s()} style=${e.directive()}>
          ${i.html("inner",o.length?o.map(((e,o)=>e&&e.length?a`
                        <div class=${t+"-dates "+t+`-dates--level-${o}`}>
                          ${i.html("content",e.map((t=>t.html())))}
                        </div>
                      `:null)):null)}
        </div>
      `)}let W=x;return i(s.subscribe("config.templates.chart-calendar",(t=>{W=null!=t?t:x,n()}))),()=>W({className:g,styleMap:p,components:w,actions:b,slots:y,html:r,vido:t,props:e})}class E extends s{constructor(t,e){super(),e.state.update("$data.elements.chart-calendar-dates",(e=>(void 0===e&&(e=[]),e.includes(t)||e.push(t),e)))}}function j(t,e){const{api:o,state:s,onDestroy:i,Actions:a,update:n,onChange:l,html:r,StyleMap:c,cache:d}=t,u="chart-calendar-date",h=o.getActions(u),m=o.getClass(u);let g,f="",p="";i(s.subscribe("config.chart.time",(t=>g=t)));const w=new c({width:"0px"},{schedule:!1});let v="";function b(){if(!e||!e.date)return;const t=s.get(`config.chart.calendarLevels.${e.level}`);w.style.width=e.date.currentView.width+"px",w.style.left=e.date.currentView.leftPx+"px";const o=t.find((t=>+g.zoom<=+t.zoomTo));f=e.date.current?" gstc-current":e.date.next?" gstc-next":e.date.previous?" gstc-previous":"",p=m+"-content "+m+`-content--${e.date.period}`+f,o.classNames&&Array.isArray(o.classNames)?(p+=" "+o.classNames.join(" "),v=" "+o.classNames.join(" ")):v="",n()}let y=!1;const x=o.generateSlots(u,t,e);let W,D,P;const C={date:e.date,period:e.period,api:o,state:s,componentName:u};l(((t,o)=>{if(o.leave)return y=!0,x.change(t,o),n();y=!1,D=e.level===g.level,P=D?m+"--main-date ":m+"--non-main-date ",e=t,C.date=e.date,C.period=e.period,W&&W(),W=s.subscribeAll(["$data.chart.time","config.chart.calendarLevels"],b,{bulk:!0}),x.change(t,o)})),i((()=>{W()})),h.includes(E)||h.push(E);const $=a.create(h,C);function S({className:t,mainClass:e,additionalClass:o,formatClassName:s,finalClassName:i,styleMap:a,cache:n,shouldDetach:l,actions:r,slots:c,html:d,vido:u,props:h}){return n(l||!h||!h.date?null:c.html("outer",d`
              <div
                class=${t+" "+t+`--${h.date.period} `+e+t+`--level-${h.level}`+o+s}
                style=${a.directive()}
                data-actions=${r()}
              >
                ${c.html("content",d`<div class=${i.trim()}>${h.date.formatted}</div>`)}
              </div>
            `))}let M=S;return i(s.subscribe(`config.templates.${u}`,(t=>{M=null!=t?t:S,n()}))),()=>M({className:m,mainClass:P,additionalClass:f,formatClassName:v,styleMap:w,finalClassName:p,cache:d,shouldDetach:y,actions:$,slots:x,html:r,vido:t,props:e})}function Y(t,e){const{api:o,state:s,onDestroy:i,Action:a,Actions:n,update:l,html:r,createComponent:c,StyleMap:d}=t,u="chart-timeline",h=Object.assign(Object.assign({},e),{api:o,state:s,componentName:u});let m,g,f;i(s.subscribe("config.components.ChartTimelineGrid",(t=>{m&&m.destroy(),m=c(t)}))),i((()=>{m&&m.destroy()})),i(s.subscribe("config.components.ChartTimelineItems",(t=>{g&&g.destroy(),g=c(t)}))),i((()=>{g&&g.destroy()})),i(s.subscribe("config.components.ListToggle",(t=>{f&&f.destroy(),f=c(t)}))),i((()=>{f&&f.destroy()}));const p=o.generateSlots(u,t,e),w=o.getClass(u),v=o.getClass("chart-timeline-inner");let b;i(s.subscribe("config.list.toggle.display",(t=>b=t)));const y=new d({}),x=new d({});let W,D;i(s.subscribe("config.additionalSpace",(t=>{W=t,l()}))),i(s.subscribe("config.headerHeight",(t=>{D=t,l()}))),i(s.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.scroll.vertical.offset","$data.chart.dimensions.width","$data.list.visibleRowsHeight","$data.chart.time.dates.day","config.headerHeight","config.additionalSpace"],(function(){const t=s.get("$data.chart.dimensions.width"),e=Math.round(o.getRealChartHeight(!0));y.style.height=s.get("config.innerHeight")+"px",y.style["--height"]=y.style.height,y.style.top=W.top+D+"px",t?(y.style.width=t+"px",y.style["--width"]=t+"px"):(y.style.width="0px",y.style["--width"]="0px"),x.style.height=e+"px",x.style.width=t?t+"px":"0px";const i=s.get("$data.scroll.vertical.preciseOffset")||0;x.style.transform=`translateY(${Math.round(i)}px)`,l()}),{group:!0,bulkValue:!1}));let P=[];i(s.subscribe("config.actions.chart-timeline",(t=>{P=t}))),P.push(class extends a{constructor(t){super();s.get("$data.elements.chart-timeline")!==t&&s.update("$data.elements.chart-timeline",t)}});const C=n.create(P,h);function $({className:t,classNameInner:e,styleMap:o,innerStyleMap:s,Grid:i,Items:a,showToggle:n,ListToggle:l,actions:r,slots:c,html:d,vido:u,props:h}){return c.html("outer",d`
        <div class=${t} style=${o.directive()} data-actions=${r()}>
          ${c.html("inner",d`
              <div class=${e} style=${s.directive()}>
                ${c.html("content",d` ${i.html()}${a.html()}${n?l.html():""} `)}
              </div>
            `)}
        </div>
      `)}let S=$;return i(s.subscribe("config.templates.chart-timeline",(t=>{S=null!=t?t:$,l()}))),()=>S({className:w,styleMap:y,classNameInner:v,Grid:m,innerStyleMap:x,Items:g,showToggle:b,ListToggle:f,actions:C,slots:p,html:r,vido:t,props:e})}class _{constructor(t,e){e.state.get("$data.elements.chart-timeline-grid")!==t&&e.state.update("$data.elements.chart-timeline-grid",t,{only:null})}destroy(t,e){e.state.update("$data.elements",(t=>(delete t["chart-timeline-grid"],t)),{only:null})}}function q(t,e){const{api:o,state:s,onDestroy:i,Actions:a,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-grid",u=o.getActions(d),h={api:o,state:s,componentName:d},m=s.get("config.components.ChartTimelineGridRow"),g=o.getClass(d);let f,p;i(s.subscribe("config.chart.grid.cell.onCreate",(t=>f=t))),i(s.subscribe("config.debug",(t=>p=t)));const w=[],v={},b=new Map,y=new c({});i(s.subscribeAll(["$data.scroll.vertical.preciseOffset","$data.chart.dimensions.width","$data.chart.dimensions.heightWithoutScrollBar"],(function(){const t=s.get("$data.chart.dimensions.width"),e=o.getRealChartHeight();y.style.height=Math.round(e)+"px",y.style.width=t+"px"}),{group:!0}));let x="",W=0,D=0,P="",C=0,$="";i(s.subscribeAll(["$data.list.rowsHeight","$data.list.visibleRows","$data.list.visibleRowsHeight","$data.chart.time.levels","$data.scroll","config.list.rows;","config.list.rows.*;"],(function(e,i){const a=s.get("$data.chart.time"),n=s.get(`$data.chart.time.levels.${a.level}`),l=a.levels[a.level];if(!l||!l.length)return;const r=a.levels[a.level].map((t=>t.currentView.width)).join(",");if(!n||0===n.length)return void s.update("$data.chart.grid",{rows:{},cells:{}});const c=o.getRowsData(),d=s.get("$data.list.visibleRows"),u=d.map((t=>c[t].outerHeight)).join("|"),h=d.join("|");if(h===x&&W===a.leftGlobal&&D===a.rightGlobal&&u===P&&C===n.length&&$===r)return;W=a.leftGlobal,D=a.rightGlobal,$=r,P=u,p&&console.log("[grid.ts] generateCells");let m=0;if(h!==x)for(const t in v)delete v[t];else if(C!==n.length)for(const t in v)v[t].cells.length=0;C=n.length;const g=o.getAllRows(),w=s.get("$data.chart.grid.cells");for(const t in w)delete w[t];for(const e of d){const s=g[e],i=c[e];if(!s||!i)continue;let a,l;h!==x?a=[]:(a=v[e].cells,a.length=0);for(const e of n){let n;b.has(e.leftGlobal)?n=b.get(e.leftGlobal):(n=o.time.date(e.leftGlobal).format("YYYY-MM-DDTHH-mm-ss"),b.set(e.leftGlobal,n));const l=s.id+"-"+n;let r;w[l]?(r=w[l],r.id=l,r.time=e,r.row=s,r.rowData=i,r.top=m,r.vido=t,r.content=null):r={id:l,time:e,row:s,rowData:i,top:m,vido:t,content:null};for(const t of f)r.content=t(r);w[r.id]=r,a.push(r.id)}v[e]?(l=v[e],l.row=s,l.rowData=i,l.cells=a,l.top=m):l={row:s,rowData:i,cells:a,top:m},v[e]=l,m+=i.outerHeight}x=h,s.update("$data.chart.grid",{rows:v,cells:w})}),{group:!0,bulkValue:!1})),i(s.subscribe("$data.chart.grid",(function(t,e){p&&console.log("[grid.ts] generate rows components",e);const s=o.getGridRows();r(w,s||[],(t=>t),m,!0),n()}),{group:!0})),i((()=>{w.forEach((t=>t.destroy()))})),u.push(_);const S=a.create(u,h),M=o.generateSlots(d,t,e);function I({className:t,styleMap:e,rowsComponents:o,actions:s,slots:i,html:a,vido:n,props:l}){return i.html("outer",a`
        <div class=${t} data-actions=${s()} style=${e.directive()}>
          ${i.html("content",o.map((t=>t.html())))}
        </div>
      `)}let z=I;return i(s.subscribe(`config.templates.${d}`,(t=>{z=null!=t?t:I,n()}))),()=>z({className:g,styleMap:y,rowsComponents:w,actions:S,slots:M,html:l,vido:t,props:e})}class F{constructor(t,e){let o=!1,s=e.state.get("$data.elements.chart-timeline-grid-rows");void 0===s&&(s=[],o=!0),s.includes(t)||(s.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-grid-rows",s,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function J(t,e){const{api:o,state:s,onDestroy:i,cache:a,Actions:n,update:l,html:r,reuseComponents:c,onChange:d,StyleMap:u}=t,h="chart-timeline-grid-row",m=Object.assign(Object.assign({},e),{api:o,state:s,componentName:h});let g;i(s.subscribe("config.components.ChartTimelineGridRowCell",(t=>g=t)));const f=o.getActions(h),p=o.getClass(h),w=new u({height:e.row.height+"px"});let v=!1;const b=o.generateSlots(h,t,e),y=[];d((function(t,s){if(!t||s.leave||void 0===t.row)return v=!0,c(y,[],(t=>t),g,!0),b.change(t,s),void l();v=!1,e=t;const i=o.getGridCells(e.cells);if(c(y,i,(t=>t),g,!0),w.setStyle({}),w.style.height=e.rowData.outerHeight+"px",e.row.style)for(const t in e.row.style)w.style[t]=e.row.style[t];for(const t in e)m[t]=e[t];b.change(t,s)})),i((function(){y.forEach((t=>t.destroy()))})),-1===f.indexOf(F)&&f.push(F);const x=n.create(f,m);function W({className:t,styleMap:e,rowsCellsComponents:o,cache:s,shouldDetach:i,actions:a,slots:n,html:l,vido:r,props:c}){return s(i||!c||!c.row?null:n.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${a()}
                style=${e.directive()}
              >
                ${n.html("content",o.map((t=>t.html())))}
              </div>
            `))}let D=W;return i(s.subscribe(`config.templates.${h}`,(t=>{D=null!=t?t:W,l()}))),()=>D({className:p,styleMap:w,rowsCellsComponents:y,cache:a,shouldDetach:v,actions:x,slots:b,html:r,vido:t,props:e})}class K{constructor(t,e){let o=!1,s=e.state.get("$data.elements.chart-timeline-grid-row-cells");void 0===s&&(s=[],o=!0),s.includes(t)||(s.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-grid-row-cells",s,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-row-cells",(e=>e.filter((e=>e!==t))),{only:[""]})}}function Z(t,e){const{api:o,state:s,cache:i,Actions:a,html:n,onChange:l,onDestroy:r,StyleMap:c,update:d}=t,u="chart-timeline-grid-row-cell",h=Object.assign(Object.assign({},e),{api:o,state:s,componentName:u});let m=!1;const g=o.getActions(u),f=o.generateSlots(u,t,e);let p;function w(t){p=o.getClass(u),t&&t.time&&t.time.current&&(p+=" current")}w(e);const v=new c({width:"",height:""});l((function(t,o){var s,i;if(!t||o.leave||void 0===t.row)return m=!0,f.change(t,o),void d();m=!1,e=t;for(const t in e)h[t]=e[t];if(w(e),v.setStyle({}),e&&e.row){if(v.style.width=((null===(i=null===(s=null==e?void 0:e.time)||void 0===s?void 0:s.currentView)||void 0===i?void 0:i.width)||0)+"px",e.row.style)for(const t in e.row.style)v.style[t]=e.row.style[t];f.change(e,o),d()}})),g.push(K);const b=a.create(g,h);function y({className:t,styleMap:e,cache:o,shouldDetach:s,actions:i,slots:a,html:n,vido:l,props:r}){var c;return o(s||!r||!r.id?null:a.html("outer",n`
              <div class=${t} data-gstcid=${r.id} data-actions=${i()} style=${e.directive()}>
                ${a.html("content",null!==(c=r&&r.content)&&void 0!==c?c:null)}
              </div>
            `))}let x=y;return r(s.subscribe(`config.templates.${u}`,(t=>{x=null!=t?t:y,d()}))),()=>x({className:p,styleMap:v,cache:i,shouldDetach:m,actions:b,slots:f,html:n,vido:t,props:e})}function U(t,e={}){const{api:o,state:s,onDestroy:i,Actions:a,update:n,html:l,reuseComponents:r,StyleMap:c}=t,d="chart-timeline-items";let u,h;i(s.subscribe(`config.actions.${d}`,(t=>u=t))),i(s.subscribe("config.components.ChartTimelineItemsRow",(t=>h=t)));const m=o.getClass(d),g=new c({});let f;i(s.subscribeAll(["$data.chart.dimensions.heightWithoutScrollBar","$data.chart.dimensions.width","$data.scroll.vertical.preciseOffset"],(function(){const t=s.get("$data.chart.dimensions.width"),e=o.getRealChartHeight();g.style.width=t+"px",g.style.height=e+"px"}),{group:!0})),i(s.subscribe("config.debug",(t=>f=t)));const p=[],w={};i(s.subscribeAll(["$data.list.visibleRows","config.list.rows","config.components.ChartTimelineItemsRow","config.chart.items","$data.chart.items"],(function t(){s.mute(t),f&&console.log("[items.ts] Updating item & rows components.");const e=s.get("$data.list.visibleRows")||[],i=o.getRows(e),a=o.getRowsData();for(const t of i)w[t.id]||(w[t.id]={}),w[t.id].row=t,w[t.id].rowData=a[t.id];for(const t in w)e.includes(t)||delete w[t];r(p,i,(t=>t?w[t.id]:null),h,!0),n(),s.unmute(t)}),{group:!0,bulkValue:!1})),i((()=>{p.forEach((t=>t.destroy()))}));const v={api:o,state:s,componentName:d},b=a.create(u,v),y=o.generateSlots(d,t,e);function x({className:t,styleMap:e,rowsComponents:o,actions:s,slots:i,html:a,vido:n,props:l}){return i.html("outer",a`
        <div class=${t} style=${e.directive()} data-actions=${s()}>
          ${i.html("content",o.map((t=>t.html())))}
        </div>
      `)}let W=x;return i(s.subscribe(`config.templates.${d}`,(t=>{W=null!=t?t:x,n()}))),()=>W({className:m,styleMap:g,rowsComponents:p,actions:b,slots:y,html:l,vido:t,props:e})}class Q{constructor(t,e){let o=!1,s=e.state.get("$data.elements.chart-timeline-items-rows");void 0===s&&(s=[],o=!0),s.includes(t)||(s.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-items-rows",s,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-rows",(e=>e.filter((e=>e!==t))),{only:null})}}function X(t,e){const{api:o,state:s,onDestroy:i,cache:a,Actions:n,update:l,html:r,onChange:c,reuseComponents:d,StyleMap:u}=t,h="chart-timeline-items-row",m=Object.assign(Object.assign({},e),{api:o,state:s,componentName:h});let g;i(s.subscribe("config.components.ChartTimelineItemsRowItem",(t=>g=t)));let f="";const p=[],w=new u({width:"",height:""});let v=!1;function b(t=e.rowData,o=null){const i=s.get("$data.chart");v=!1,w.style.width=i.dimensions.width+"px",e?(w.style.height=t.outerHeight+"px",w.style["--row-height"]=t.outerHeight+"px",l()):v=!0}function y(t,e){if(!t||!e)return v=!0,d(p,[],(()=>null),g,!0),l();const s=e.items;if(void 0===s)return v=!0,d(p,[],(()=>null),g,!0),b(),l();const i=o.getItems(s);i.sort(((t,e)=>t.time.start-e.time.start)),d(p,i,(e=>({row:t,item:e,itemData:e?o.getItemData(e.id):null})),g,!0),b(),l()}const x=o.getClass(h),W=o.generateSlots(h,t,e);c((function(o,s){if(s.leave||!o||void 0===o.row)return v=!0,d(p,[],(()=>null),g,!0),W.change(o,s),l();e=o;for(const t in e)m[t]=e[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)f=x+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const o=e.row.classNames({row:e.row,vido:t});Array.isArray(o)&&o.length&&(f=x+" "+o.join(" "))}}else f=x;y(e.row,e.rowData),W.change(o,s),l()})),i(s.subscribe("$data.chart.dimensions.width",(()=>y(e.row,e.rowData)))),i((()=>{p.forEach((t=>t.destroy()))}));const D=o.getActions(h);D.push(Q);const P=n.create(D,m);function C({classNameCurrent:t,styleMap:e,shouldDetach:o,itemComponents:s,actions:i,slots:a,cache:n,html:l,vido:r,props:c}){return n(o||!c||!c.row?null:a.html("outer",l`
              <div
                class=${t}
                data-gstcid=${c.row.id}
                data-actions=${i()}
                style=${e.directive()}
              >
                ${a.html("content",s.map((t=>t.html())))}
              </div>
            `))}let $=C;return i(s.subscribe(`config.templates.${h}`,(t=>{$=null!=t?t:C,l()}))),()=>$({cache:a,shouldDetach:v,classNameCurrent:f,styleMap:w,itemComponents:p,actions:P,slots:W,html:r,vido:t,props:e})}class tt{constructor(t,e){let o=!1,s=e.state.get("$data.elements.chart-timeline-items-row-items");void 0===s&&(s=[],o=!0),s.includes(t)||(s.push(t),o=!0),o&&e.state.update("$data.elements.chart-timeline-items-row-items",s,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-row-items",(e=>e.filter((e=>e!==t))),{only:null})}}function et(t,e){const{api:o,state:s,cache:i,onDestroy:a,Actions:n,update:l,html:r,onChange:c,unsafeHTML:d,StyleMap:u}=t;let h,m,g;a(s.subscribe("config.debug",(t=>g=t)));const f="chart-timeline-items-row-item";let p=0,w=0,v=!1,b="";const y=new u({width:"",height:"",left:"",top:""}),x=new u({}),W=new u({}),D={item:e.item,itemData:e.itemData,row:e.row,left:p,width:w,api:o,state:s,componentName:f},P=o.getClass(f),C=o.getClass(f+"-label"),$=o.generateSlots(f,t,e);let S,M=!1;function I(i=s.get("$data.chart.time")){var a;if($.change(e,{leave:!1}),v||0===i.levels.length||!i.levels[i.level]||0===i.levels[i.level].length)return M=!0,l();if(!e.item||!e.itemData)return M=!0,l();"verbose"===g&&(console.groupCollapsed("[items-row-item.ts] Update item (before)"),console.log({id:e.item.id,item:e.item}),console.trace(),console.groupEnd());const n=e.itemData;if(p=n.position.actualLeft,w=n.actualWidth,e.item.time.end<i.leftGlobal||e.item.time.start>i.rightGlobal||w<=0)return M=!0,n.detached=M,l();b=P,e.item.time.start<i.leftGlobal?(x.style.display="flex",b+=" "+o.getClass(f+"--left-cut")):x.style.display="none";const r=i.totalViewDurationPx<i.width?i.totalViewDurationPx:i.width;if(n.position.right>r?(W.style.display="flex",b+=" "+o.getClass(f+"--right-cut")):W.style.display="none",e.item.classNames)if(Array.isArray(e.item.classNames)&&e.item.classNames.length)b+=" "+e.item.classNames.join(" ");else if("function"==typeof e.item.classNames){const o=e.item.classNames({item:e.item,vido:t});Array.isArray(o)&&(b+=" "+o.join(" "))}const c=y.style.width,d=y.style.left,u=y.style.top,h=y.style.height;y.setStyle({});const m=o.isItemInViewport(e.item,i.leftGlobal,i.rightGlobal);if(M=!m,n.detached=M,m?(y.style.width=w+"px",y.style.left=p+"px",y.style.top=n.position.actualRowTop+"px",y.style.height=n.actualHeight+"px"):(y.style.width=c,y.style.left=d,y.style.top=u,y.style.height=h),null===(a=null==e?void 0:e.item)||void 0===a?void 0:a.style)for(const t in e.item.style)y.style[t]=e.item.style[t];D.left=p,D.width=w,"verbose"===g&&console.log("[items-row-item.ts] Update item (after)",{id:e.item.id,itemLeftPx:p,itemWidthPx:w,item:e.item}),l()}a(s.subscribe("config.chart.item.cutIcons",(t=>{S={left:o.getSVGIconSrc(t.left),right:o.getSVGIconSrc(t.right)}})));const z=o.getClass(f+"-cut"),R=()=>r`
    <div class=${z} style=${x.directive()}>
      <img src="${S.left}" width="18" height="18" class=${z+"-image"} />
    </div>
  `,k=()=>r`
    <div class=${z} style=${W.directive()}>
      <img src="${S.right}" width="18" height="18" class=${z+"-image"} />
    </div>
  `;c((function(t,o){if(o.leave||void 0===t.row||void 0===t.item)return v=!0,M=!0,$.change(t,o),l();M=!1,v=!1,(e=t).item.id===h&&e.row.id===m||(h=e.item.id,m=e.row.id),D.item=e.item,D.itemData=e.itemData,D.row=e.row,I(),$.change(t,o),l()}));const L=o.getActions(f);a(s.subscribe("$data.chart.time",I)),L.push(tt);const A=n.create(L,D);function O(){return e.item?e.item.isHTML?e.item&&e.item.label?"function"==typeof e.item.label?d(e.item.label({item:e.item,vido:t})):d(e.item.label):null:e.item&&e.item.label?"function"==typeof e.item.label?e.item.label({item:e.item,vido:t}):e.item.label:null:null}function G({className:t,labelClassName:e,styleMap:o,cache:s,shouldDetach:i,cutterLeft:a,cutterRight:n,getContent:l,actions:r,slots:c,html:d,vido:u,props:h}){return s(i||!h||!h.item?null:c.html("outer",d`
              <div
                class=${t}
                data-gstcid=${h.item.id}
                data-actions=${r()}
                style=${o.directive()}
              >
                ${c.html("inner",d`
                    ${a()}
                    <div class=${e}>${c.html("content",l())}</div>
                    ${n()}
                  `)}
              </div>
            `))}let H=G;return a(s.subscribe(`config.templates.${f}`,(t=>{H=null!=t?t:G,l()}))),()=>H({className:b,labelClassName:C,cache:i,shouldDetach:M,styleMap:y,cutterLeft:R,cutterRight:k,getContent:O,actions:A,slots:$,html:r,vido:t,props:e})}const ot=["main","scroll-bar","list","list-column","list-column-header","list-column-header-resizer","list-column-row","list-column-row-expander","list-column-row-expander-toggle","list-toggle","chart","chart-calendar","chart-calendar-date","chart-timeline","chart-timeline-grid","chart-timeline-grid-row","chart-timeline-grid-row-cell","chart-timeline-items","chart-timeline-items-row","chart-timeline-items-row-item"];function st(){const t={};return ot.forEach((e=>t[e]=[])),t}function it(){const t={};return ot.forEach((e=>t[e]=null)),t}function at(){const t={};return ot.forEach((e=>{t[e]={outer:[],inner:[],"container-outer":[],"container-inner":[],content:[]}})),t}const nt=i.mergeDeep;function lt(t){let e=function(t,e){return i.mergeDeep(t,e)};"function"==typeof t.merge&&(e=t.merge);const o=function(){const t=[{zoomTo:17,period:"day",periodIncrement:1,classNames:["gstc-date-medium gstc-date-left"],format:({timeStart:t})=>t.format("DD MMMM YYYY (dddd)")},{zoomTo:23,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM YYYY")},{zoomTo:24,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM 'YY")},{zoomTo:25,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMM YYYY")},{zoomTo:27,period:"year",periodIncrement:1,format:({timeStart:t})=>t.format("YYYY")},{zoomTo:100,period:"year",periodIncrement:1,format:()=>null}],e=[{zoomTo:16,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:17,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH")},{zoomTo:19,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t,className:e,vido:o})=>o.html`<span class="${e}-content gstc-date-bold">${t.format("DD")}</span> <span class="${e}-content gstc-date-thin">${t.format("dddd")}</span>`},{zoomTo:20,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("DD")}</div><div class="${o}-content gstc-date-small">${t.format("dddd")}</div>`},{zoomTo:21,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("DD")}</div><div class="${o}-content gstc-date-small">${t.format("ddd")}</div>`},{zoomTo:22,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:o})=>o.html`<div class="${e}-content gstc-date-top">${t.format("DD")}</div><div class="${e}-content gstc-date-extra-small">${t.format("ddd")}</div>`},{zoomTo:23,period:"week",main:!0,periodIncrement:1,format:({timeStart:t,timeEnd:e,className:o,vido:s})=>s.html`<div class="${o}-content gstc-date-top">${t.format("DD")} - ${e.format("DD")}</div><div class="${o}-content gstc-date-small gstc-date-thin">${t.format("ddd")} - ${e.format("dd")}</div>`},{zoomTo:25,period:"week",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,timeEnd:e,className:o,vido:s})=>s.html`<div class="${o}-content gstc-date-top gstc-date-small gstc-date-normal">${t.format("DD")}</div><div class="gstc-dash gstc-date-small">-</div><div class="${o}-content gstc-date-small gstc-date-normal">${e.format("DD")}</div>`},{zoomTo:26,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-month-level-1"],format:({timeStart:t,vido:e,className:o})=>e.html`<div class="${o}-content gstc-date-top">${t.format("MMM")}</div><div class="${o}-content gstc-date-small gstc-date-bottom">${t.format("MM")}</div>`},{zoomTo:27,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:o})=>o.html`<div class="${e}-content gstc-date-top">${t.format("MM")}</div><div class="${e}-content gstc-date-extra-small">${t.format("MMM")}</div>`},{zoomTo:28,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-big"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:29,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:30,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YY")},{zoomTo:100,period:"year",main:!0,periodIncrement:1,format:()=>null}];return{licenseKey:"",debug:!1,plugins:[],plugin:{},innerHeight:428,initialWidth:1024,additionalSpace:{top:0,bottom:0},headerHeight:72,autoInnerHeight:!1,components:{ScrollBar:I,List:z,ListColumn:k,ListColumnHeader:L,ListColumnHeaderResizer:A,ListColumnRow:G,ListColumnRowExpander:H,ListColumnRowExpanderToggle:T,ListToggle:N,Chart:V,ChartCalendar:B,ChartCalendarDate:j,ChartTimeline:Y,ChartTimelineGrid:q,ChartTimelineGridRow:J,ChartTimelineGridRowCell:Z,ChartTimelineItems:U,ChartTimelineItemsRow:X,ChartTimelineItemsRowItem:et},slots:at(),list:{rows:{},row:{height:40,gap:{top:0,bottom:0}},columns:{percent:100,resizer:{width:10,inRealTime:!0,dots:6},minWidth:50,data:{}},expander:{padding:18,size:20,icon:{width:16,height:16},icons:{child:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><ellipse ry="4" rx="4" id="svg_1" cy="12" cx="12" fill="#000000B0"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',closed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>'}},toggle:{display:!0,icons:{open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path stroke="null" d="m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path transform="rotate(-180 4.392796516418457,12) " stroke="null" d="m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>'}},sort:{compare:null,asc:!0,activeColumnId:null,icons:{up:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>'}}},scroll:{bodyClassName:"gstc-scrolling",horizontal:{width:20,minInnerSize:40,multiplier:3,precise:!1},vertical:{width:20,minInnerSize:40,multiplier:3,precise:!1}},chart:{time:{period:"day",from:0,to:0,zoom:20,leftGlobal:0,centerGlobal:0,rightGlobal:0,calculatedZoomMode:!1,onLevelDates:[],onCurrentViewLevelDates:[],onDate:[],allDates:[],additionalSpaceAdded:!1},calendarLevels:[t,e],grid:{cell:{onCreate:[]}},item:{gap:{top:4,bottom:4},rowTop:0,height:32,minWidth:10,overlap:!1,cutIcons:{left:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M20 9v6h-8v4.84L4.16 12L12 4.16V9h8z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12L12 19.84V15H4z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>'}},items:{},spacing:1},actions:st(),templates:it(),locale:{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:t=>{const e=["th","st","nd","rd"],o=t%100;return`[${t}${e[(o-20)%10]||e[o]||e[0]}]`}},utcMode:!1,merge:(t,e)=>i.mergeDeep({},t,e),useLast:!0,Promise:Promise,mute:[],version:"3.15.2"}}(),s=function(t,e,o){const s=o({},e.actions),i=o({},t.actions);let a=[...Object.keys(s),...Object.keys(i)];a=a.filter((t=>a.includes(t)));const n={};for(const t of a)n[t]=[],void 0!==s[t]&&Array.isArray(s[t])&&(n[t]=[...s[t]]),void 0!==i[t]&&Array.isArray(i[t])&&(n[t]=[...n[t],...i[t]]);return delete t.actions,delete e.actions,n}(t,o,e),a={config:e(o,t)};return a.config.actions=s,a}const rt={name:"gstc",GSTCID:b.GSTCID,isGSTCID:b.isGSTCID,sourceID:b.sourceID,fromArray(t){const e=this.GSTCID,o={};for(const s of t)s.id=e(s.id),"rowId"in s&&(s.rowId=e(s.rowId)),"parentId"in s&&(s.parentId=e(s.parentId)),o[s.id]=s;return o},stateFromConfig:function(t){return this.state=new l(lt(t),{delimiter:".",useMute:true,maxSimultaneousJobs:1e3,Promise:t.Promise,debug:!!t.debug,useCache:!1,useSplitCache:!0,useIndicesCache:!1,defaultBulkValue:!1})},wasmStateFromConfig:function(t,e="./wildcard_matcher_bg.wasm"){return r(this,void 0,void 0,(function*(){return this.state=new l(lt(t),{delimiter:".",useMute:true,maxSimultaneousJobs:1e3}),yield this.state.loadWasmMatcher(e),this.state}))},merge:nt,lithtml:a,html:a,vido:n,date:(o,s=!1)=>s?(t.extend(e),o?t.utc(o):t.utc()):o?t(o):t(),setPeriod(t){return this.state.update("config.chart.time.period",t),this.state.get("config.chart.time.zoom")},dayjs:t};function ct(t,e){const{api:o,onDestroy:s,state:i,update:a,StyleMap:n}=t,l=o.name;let r;s(i.subscribe("config.debug",(t=>r=t)));let c=!1;function d(t,e){"fullReload"!==e.options.data&&(m.fullReload(e),"subscribe"===e.type&&setTimeout(m.triggerLoadedEvent,0))}function u(t,e){["config","config.list.rows","config.chart.items"].includes(e.path.update)||(["config.list.rows.*.parentId"].includes(e.path.listener)?function(t,e){"subscribe"!==e.type&&"sortRowsByColumn"!==e.options.data&&"fullReload"!==e.options.data&&m.partialReload(!0,e)}(0,e):function(t,e){"subscribe"!==e.type&&"fullReload"!==e.options.data&&m.partialReload(!1,e)}(0,e))}function h(t=null,e){e&&"subscribe"===e.type||e&&e.options.data&&"updateVisibleItems"===e.options.data||m.minimalReload(e)}var m={className:D(l),styleMap:new n({}),initializePlugins(){const e=[];function o(){e.forEach((t=>t())),e.length=0}s(i.subscribe("config.plugins",(s=>{if(r&&console.log("Plugins changed. Destroying plugins..."),o(),r&&console.log("Plugins destroyed. Initializing plugins..."),void 0!==s&&Array.isArray(s))for(const o of s){const s=o(t);"function"==typeof s?e.push(s):s&&Object.prototype.hasOwnProperty.call(s,"destroy")&&e.push(s.destroy.bind(s))}r&&console.log("Plugins initialized.")}))),s(o)},heightChange(){if(o.isMutedMethod("heightChange"))return;const t=i.get("config"),e=i.get("config.scroll.horizontal.width"),s=t.innerHeight-e;i.multi(!0).update("$data.chart.dimensions.heightWithoutScrollBar",s).update("$data.chart.dimensions.innerHeight",t.innerHeight).update("$data.chart.dimensions.height",t.innerHeight+t.headerHeight).update("$data.height",t.innerHeight+t.headerHeight).done(),m.styleMap.style["--height"]=s+"px",m.styleMap.style.height=t.innerHeight+t.headerHeight+"px",o.calculateVerticalScrollSize(),a()},resizerActiveChange(t){c=t,m.className=D(o.name),c&&(m.className+=` ${o.name}__list-column-header-resizer--active`),a()},generateTreeFromVisibleRows(){if(o.isMutedMethod("generateTreeFromVisibleRows"))return;const t=o.getVisibleRowsId(),e=o.getAllRows(),s=o.getRowsData(),n={},l={},r=i.get("config.chart.items"),c={};for(const o of t){const t=e[o],i=s[o];l[o]=i,n[o]=t;for(const t of i.items)c[t]=r[t]}o.makeTreeMap(l,c,!0),a()},generateTree(t=!0){let e=i.get("$data.list.rowsIds");if(!e)return;e=e.slice();const s=i.get("config.list.rows");if(!t)return m.generateTreeFromVisibleRows();o.fillEmptyRowValues(s);let a=o.getAllRows();const n=o.getRowsData(),l=i.get("config.chart.items");o.makeTreeMap(n,l),a=o.sortRowsByChildren(Object.values(a).map((t=>t.id)));i.get("config").list.rows=a,o.prepareItems(l);const r=Object.keys(a);i.update("$data.list.rowsIds",r),o.setAllRowsIdsCache(r)},prepareExpanded(){if(o.isMutedMethod("prepareExpanded"))return;const t=o.getAllRows();if(!t)return;const e=o.generateRowsWithParentsExpanded(t);i.update("$data.list.rowsWithParentsExpanded",e)},generateVisibleRowsAndItems(){if(o.isMutedMethod("generateVisibleRowsAndItems"))return;const t=o.getVisibleRows(),e=i.get("$data.list.visibleRows")||[];let s=!0;t.length!==e.length?s=!0:t.length&&(s=t.join("|")!==e.join("|"));let n=i.multi(!0);s&&(n=n.update("$data.list.visibleRows",t));const l=[],c=o.getRowsData();for(const e of t){const t=c[e];for(const e of t.items)l.push(e)}const d=i.get("$data.chart.visibleItems")||[];l.join("|")!==d.join("|")&&(r&&console.log("Generate visible rows and items #4.",{visibleItemsId:l,currentVisibleItems:d}),n=n.update("$data.chart.visibleItems",l)),n.done(),a()},updateItemsVerticalPositions(){const t=o.getAllItems(),e=o.getItemsData(),s=o.getRowsData(),i=o.getVisibleRows(),a=[];for(const t of i){const e=s[t];if(e)for(const t of e.items)a.includes(t)||a.push(t)}for(const i of a){const a=t[i];a&&o.calculateItemVerticalPosition(i,e[i],s[a.rowId])}},getMutedListeners(){const t=[];return i.isMutedListener(d)&&t.push(d),i.isMutedListener(u)&&t.push(u),i.isMutedListener(h)&&t.push(h),t},triggerLoadedEvent(){Promise.resolve().then((()=>{const t=i.get("$data.elements.main");if(!t)return;const e=t.parentNode;if(!e)return;const o=new Event("gstc-loaded");t.dispatchEvent(o),e.dispatchEvent(o)}))},getLastPageDatesWidth(t,e){if(0===e.length)return 0;let o=0,s=0;if(e.length){if(Math.ceil(e[e.length-1].rightPx)>t)for(let i=e.length-1;i>=0;i--){const a=e[i];if(o+=a.width,o>=t){o-=a.width;break}s++}}return i.update("$data.scroll.horizontal",(t=>(t.lastPageSize=o,t.lastPageCount=s,t))),o},generatePeriodDates(e,s,i,a){const n=e.period,l=s.fromDate,r=s.toDate,c=o.time.generatePeriodDates({leftDate:l,rightDate:r,level:i,levelIndex:a,period:n,time:s,callOnDate:!1,callOnLevelDates:!0}),d=D("chart-calendar-date");for(const o of c)o.formatted=e.format({timeStart:o.leftGlobalDate,timeEnd:o.rightGlobalDate,vido:t,className:d,props:{date:o}});return c},limitGlobal:(t,e)=>(t.centerGlobal=e.centerGlobal,t.centerGlobalDate=e.centerGlobalDate,t),setCenter(t){let e=Math.floor(t.rightGlobalDate.diff(t.leftGlobalDate,"millisecond",!0)/2);const s=o.time.getRightViewDate(t);s&&(s.width!==s.currentView.width&&(e-=(s.width-s.currentView.width)*t.timePerPixel),t.centerGlobalDate=t.leftGlobalDate.add(e,"millisecond"),t.centerGlobal=t.centerGlobalDate.valueOf())},guessPeriod(t,e){if(!t.zoom)return t;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));e&&e.main&&(t.period=e.period)}return r&&console.log("[main.ts] guessPeriod",t.period,{time:t}),t},getFormatAndLevelIndexForZoom(t,e=i.get("config.chart.calendarLevels")){let o=0,s=0;for(const i of e){for(const e of i)if(e.main&&t<=e.zoomTo)return s=o,{levelIndex:s,format:e};o++}if(!s)throw new Error(`There is no main date format for zoom ${t}.`)},generateAllDates(t,e){if(!t.zoom)return 0;t.allDates=new Array(e.length);const{format:o,levelIndex:s}=m.getFormatAndLevelIndexForZoom(t.zoom,e);t.level=s,t.allDates[t.level]=m.generatePeriodDates(o,t,e[s],t.level);let i=0;for(const o of e){const e=o.find((e=>+t.zoom<=+e.zoomTo));i!==t.level&&(t.allDates[i]=m.generatePeriodDates(e,t,o,i)),i++}return t.allDates},getPeriodDates(t,e){if(!t.length)return[];const s=t.filter((t=>t.leftGlobal<e.rightGlobal&&t.rightGlobal>=e.rightGlobal||t.leftGlobal<=e.leftGlobal&&t.rightGlobal>e.leftGlobal||t.leftGlobal>=e.leftGlobal&&t.rightGlobal<=e.rightGlobal));if(!s.length)return[];let i=0;e.leftGlobal>s[0].leftGlobal&&(i=o.time.getDatesDiffPx(e.leftGlobalDate,s[0].leftGlobalDate,e,!0));let a=0;const n=s.length-1;return s.map(((t,o)=>(t.currentView={leftPx:a,rightPx:t.rightPx,width:t.width},i<0&&(t.currentView.width=t.width+i,t.currentView.leftPx=0,i=0),t.currentView.rightPx=t.currentView.leftPx+t.currentView.width,a+=t.currentView.width,o===n&&t.currentView.rightPx>e.width&&(t.currentView.rightPx=e.width,t.currentView.width=t.currentView.rightPx-t.currentView.leftPx),t)))},updateLevels(t,e){t.levels=[];let o=0;for(const s of e){const e=s.find((e=>+t.zoom<=+e.zoomTo));if(e.main&&(t.format=e,t.level=o),e){let i=m.getPeriodDates(t.allDates[o],t);t.onCurrentViewLevelDates.forEach((a=>{i=a({dates:i,format:e,time:t,level:s,levelIndex:o})})),t.levels.push(i)}o++}},calculateTotalViewDuration(t){let e=0,o=0;for(const s of t.allDates[t.level])e+=s.width,o+=s.rightGlobal-s.leftGlobal;t.totalViewDurationPx=e,t.totalViewDurationMs=o},calculateRightGlobal(t,e,s,a,n){const l=i.get("$data.chart.time"),r=t.endOf(l.period).valueOf(),c=o.time.findDateAtTime(r,s);if(!c)return t.valueOf();let d=s.indexOf(c),u=c.leftGlobal,h=0;for(let t=s.length;d<t;d++){const t=s[d];if(u=t.rightGlobal,h+=t.width,h+a>=e)break}return u+n},updateVisibleItems(t=i.get("$data.chart.time"),e=i.multi(!0)){r&&console.log("Updating visible items.",{});const s=i.get("$data.chart.visibleItems"),a=o.getItems(s);if(!a)return e;const n=o.getAllRows(),l=o.getRowsData(),c=o.getItemsData();if(!n)return e;if(!t.levels||!t.levels[t.level])return e;const d=i.get("config.chart.spacing");let u=!1;for(const s of a){if(!s)return e;const i=n[s.rowId],a=l[s.rowId];if(!i||!a)continue;const r=o.mergeDeep({},c[s.id]),h=r.position,m=o.calculateItemPosition(s.id,c[s.id],a,t,d,s);for(const t in h)if(m[t]!==h[t]){u=!0;break}if(!u)for(const t in r)if(c[s.id][t]!==r[t]){u=!0;break}}return u&&(e=e.update("$data.chart.items",(t=>t))),r&&console.log("Visible items updated.",{visibleItemsId:s,visibleItems:a}),e},recalculateTimes(t){if(o.isMutedMethod("recalculateTimes"))return;const s=i.get("config.chart.time");let n=e({},s);if(!(n.from&&n.to||Object.keys(i.get("config.chart.items")).length))return;n.fromDate=o.time.date(n.from).startOf(n.period),n.toDate=o.time.date(n.to).endOf(n.period);const l=o.getChartWidth(),r=i.get("config.chart.calendarLevels"),c=Object.assign({},i.get("$data.chart.time")),d=i.get("$data.scroll.horizontal");if(n.calculatedZoomMode&&l){if(n.totalViewDurationMs=o.time.date(n.to).diff(n.from,"millisecond"),n.timePerPixel=n.totalViewDurationMs/l,n.totalViewDurationPx=l,n.zoom=Math.log(n.timePerPixel)/Math.log(2),m.guessPeriod(n,r),c.zoom!==n.zoom||0===n.allDates.length||"utcMode"===t.name||"items"===t.name||"reload"===t.name||"from"===t.name||"to"===t.name||"calculatedZoomMode"===t.name){o.resetHorizontalScroll(),m.generateAllDates(n,r);const t=n.allDates[n.level];n.to=t[t.length-1].rightGlobal,n.toDate=o.time.date(n.to).endOf(n.period)}m.calculateTotalViewDuration(n),n.leftGlobal=n.from,n.leftGlobalDate=o.time.date(n.leftGlobal),n.rightGlobal=n.to,n.rightGlobalDate=o.time.date(n.rightGlobal)}else if(n.timePerPixel=Math.pow(2,n.zoom),"items"===t.name&&(n.from=t.from,n.to=t.to,n.fromDate=o.time.date(n.from).startOf(n.period),n.toDate=o.time.date(n.to).endOf(n.period)),n=o.time.recalculateFromTo(n),n.leftGlobal=n.from,n.leftGlobalDate=o.time.date(n.leftGlobal),c.zoom!==n.zoom||0===n.allDates.length||"utcMode"===t.name||"items"===t.name||"reload"===t.name||"from"===t.name||"to"===t.name||"calculatedZoomMode"===t.name){o.resetHorizontalScroll(),m.generateAllDates(n,r),m.calculateTotalViewDuration(n);const t=n.allDates[n.level];n.to=t[t.length-1].rightGlobal,n.toDate=o.time.date(n.to).endOf(n.period)}else n.totalViewDurationPx=c.totalViewDurationPx,n.totalViewDurationMs=c.totalViewDurationMs;const u=n.allDates[n.level];let h=!1;const g=i.get("$data.chart.time.recalculateTimesLastReason")||"",f=i.get("$data.scroll.horizontal.preciseOffset"),p=f*n.timePerPixel;if(!n.calculatedZoomMode){if(n.zoom===c.zoom&&"period"!==t.name||!c.centerGlobal){if("scroll"===t.name){let t=d.data;t||(t=u[0]),n.leftGlobal=t.leftGlobal-p,n.leftGlobalDate=o.time.date(n.leftGlobal)}}else{const t=l*n.timePerPixel,e=Math.round(t/2),s=Math.ceil(c.centerGlobalDate.diff(c.centerGlobal+e,n.period,!0));n.leftGlobalDate=c.centerGlobalDate.add(s,n.period);const i=n.leftGlobalDate.valueOf();let a=o.time.findDateAtTime(i,u);a||(a=u[0]),n.leftGlobal=a.leftGlobal-p,n.leftGlobalDate=o.time.date(n.leftGlobal),n.rightGlobal=m.calculateRightGlobal(n.leftGlobalDate,l,u,f,p),n.rightGlobalDate=o.time.date(n.rightGlobal),n.rightGlobal=n.rightGlobalDate.valueOf()}n.rightGlobal=m.calculateRightGlobal(n.leftGlobalDate,l,u,f,p),n.rightGlobalDate=o.time.date(n.rightGlobal),n.rightGlobal=n.rightGlobalDate.valueOf()}m.limitGlobal(n,c),o.calculateHorizontalScrollSize(),n.leftInner=n.leftGlobal-n.from,n.rightInner=n.rightGlobal-n.from,n.leftPx=0,n.rightPx=l,n.width=l,m.updateLevels(n,r),h="zoom"!==g&&"period"!==g&&"time"!==g,h&&m.setCenter(n);const w=n.levels[n.level];w&&w.length&&(n.leftPx=w[0].leftPx,n.rightPx=w[w.length-1].leftPx);let v=i.multi(!0).update("$data.chart.time",n).update("config.chart.time",(t=>(t.zoom=n.zoom,t.level=n.level,t.period=n.format.period,t.leftGlobal=n.leftGlobal,t.leftGlobalDate=n.leftGlobalDate,t.centerGlobal=n.centerGlobal,t.rightGlobal=n.rightGlobal,t.rightGlobalDate=n.rightGlobalDate,t.from=n.from,t.to=n.to,t.allDates=n.allDates,t.additionalSpaceAdded=n.additionalSpaceAdded,t)));v=m.updateVisibleItems(n,v),v=v.update("$data.chart.time.recalculateTimesLastReason",t.name),v.done(),a()},minimalReload(t){if(o.isMutedMethod("minimalReload"))return;o.muteMethod("minimalReload");const e=m.getMutedListeners();i.mute(d),i.mute(u),i.mute(h),i.collect(),o.calculateVisibleRowsHeights(),m.generateVisibleRowsAndItems(),m.updateVisibleItems().done(),i.executeCollected(),e.includes(d)||i.unmute(d),e.includes(u)||i.unmute(u),e.includes(h)||i.unmute(h),o.unmuteMethod("minimalReload"),a()},partialReload(t=!0,e){if(o.isMutedMethod("partialReload"))return;o.muteMethod("partialReload");const s=m.getMutedListeners();if(i.mute(d),i.mute(u),i.mute(h),t){const t=i.get("$data");t.list.rows={},t.chart.items={}}i.collect(),m.generateTree(t),m.prepareExpanded(),o.measureRows(),o.calculateVerticalScrollSize(),m.minimalReload(e),i.executeCollected(),s.includes(d)||i.unmute(d),s.includes(u)||i.unmute(u),s.includes(h)||i.unmute(h),o.unmuteMethod("partialReload"),a()},fullReload(t){if(o.isMutedMethod("fullReload"))return;i.update("$data.reloading",!0),o.muteMethod("fullReload");const e=m.getMutedListeners();i.mute(d),i.mute(u),i.mute(h),i.collect(),m.partialReload(!0,t),m.recalculateTimes({name:"reload"}),i.executeCollected(),e.includes(d)||i.unmute(d),e.includes(u)||i.unmute(u),e.includes(h)||i.unmute(h),o.unmuteMethod("fullReload"),i.update("$data.reloading",!1),a()}};s(i.subscribeAll(["config.innerHeight","config.headerHeight","config.scroll.vertical.width"],m.heightChange,{group:!0,bulkValue:!1})),s(i.subscribe("$data.list.columns.resizer.active",m.resizerActiveChange)),s(i.subscribeAll(["config;","config.chart.items;","config.list.rows;","config.list.rows.*;","config.chart.items.*;"],d,{group:!0,bulkValue:!1})),s(i.subscribeAll(["config.list.rows.*.parentId","config.chart.items.*.rowId","config.list.rows.*.expanded"],u,{group:!0,bulkValue:!1})),s(i.subscribeAll(["config.chart.items.*.time","config.chart.items.*.height","config.chart.items.*.top","$data.chart.dimensions.heightWithoutScrollBar","$data.list.rowsHeight"],h,{group:!0,bulkValue:!1})),s(i.subscribeAll(["$data.scroll.vertical.dataIndex","$data.scroll.vertical.preciseOffset"],(function(){i.collect(),m.generateVisibleRowsAndItems(),o.calculateVisibleRowsHeights(),m.updateItemsVerticalPositions(),m.updateVisibleItems().done(),i.executeCollected()}),{group:!0,bulkValue:!1})),s(i.subscribe("config.list.sort",(t=>{const e=i.get(`config.list.columns.data.${t.activeColumnId}`);e&&o.sortRowsByColumn(e,t.asc)}))),s(i.subscribeAll(["config.chart.items.*.time","config.chart.items.*;","config.chart.items.*.rowId"],(function(t,e){e.options.data&&"updateVisibleItems"===e.options.data||m.updateVisibleItems().done()}),{group:!0,bulkValue:!1}));const g={utcMode:!1,initialized:!1,zoom:0,period:"",scrollAbsolutePosPx:0,chartWidth:0,from:0,to:0,calculatedZoomMode:!1};return s(i.subscribeAll(["config.utcMode","config.chart.time","$data.chart.time","config.chart.calendarLevels","$data.scroll.horizontal.absolutePosPx","$data.chart.dimensions.width","config.chart.items.*.time"],(()=>{const t=function(){const t=i.get("config.utcMode"),e=i.get("config.chart.time"),o=i.get("$data.scroll.horizontal.absolutePosPx"),s=i.get("$data.chart.dimensions.width"),a=i.get("config.chart.time.calculatedZoomMode"),n=Object.assign({},g);return g.utcMode=t,g.zoom=e.zoom,g.period=e.period,g.from=e.from,g.to=e.to,g.scrollAbsolutePosPx=o,g.chartWidth=s,g.calculatedZoomMode=a,g.initialized?t!==n.utcMode?{name:"utcMode",oldValue:n.utcMode,newValue:t}:a!==n.calculatedZoomMode?{name:"calculatedZoomMode",oldValue:n.calculatedZoomMode,newValue:a}:e.zoom!==n.zoom?{name:"zoom",oldValue:n.zoom,newValue:e.zoom}:e.period!==n.period?{name:"period",oldValue:n.period,newValue:e.period}:e.from!==n.from?{name:"from",oldValue:n.from,newValue:e.from}:e.to!==n.to?{name:"to",oldValue:n.to,newValue:e.to}:o!==n.scrollAbsolutePosPx?{name:"scroll",oldValue:n.scrollAbsolutePosPx,newValue:o}:s!==n.chartWidth?{name:"chartWidth",oldValue:n.chartWidth,newValue:s}:{name:""}:(g.initialized=!0,{name:"all"})}();t.name&&m.recalculateTimes(t)}),{group:!0,bulkValue:!1})),s(i.subscribe("config.chart.items.:itemId.time",(t=>{const e=i.get("$data.chart.time"),s=o.getAllItems();let a=1/0,n=0;for(const o of t){const t=s[o.params.itemId];if(!t)return;if(t.time.start<e.from||t.time.end>e.to){let o=e.from,s=e.to;return t.time.start<e.from&&(o=t.time.start),t.time.end>e.to&&(s=t.time.end),m.recalculateTimes({name:"items",from:o,to:s})}t.time.start<a&&(a=t.time.start),t.time.end>n&&(n=t.time.end)}if(0===e.leftGlobal&&0===e.rightGlobal)return m.recalculateTimes({name:"items",from:a,to:n})}),{bulk:!0,bulkValue:!1})),t.api.main=m,m}function dt(t,e){const o=ut();return dt=function(e,s){let i=o[e-=154];if(void 0===dt.WUSRHK){var a=function(t){let e="",o="";for(let o,s,i=0,a=0;s=t.charAt(a++);~s&&(o=i%4?64*o+s:s,i++%4)?e+=String.fromCharCode(255&o>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let t=0,s=e.length;t<s;t++)o+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(o)};dt.dmNOFZ=a,t=arguments,dt.WUSRHK=!0}const n=o[0],l=e+n,r=t[l];return r?i=r:(i=dt.dmNOFZ(i),t[l]=i),i},dt(t,e)}function ut(){const t=["W6rhsf8","r8kWfSk9usHqWO8qtr0","DHvZWOK6WOu","y29UzMLNlMLUBMvYsgvPz2H0","DxbKyxrL","C3rYAw5NAwz5","WOalW6RdLGf/","zgf0yuLUzgv4","r8k4W4FdIa","CMvNAxn0zxjLzerVBwfPBNm","z2v0u2nYB2XStgvMDa","jdulWReWe1q","iMj9W4pdLN3cRvPCchxcTSk0","mJKXmJG4vgfxCLPr","zgf0yq","DgLTzq","W6RcImo6eSoK","WOa7qaqlWPLjW59a","W6v2FW/dHCk0rSk2W7yG","AM9PBG","mtjnAgnqB2O","CgfYzw50rwXLBwvUDa","c8oBEmoNyq","jJilWQCJaLq","WQpdRhNdUqFcNb1Qra","W5tdTSo7aCoF","DhLWzq","WOVcQ8kkWR/dTe/dGSo0W7FcTKxdSmoEzqDKsCkXwW","W7f1zWxcNa","WQtdSx7dPa","tgLJzw5ZzsbRzxKGy2HLy2SGBwvJAgfUAxnTig5VDcbSB2fKzwqGkhDHC20GzMLSzsKU","C2v0u2nYB2XSvg9W","W7xcMmoLbmo2WPlcNG","mJq2mtK5me1RsKnMCa","W41GWPNdRCkbWRO","WOqZvaCJWOnvW5LmcSk1ibxcM38","hCoal8kKwxJcHmoTjmksbSoFW6fmzZm","EbzwEGO","jeRdHmoHW4ZdI8o6dXO","zmklwq3cNNym","W5JcNL9CnSk5lG","WOFcPSkxWRZdR17cIq","xmkApCkDl8k/","zCkBsXlcNgCaE8ov","sw52ywXPzcbSAwnLBNnLigTLEsbBC2LNBMf0DxjLig1PC3nPBMDDlG","CMvWBgfJzq","p8o5kYlcPSkP","j8oygvhdIIDEtCoiW4vQcSoS","aL7cJWJdLuBcNq","Dg9tDhjPBMC","zgvZy3jPChrPB24","y3vZDg9Tzxi","DMvYC2LVBG","smkzkSkvpmk0","D2LKDgG","j2TYW4xdNx3dKMzkdghcNa","WP7cOCkw","D2fZBuLUAxrPywXPEMvK","vhjPywW","C3vIC3rY","W7D1BW3cNmk0","mtyWmduYn1r4wxvXqq","eSodW7ShWPjeWPFcOSodWP40W7pdHa","W7tcPCooWOSkW69reCkJn8opWR8","W5JcMLHjdCk4m8okW7i","y29UzMLNlMXPy2vUC2vlzxK","EHXpEaTi","W4VcML9fdCk4pSoBW6mlWRBcJdrZFW","DMvYDgLJywW","W5JcG8kkcCkfet4diahcQwVdQ8oKWQFcOmoMqmo9","bSohW7ObWO5zWQlcUSopWPW/","Dg9Rzw4","amoQFmoXgWHvWQK","z2v0u2nYB2XSvg9W","dmkxemkE","BbtdJ2pcGXRdUCk3WQ4","ngDSthHNuW","AgvPz2H0","W45XWPhdUCkq","lMuVyxyVE20+vxrlAfmTwfDLpwrKltKZrtD5sZLmzYO","W5NcGH7cL2Sr","vgHPCYbKB21HAw4GAxmGBM90ihjLz2LZDgvYzwqGkca","Aw5JBhvKzxm","W58Xa3a","vSkEkbVdPvNdTq","W7tcTCoyWQSkW69xh8kQ","C8kRWQFcLSk9xSoN","AH9XWOS8WQ4ydh7dKmkCWOO3W7Sg","FqvPWPO9WPWofG","z3/cKSks","y8kEtqdcI3a","WPCrW6xdHbXJW58","W4eMxSoWWRBcSW","W50Ph3WwrZdcU8kCW48","DMfSDwu","z2vUzxjHDgvtBg90CW","m2NcJCoEWQHZ","WRS8o1RdNCoLaCk1W4e9v8o6nq","WRpdTNxdRa3cIvPRtSoBlCoFW55GwmkbWQ4ljmkpoCo2W4S","kehcJfhcSJVdOSkFWPSmW7ndWRG","uMvNAxn0zxjLzcbKB21HAw5ZoIbBia","ww91CIbSAwnLBNnLigTLEsbPCYbUB3qGDMfSAwqGzM9YihrOAxmGChjVzhvJDcb2zxjZAw9UicHTywPVCIb1CgrHDgvZigfYzsbUB3qGywXSB3DLzcKU","C2HPzNrlzxK","zMv0y2G","zNvUy3rPB24","DxnLCL9Hz2vUDa","BmogAGSJieNdLmoVW5ZcNanJWOzkWQ4","rSoiqmoFcZHn","WQhdHCkRWPNdSa","z3n0yY1LCNjVCG","hCkAemksW6xdTmoygW","mJDfzNHyDxi","WPaFW7ZdHH0","W5NcGr/cHf4tW4lcGra","y29UzMLNlMf1Dg9jBM5LCKHLAwDODa","W7nFWPnkxevx","Aw5PDgLHBgL6zvbSDwDPBNm","hmkpfmkE","W4TRFq3cHmk4umoKW7u7qSoMfcyXpKHJqYLwWP7cI8oXt1tdHW/dHx3dJSo1pINdUCoVWRy","C2LNBMf0DxjL","yw5Jzxn0B3jpCMLNAw5Z","BwfPBG","mZu5odHjA0fPDem","BwvZC2fNzq","C3rHCNrZv2L0Aa","qCkYW4ddGCoAsW","zM9YrwfJAa","z2v0","C2v0uhvIBgLJs2v5","zg9TywLUCW","cCkff8ksW6/dUW","C2v0u2nYB2XStgvMDa","r1nuqZO","W6qZm8kdWOW","w8k2W4ldK8ol","EY8XWOdcNx7cSHbCcuxcKmo2lSkAtCodtCoGcCoxW78RW4WtCSomW7JdR8o5l20Jo8kcWQS","mY4Xns4Y","y29UzMLNlMHLywrLCKHLAwDODa","sw52ywXPzcbSAwnLBNnLigTLEs4","zgLYzwn0AxzL","WQpcPmoBWQWiWRnAfmkIbSooWRWkfh1SshKacu7dGG","WQRdN8kYWP3dQ8ozda","n8kUWQ/cKG","W5G9ewyrydFcRCkqW6lcNJK","BgvUz3rO","nda3ntm5t1LXDLbV","y2f0y2G","W6nFWPrDq1XnWORcUq","W4JdQmo6CCkgWQFcRCoDW4uNhCko","W6LnpmoHW6W","ChvZAa","W5/dSSoMbCoFAG","W4NdOCoUB8kcWR/cJmocW4KngSkposrWW6pdTCkUs8ketNGBWR4","mK1VwMjzDG","oHr7WPOZW58pdxZdGmkEWP0bW7ynW7blW4FdSmoUWPbk","u8kBWRfrW4qjW6lcQ8obWOevW5JdNa","WP3cL8kBeCknxdOBlapcOIRdP8k6W77cUSoWbmo1eCkSxmkcsSoHWPdcOaOLW6pcSsRdVG","efFcJZxdKuRcJmoWW4FcGGvUWPjHrSoMW78","Dg9Wtgv2zwXeB21HAw5Z","nSo+ldVdU8oOW7S","Fx7cK8kBW7q","tgLJzw5ZzsbOyxmGzxHWAxjLzc4","WPX0WPZdUmkuW7hcIsVcLqNdMsr/WQJcQ8ozWQD4WQFcTeRdUa","W5m5wmo+","oIqzWRyKbW","ECkyjqRdRKtdPgtcHSkDFMnbW4m7W4dcISkRlKlcLmorW7BdJ8okWOpcU8oGWPtcVmkGWQRdN8kjWQtdK18yACkCWRq","i0NdImoZW5BdQW","B2zMC2v0sgvPz2H0","iYmxWQW","CWzoBqTwW5ayW5uJ","B2zMC2v0v2LKDgG","EglcM8kkW68","W6PXFXZcM8oRg8oRW74HvCoGvdSXA1fPvgX5W53cG8oYbLRdHqVcJ3dcGmoNpJhdSCowWRuuW6P0fIe","r1nuqZOZoG","zYKSWPhcGG","W7hcK8o1g8oIWPhcNL4","AhjLzG","sw52ywXPzcbSAwnLBNnLigTLEsbBD3jVBMCGC2LNBMf0DxjLxs4","zgvJCNLWDa","W6bqWPXrqwbnWPVcTmkm","W6eIm8kFWP3dHrbyWOm","o2ZcK8kYW78QWPa","WO3dOmkAW7HjWQfCd8oVtmkEW4vdwZm/ux5sfu/dG8ktWQKhWPldGSo4WPBcHeL/j0OQECk0x8ojbCo9W6GGcwRcG8oyWOrgBrtdT2ixW61LWPW5fJPcqCoOWQ3cVCkcW7nQBaRdICovF201nSoCWOJcNCo8W7hcOmktWOZdUmk9o13dTc02W4muWPRdP8oEbtVdJSkBkSovlxJcPSk7W4NdJ1NcOSorrmo5aSkWW67cGJCBj2/cN0dcL10Tl8o3W5xcMrRcKqxcIZPeW7hdQr5aWQBdLSohWQn7nmkTdmoSW7tdPca0WQfDW4BcQmoOWRhdJbzmA8k5scfkBmkPu8kuumk5i8k8B8kqW57cLJzTWO1oW6yRy8k5omk+EmkoW5RcNv81zGnlWP07W6qeW5BdOMKmDCo4WOlcQSkyWR/cQLLTy8kzcmkHeSkmWOFdRSkDDbpdVwNcVMNdQ8owpCkyWOxcLSknW7VcUCoUWO7cQ1xdNwldRCkOW4LQWP8tW4fbW6NcPCktW4r7g1bxqcXfW5hdTmo5WRhdIsHNDtVcHwdcVCkOWPxdIW","BgfZDeLUzgv4t2y","luNdJmo8","W5ldVCo5Cmk8WRlcGSoDW4i0","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0ktuLhzK1bmeDdu3fhu0LIm0rrrujbuvvbqtrhtKfeq0jPuuTcz1fdA3zKCePvD0zcmMi2u0fkBgvwBeTzmwPcDaPkvxHyz2PevKjKtNPUzeiYAuvps2jzk0zkCdjomKOYEMPjq28YuvC1yMLxodDemhbpCvjevNK0nwv2BMP2A0vMcJbJC0KWtxr2m1HfAtv2vePen1reD053s09iwtm5owiXCfLRDtrSnxLcEtG2rKjtDKu3y2H5l01XA3HovLb5tvikq0XiBMjXwwvNn21UELGWzxvrsurbuufccI0Tls0Tru5eifbvqKXjqYblrvKTls0Tlq","DMfSAwrvBNrPBa","DxbKyxrLCW","jgrHDgeUzgLTzw5ZAw9UCW","gY8NW58","W7jwm8oOW6PhW6FcSq","q8kqkGBdPgJdTcRcMCkrAW","C3vIC2nYAwjL","n0xcI3BcMcFdQCkwWO8pW7a","vCoIx8kdWQpcTezlWRK","dmoaASoUALxdISkK","umkwWR9tW4ujW6lcG8onWRKsW7VdGa","vgHPCYbKB21HAw4GAxmGBM90ihjLz2LZDgvYzwqGjW","W75dWPvE","W7rKzXNcJCkEuG","amkcemklW7VcR8kduq","sCoOxCkbWQxcNW","lCoJpYxcOmkZWQhdIu0","nmovovW","adu2W5JcLJRcO8orjG","BgLJzw5Zzq","DgHLBG","o0HTWQbR","tgLZDgvK","eCk1W5ZcHSkbhq","iY4MW5xdIa","W4RcNrBcMNad","sCo/uCka","zM9SBg93","cN8sW7dcPmohabTtW6RdTmk6","DMvY","W5jkwdG","WRyyW54","DMvYAwz5","CgfYC2vFBgLJzw5Zzv9RzxK","nuzPWQLWWQhcKCkmoxNdLSkybqZdIGhdV8o1W5ldK07cNG","AhrTBa","zgLZy29UBMvJDa","b8oXtSo3hrjSWQCnuq","zZq1WRZcIZldUfn/fvZcKSkXlSkm","kuaTWO8aWQiFieG","wSkEomkol8kPWQRdJSk0ha","uCo4r8ko","ChjVzhvJDa","WPqHuWLhWOHoW59kgq","WQtcRCkhWRZdS1VcICk1W7/cP1xcV8otFKXQq8o4wmk/WQPehSkUot9/ubfEv002ySoBFa","gYu9W4ZcNtW","nuzPWQLWWQhcKCkzm2BdLCkEbaC","zgvZDhjVEq","BLLrjSkjW4pcKq","yxnZAwDU","AHL3WOS","Dg9ju09tDhjPBMC","BxvSDgLWBgLLCG","tgLJzw5ZzsbMB3iGzgLMzMvYzw50ihbYB2r1y3qGAgfZigjLzw4GChjVDMLKzwqU","W7/cMmoI","BSk5dCk/","gs89W4u","W7HPW5/dUGGDoCkeotm9WPPUWRi","Ag9YAxPVBNrHBa","CgLiW7rKqatcKmoBW4HowCol","zMLSztO","W5Drm8oHW7fqW6FdOLWoESoxW5SXeCkRWPGlWP4t","W4VcKKHCla","W6fiW7RdJW","jgrHDgeUzwXLBwvUDhmUCgfYzw50","y3jLyxrL","W75EWOnm","Dw5VyNnLCNzL","vmo+uCkuWOZcJfreWR4","W5JcMLHn","CNvSzxm","W4q6qmo4WRJcS8kX","yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK","W4yPgNS","W48TageaFsC","du/cLJa","aCoqW6WdWOHvWRBcJ8os","zg9TywLU","nmosn1CS","if0GlG","WPa9sqWdWOOsW55ggCk2jqm","zMxcNmksW7iPWQBdJW","C2fHCW","DMfSDwvpzG"];return(ut=function(){return t})()}function ht(t,e){const o=ut();return ht=function(e,s){let i=o[e-=154];if(void 0===ht.ILZLSE){var a=function(t){let e="",o="";for(let o,s,i=0,a=0;s=t.charAt(a++);~s&&(o=i%4?64*o+s:s,i++%4)?e+=String.fromCharCode(255&o>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let t=0,s=e.length;t<s;t++)o+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(o)};const e=function(t,e){let o,s,i=[],n=0,l="";for(t=a(t),s=0;s<256;s++)i[s]=s;for(s=0;s<256;s++)n=(n+i[s]+e.charCodeAt(s%e.length))%256,o=i[s],i[s]=i[n],i[n]=o;s=0,n=0;for(let e=0;e<t.length;e++)s=(s+1)%256,n=(n+i[s])%256,o=i[s],i[s]=i[n],i[n]=o,l+=String.fromCharCode(t.charCodeAt(e)^i[(i[s]+i[n])%256]);return l};ht.FJQsvk=e,t=arguments,ht.ILZLSE=!0}const n=o[0],l=e+n,r=t[l];return r?i=r:(void 0===ht.nzgZmR&&(ht.nzgZmR=!0),i=ht.FJQsvk(i,s),t[l]=i),i},ht(t,e)}function mt(t,e){function o(t,e){return ht(e-227,t)}const{api:s,state:i,onDestroy:a,Actions:n,createComponent:l,html:w,onChange:v,update:b}=t;let y;const x=ct(t,c);x[G(275,146)]();const W=it(664,651);let D;function P(t,e){return dt(e- -517,t)}a(i[G(302,223)](L(-722,"JIzi"),(t=>D=t)));const C=L(-567,"T*Xy"),$=w`
    <div class="gstc-error">
      <div style="font-weight: bold;margin-bottom:10px;">[ Connection error ]</div>
      An error occurred while trying to connect with license services for
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar" target="_blank"
        >gantt-schedule-timeline-calendar</a
      >
      component.<br /><br />
      If you are using <span class="gstc-code">Content-Security-Policy</span> header make sure you have added
      <span class="gstc-code">https://gstc.neuronet.io</span> address after space.<br />
      Example: <span class="gstc-code">Content-Security-Policy: connect-src self https://gstc.neuronet.io</span><br />
      More info
      <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank"
        >here</a
      >
      and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank">here</a><br /><br />
      If that doesn't help please contact your developer, search for similar
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar/issues">issues here</a> or create one. You
      can also contact us at <a href="mailto:neuronet@neuronet.io">neuronet@neuronet.io</a>
    </div>
  `,S=w`
    <div class="gstc-error">
      <div style="font-weight:bold; margin-bottom: 10px;">
        The gantt-schedule-timeline-calendar component will not work with local files (protocol file: ///)
      </div>
      <br /><br />
      Files needs to be served from http server like
      <a href="https://www.npmjs.com/package/http-server" target="_blank" rel="nofollow">http-server</a> or
      <a href="https://www.npmjs.com/package/sirv-cli" target="_blank" rel="nofollow">sirv-cli</a>
    </div>
  `,M=[];function I(t,e){return ht(t- -570,e)}let z,R;function k(t,e){return dt(e- -673,t)}function L(t,e){return ht(t- -949,e)}M[L(-749,"txmC")](i[st("TGVl",717)](st("M@nz",733),(t=>z=t))),M[k(-202,-323)](i[st("Xbj9",555)](ut("$@fR",655),(t=>R=t)));const A=l(z);a((()=>{var t,e;A&&A[(t=-727,e="GMDw",I(t- -397,e))]()}));const O=l(R);function G(t,e){return dt(e- -170,t)}a((()=>{var t,e;O&&O[(t="BfDS",e=1141,L(e-1900,t))]()})),a((()=>{var t,e;M[(t=-307,e=-308,G(e,t- -463))]((t=>t()))}));const{onDestroy:H,state:T,update:N,html:V,unsafeHTML:B}=t;var E=!0;const j=V`<strong>[gantt-schedule-timeline-calendar component]</strong><br /><br />`;function Y(t,e=""){const o=I(881-1233,"R^xw");return V` <div class="${o}">${j}${t}${e?V`<br />${B(e)}`:null}</div> `}function _(t){return r(this,void 0,void 0,(function*(){function o(t,e){return dt(t- -909,e)}function a(t,e){return ht(t-172,e)}function n(t,e){return dt(t- -931,e)}let l=location[r("TGVl",337)];function r(t,e){return ht(e- -53,t)}if(typeof location[o(-589,-712)]!==w(496,"pba^")){const t=location[D(-232,-359)];t[o(-565,-679)]&&(l=String(t[t[w(474,"H^iF")]-1]))}if(l[W("d9Og",-242)](c(553,640)))return E=!1,void(y=S);function c(t,e){return dt(t-377,e)}if(l=function(t){function e(t,e){return ht(t-513,e)}return(t=String(t))[(i=1075,a=1115,dt(i-830,a))](e(872,"rbd6"),"")[(o=1111,s=1105,dt(o-866,s))](e(914,"8KF3"),"");var o,s,i,a}(l),t[a(596,"Seu0")](c(750,832))){let h,m,g;if(e&&e[w(416,"GMDw")]&&typeof e[n(-674,-550)]===n(-627,-697))m=yield e[x("q%Xm",94)]()[x("Av*8",171)]((t=>{E=!1;const e=P(685-168,669);h=Y(e)}));else{E=!1;const t=n(-701,-754);h=Y(t)}if(h)return E=!1,void(y=h);try{const e=n(-652,-572);g=m[D(-132,-232)](t,e)}catch(t){E=!1;const e=c(715,817);return void(y=Y(e,t[a(404,"f[BH")]))}if(!g.ok){E=!1;const t=o(-571,-461);return void(y=Y(t,g[r("[hH2",158)]))}const f=g[n(-717,-626)];if(i[w(439,"Xbj9")](P(693,583),f),f[P(445,560)][x("QAvn",222)]!==r("d9Og",118)){E=!1;const t=n(-762,-695);return void(y=Y(t))}const p=s[w(315,"[Y0g")][w(423,"8KF3")]()[c(576,485)]();if(f[w(541,"&%f$")][x("oBPh",239)]<p){E=!1;const t=D(-191,-254);return void(y=Y(t))}if(f[r("hu#V",307)][n(-733,-703)]){const t=l[n(-548,-661)](":");t>-1&&(l=l[P(546,625)](0,t));const e=d(l);e[c(603,693)]===u[c(786,813)]&&e[P(480,400)]&&e[W("O*Ay",-244)]&&(l=e[P(480,588)]+"."+e[P(645,562)][P(506,538)]("."))}if(!f[n(-745,-738)][w(440,"Av*8")][c(659,790)](l)){E=!1;const t=c(775,881)+l+"'.";return void(y=Y(t,P(587,574)+f[a(388,"f[BH")][x("Kn!v",200)][w(357,"H^iF")](", ")+n(-736,-824)))}if(!f[W("Bcq)",-49)][o(-521,-617)][W("M@nz",10)]){if(i[D(-225,-200)](r("M@nz",109))[W("oBPh",-65)](".")[0]!==f[P(445,322)][o(-657,-647)][w(377,"R^xw")](".")[0]){E=!1;const t=P(588,633);return void(y=Y(t))}}return}function w(t,e){return ht(t-149,e)}const v=a(408,"(enJ"),b=c(763,856);function x(t,e){return ht(e- -141,t)}function W(t,e){return ht(e- -398,t)}function D(t,e){return dt(t- -552,e)}function P(t,e){return dt(t-287,e)}if(t){if(t[P(611,553)](n(-599,-504)))return function(){let e=null;function s(t,e){return a(t- -812,e)}try{const o=t[z(-359,-424)](5),a=h[z(-313,-305)](o,v)[A(-730,-738)](g);e=JSON[w(108,"P7mh")](a),e&&i[$("R^xw",-456)](s(-354,"4@cW"),{for:e[$("[Y0g",-428)],domains:[...e[A(-650,-664)]],type:Object[M(-238,-352)]({},e[s(-323,"8KF3")]),validUntil:Object[s(-348,"QAvn")]({},e[S(632,670)])})}catch(t){}function m(t,e){return x(t,e-423)}if(!e||!e[A(-592,-647)]||!e[m("pba^",661)][z(-452,-389)]){E=!1;const t=w(15,"R^xw");return void(y=Y(t,C))}function w(t,e){return W(e,t-95)}function $(t,e){return x(t,e- -575)}if(!e[O(132,40)]){E=!1;const t=S(655,527);return void(y=Y(t,C))}function S(t,e){return c(e- -94,t)}function M(t,e){return n(e-414,t)}const I=function(t){function e(t,e){return r(t,e-755)}const s=Object[e("d9Og",955)]({},t);return delete s[e("rbd6",1105)],delete s[e("F(ET",894)],JSON[(i=-782,a=-894,o(i- -78,a))](s);var i,a}(e);function z(t,e){return D(e- -131,t)}if(!function(t,e){if(!t||!e)return!1;const o=new f({});var s,i,a,n;return o[(s=1330,i=1287,P(i-672,s))](b),o[(a=-285,n=-167,c(n- -963,a))](e,t,p)}(e[s(-423,"q%Xm")],I)){E=!1;const t=z(-303,-306);return void(y=Y(t,C))}const R=(new Date)[m("u&]Y",530)]();if(e[$("BfDS",-423)][$("%tV)",-438)]<R){E=!1;const t=m("Bcq)",459);y=Y(t,C)}else{if(e[M(-225,-291)][O(107,235)]===s(-330,"8KF3")||e[A(-753,-784)][$("H^iF",-382)]===$("u&]Y",-359)){const t=l[s(-246,"QMch")](":");t>-1&&(l=l[m("Av*8",488)](0,t));const e=d(l);e[s(-298,"ya$L")]===u[M(-147,-108)]&&e[(k="%FAX",L=1142,a(L-704,k))]&&e[z(-322,-325)]&&(l=e[s(-274,"weNl")]+"."+e[O(171,129)][m("weNl",666)]("."))}var k,L;if(e[m("QAvn",469)][s(-265,"f[BH")](l));else{E=!1;const t=A(-698,-791)+l+$("pba^",-298);y=Y(t,C)}}function A(t,e){return P(t- -1266,e)}function O(t,e){return D(t-365,e)}}();const e=c(713,637),S=encodeURIComponent,M=(new Date)[o(-742,-668)](),I=h[w(464,"pba^")](M,v),z=W("6UIV",-92),R=m(M+l,z,{keySize:16})[a(444,"Seu0")](),k=[S(n(-525,-488))+"="+S(t),S(w(331,"pba^"))+"="+S(l),S(D(-176,-206))+"="+S(location[r("pba^",346)]),S(w(343,"jLA!"))+"="+S(I),S(n(-515,-635))+"="+S(e),S(c(682,782))+"="+S(navigator[w(333,"VGPD")])][r("TGVl",119)]("&"),L=W("O*Ay",-63);window[w(386,"%FAX")](L,{method:x("R^xw",276),redirect:r("5mTj",359),headers:{"Content-Type":a(528,"Kdd6")},body:k})[P(694,715)]((t=>{function e(t,e){return r(e,t- -173)}return 200!==t[e(138,"[hH2")]&&(E=!1,y=$),t[e(142,"[hH2")]()}))[x("jLA!",263)]((r=>{function c(t,e){return w(t-851,e)}function d(t,e){return D(e- -71,t)}function u(t,e){return W(e,t-1172)}if(r&&r.ok)if(r[x(-169,"(enJ")]&&r[d(-300,-352)]===R)E=!0,i[c(1260,"R^xw")](d(-81,-217),(()=>{var t,e;var o,i,a,n,l,u;function h(t,e){return d(t,e-632)}function m(t,e){return v(t,e-216)}function g(t,e){return x(t-713,e)}return{registeredDomains:r[m(377,453)],validUntil:{text:r[h(311,396)],value:s[m(493,459)][g(507,"GMDw")](r[m(677,631)])[(l="R^xw",u=-399,c(u- -1799,l))]()},type:null!==(t=r[g(605,"BfDS")])&&void 0!==t?t:{text:h(297,267),value:(a=-165,n="O*Ay",c(a- -1539,n))},for:null!==(e=r[(o=264,i=259,v(i,o- -15))])&&void 0!==e?e:""}}));else{E=!1;const s=g("iJEd",371);y=Y(s,C);const i=g("R^xw",570),a=[S(b(587,"n!)*"))+"="+S(t),S(b(813,"TGVl"))+"="+S(l),S(g("VGPD",611))+"="+S(location[v(409,404)]),S(c(1256,"JIzi"))+"="+S(e),S(u(1169,"VGPD"))+"="+S(String(r[p(400,448)])),S(b(710,"[Y0g"))+"="+S(R),S(c(1385,"OttG"))+"="+S(navigator[x(-78,"5mTj")])][f(657,545)]("&");window[f(741,800)](i,{method:u(953,"iJEd"),redirect:p(476,591),headers:{"Content-Type":(h=827,m=886,o(m-1607,h))},body:a})}else if(r){E=!1;const t=B(r[v(294,351)][p(423,422)](/\n/gi,u(1184,"H^iF")));let e=null;r[c(1270,"F(ET")]&&(e=B(r[v(226,278)][g("Xbj9",437)](/\n/gi,g("hu#V",494))));const o=p(574,486);y=V` <div class="${o}"><strong>${j} ${t}</strong><br />${e}<br />${C}</div> `}else E=!1,y=$;var h,m;function g(t,e){return W(t,e-596)}function f(t,e){return n(t-1369,e)}function p(t,e){return o(e-1086,t)}function v(t,e){return D(e-580,t)}function b(t,e){return w(t-274,e)}function x(t,e){return a(t- -563,e)}N()}))[r("f(Tv",172)]((()=>{E=!1,y=$,N()}))}else{E=!1;const t=w(514,"&%f$"),e=W("q%Xm",-239);y=V` <div class="${e}">${j} ${t}${C}</div> `}}))}H(T[L(-664,"T*Xy")](it(614,595),(t=>{function e(t,e){return o(t,e- -1019)}var s,i;_(t)[e("$@fR",-563)]((()=>{N()}))[(s=628,i=605,it(i,s- -48))]((t=>{E=!1;const o=e("JIzi",-543-89);y=Y(o),N()})),N()})));const q={width:0,height:0},F={width:0,height:0};let J,K,Z,U;function Q(t){const e=t[o(1305,1273)];function o(t,e){return it(e,t-605)}const s=t[o(1302,1333)];function a(t,e){return st(e,t- -696)}function n(t,e){return k(t,e-1301)}(q[n(813,882)]!==e||q[a(18,"VGPD")]!==s)&&(q[n(948,882)]=e,q[a(-182,"[Y0g")]=s,i[a(-104,"5mTj")](n(925,1017),q))}function X(t,e){return dt(t- -491,e)}class tt{constructor(t){var e,s,a,n;!J&&(J=new ResizeObserver((()=>{Q(t)})),J[(a=328,n="JIzi",ut(n,a- -270))](t),i[(e=349,s=344,G(e,s-310))](o("Kdd6",1042-546),t),Q(t))}[G(148,34)](){}[P(-439,-354)](t){var e,o;J[(e=-395,o=-509,G(e,o- -522))](t)}}function et(t){function e(t,e){return k(e,t-505)}const o=t[e(202,322)],s=t[n(866,"OttG")];function a(t,e){return ut(e,t- -1216)}function n(t,e){return I(t-1088,e)}(F[a(-488,"hu#V")]!==o||F[e(109,48)]!==s)&&(F[n(696,"GMDw")]=o,F[a(-508,"f(Tv")]=s,i[e(36,79)](n(872,"[Y0g"),F))}!D[ut("Bcq)",748)](tt)&&D[L(-792,"VGPD")](tt);class ot{constructor(t){function e(t,e){return G(e,t-935)}var o,s,a,n;t=t[e(986,1094)],!K&&(K=new ResizeObserver((()=>{et(t)})),K[(a=-763,n="[hH2",ut(n,a- -1343))](t),i[(o=-464,s="d9Og",L(o-243,s))](e(945,843),t),et(t))}[I(-336,"%tV)")](){}[P(-471,-354)](t){var e,o,s,i;K[(s=427,i=321,G(i,s-414))](t[(e=894,o="F(ET",st(o,e-320))])}}function st(t,e){return ht(e-312,t)}function it(t,e){return dt(e-330,t)}!D[o("hu#V",424)](ot)&&D[k(-240,-323)](ot),a((()=>{var t,e,o,s;K[(t=-243,e=-327,k(e,t-7))](),J[(o=571,s=504,P(s,o-665))]()})),a(i[ut("BfDS",700)]([o("T*Xy",567),P(-104,-203)],(()=>{function t(t,e){return it(t,e- -1046)}function e(t,e){return st(e,t- -362)}function o(t,e){return G(t,e- -156)}if(i[(s=127,a="f[BH",L(s-906,a))](t(-294,-402))){const s=i[o(21,1)](e(312,"%tV)"));if(!s)return;i[t(-626,-512)](o(-42,-123),(()=>{var o,a,n,l,r,c;return s[(r=-669,c="TGVl",e(r- -780,c))]-i[(o=816,a=759,n=o- -456,l=a,X(n-1436,l))](t(1148,1279-1658))}))}var s,a}),{group:!0})),a(i[L(-725,"$@fR")](st("q%Xm",508),(t=>{var e,o,s,i,a,n,l,r;Z=t[(s=-359,i=-296,P(s,i-47))][(e="%FAX",o=1021,I(o-1222,e))],U=t[(l=325,r=273,G(r,l-227))][(a=638,n=682,k(a,n-1187))]})));const at={handleEvent(t){function e(t,e){return G(t,e-589)}const o=s[h(89,"OttG")](t);if(t[e(768,721)]||o.x){const t=o.x?o.x:o.y,c=s[e(594,629)]();return void(t>0?s[(n=568,l="QMch",L(n-1218,l))](c[h(1,"GMDw")]+Z):s[(i=32,a=124,P(i,a-310))](c[r(1197,1151)]-Z))}var i,a,n,l;function r(t,e){return k(e,t-1663)}const c=s[(d=-220,u=-221,k(u,d-180))]();var d,u;function h(t,e){return ut(e,t- -620)}o.y>0?s[h(0,"T*Xy")](c[r(1197,1167)]+U):s[e(526,650)](c[e(619,626)]-U)},passive:!0},nt=Object[st("rbd6",558)](Object[L(-619,"8KF3")]({},e),{api:s,state:i,componentName:W});v((t=>{for(const e in t)nt[e]=t[e]}));const lt=n[it(540,511)](D,nt),rt=s[k(-389,-378)](I(-381,"BfDS"),t,e);function ut(t,e){return ht(e-357,t)}return a(rt[X(-328,-321)]),()=>E?rt[G(295,252)](I(-262,"Kn!v"),w`
            <div
              data-info-url="https://github.com/neuronetio/gantt-schedule-timeline-calendar"
              class=${x[st("weNl",550)]}
              style=${x[o("(enJ",623)][P(-130,-178)]()}
              data-actions=${lt()}
              @wheel=${at}
            >
              ${rt[G(210,252)](ut("&%f$",641),w` ${A[o("hu#V",516)]()}${O[L(-758,"u&]Y")]()} `)}
            </div>
          `):y}let gt;!function(t,e){function o(t,e){return dt(e- -927,t)}function s(t,e){return dt(e- -43,t)}function i(t,e){return ht(t-898,e)}const a=ut();function n(t,e){return ht(e-823,t)}function l(t,e){return ht(e- -484,t)}for(;;)try{if(380569===-parseInt(o(-657,-582))/1*(parseInt(n("Seu0",1130))/2)+parseInt(n("Xbj9",1070))/3*(-parseInt(s(176,233))/4)+-parseInt((r=-347,c=-432,dt(r- -580,c)))/5+-parseInt(n("Seu0",1024))/6*(-parseInt(i(1173,"QMch"))/7)+-parseInt(i(1313,"P1Pv"))/8*(-parseInt(s(219,268))/9)+parseInt(l("O*Ay",-272))/10+parseInt(l("R^xw",-187))/11*(parseInt(o(-812,-707))/12))break;a.push(a.shift())}catch(t){a.push(a.shift())}var r,c}();const ft=new Array(32).fill(void 0);function pt(t){return ft[t]}ft.push(void 0,null,!0,!1);let wt=ft.length;function vt(t){const e=pt(t);return function(t){t<36||(ft[t]=wt,wt=t)}(t),e}let bt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});bt.decode();let yt=null;function xt(){return null!==yt&&yt.buffer===gt.memory.buffer||(yt=new Uint8Array(gt.memory.buffer)),yt}function Wt(t,e){return bt.decode(xt().subarray(t,t+e))}function Dt(t){wt===ft.length&&ft.push(ft.length+1);const e=wt;return wt=ft[e],ft[e]=t,e}let Pt=0,Ct=new TextEncoder("utf-8");const $t="function"==typeof Ct.encodeInto?function(t,e){return Ct.encodeInto(t,e)}:function(t,e){const o=Ct.encode(t);return e.set(o),{read:t.length,written:o.length}};function St(t,e,o){if(void 0===o){const o=Ct.encode(t),s=e(o.length);return xt().subarray(s,s+o.length).set(o),Pt=o.length,s}let s=t.length,i=e(s);const a=xt();let n=0;for(;n<s;n++){const e=t.charCodeAt(n);if(e>127)break;a[i+n]=e}if(n!==s){0!==n&&(t=t.slice(n)),i=o(i,s,s=n+3*t.length);const e=xt().subarray(i+n,i+s);n+=$t(t,e).written}return Pt=n,i}let Mt=null;function It(){return null!==Mt&&Mt.buffer===gt.memory.buffer||(Mt=new Int32Array(gt.memory.buffer)),Mt}async function zt(t){const e={wbg:{}};e.wbg.__wbindgen_object_drop_ref=function(t){vt(t)},e.wbg.__wbindgen_string_new=function(t,e){return Dt(Wt(t,e))},e.wbg.__wbindgen_json_parse=function(t,e){return Dt(JSON.parse(Wt(t,e)))},e.wbg.__wbg_new_693216e109162396=function(){return Dt(new Error)},e.wbg.__wbg_stack_0ddaca5d1abfb52f=function(t,e){var o=St(pt(e).stack,gt.__wbindgen_malloc,gt.__wbindgen_realloc),s=Pt;It()[t/4+1]=s,It()[t/4+0]=o},e.wbg.__wbg_error_09919627ac0992f5=function(t,e){try{console.error(Wt(t,e))}finally{gt.__wbindgen_free(t,e)}},e.wbg.__wbindgen_throw=function(t,e){throw new Error(Wt(t,e))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:o,module:s}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const o=await t.arrayBuffer();return await WebAssembly.instantiate(o,e)}{const o=await WebAssembly.instantiate(t,e);return o instanceof WebAssembly.Instance?{instance:o,module:t}:o}}(await t,e);return gt=o.exports,zt.__wbindgen_wasm_module=s,gt}var Rt=Object.freeze({__proto__:null,parse_license_key:function(t,e){var o=St(t,gt.__wbindgen_malloc,gt.__wbindgen_realloc),s=Pt,i=St(e,gt.__wbindgen_malloc,gt.__wbindgen_realloc),a=Pt;return vt(gt.parse_license_key(o,s,i,a))},default:zt});const kt=async function(t={}){let{importHook:e,serverPath:o}=t,s=new URL("assets/4f486027.wasm",import.meta.url).href;return null!=o&&(s=o+/[^\/\\]*$/.exec(s)[0]),null!=e&&(s=e(s)),await zt(s),Rt};function Lt(t){const e=t.state,o=new M(e),s={treeMap:{},itemRowMap:{},list:{visibleRows:[],rowsIds:[],rows:{},visibleRowsHeight:0,rowsWithParentsExpanded:[],rowsHeight:0,width:0},dimensions:{width:0,height:0},chart:{items:{},grid:{cells:{},rows:{}},dimensions:{width:0,widthWithoutScrollBar:0,height:0,innerHeight:0,heightWithoutScrollBar:0},visibleItems:[],time:{zoom:0,format:{period:"day",periodIncrement:1,zoomTo:0,format:()=>""},level:0,levels:[],allDates:[],timePerPixel:0,totalViewDurationMs:0,totalViewDurationPx:0,leftGlobal:0,rightGlobal:0,leftPx:0,rightPx:0,leftInner:0,rightInner:0,period:"day",leftGlobalDate:void 0,rightGlobalDate:void 0,centerGlobal:0,centerGlobalDate:void 0,from:0,to:0,fromDate:void 0,toDate:void 0,additionalSpaceAdded:!1}},scroll:{horizontal:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,data:null,preciseOffset:0,visible:!1},vertical:{lastPageSize:0,lastPageCount:0,absoluteSize:0,absoluteSizeWithoutLastPage:0,handlePosPx:0,innerHandleSize:0,absolutePosPx:0,maxHandlePosPx:0,scrollSize:0,dataIndex:0,data:null,preciseOffset:0,visible:!1}},elements:{}};"boolean"==typeof t.debug&&t.debug&&(window.state=e),e.update("",(t=>({config:t.config,$data:s})));const i=w(e,o);o.setVido(i),o.setMergeDeep(c);const a=i.createApp({component:mt,props:{wasmInitialized:kt},element:t.element});const n={state:e,api:a.vidoInstance.api,component:a,destroy:function(){a.destroy()},reload:function(){n.component.destroy(),n.component=i.createApp({component:mt,props:{wasmInitialized:kt},element:t.element}),n.api=a.vidoInstance.api,n.component.update()}};return n}const At=document.createTextNode("");document.createTextNode=function(t){const e=At.cloneNode(!0);return e.textContent=t,e}.bind(document);const Ot=document.createElement("div"),Gt=document.createElement.bind(document);document.createElement=function(t,...e){if("div"!==t)return Gt(t,...e);return Ot.cloneNode(!0)}.bind(document),Lt.api=rt;export{Lt as default};